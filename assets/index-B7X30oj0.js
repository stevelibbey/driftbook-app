(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();function rg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var fh={exports:{}},Cr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function Uv(){if(C_)return Cr;C_=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var d in c)d!=="key"&&(h[d]=c[d])}else h=c;return c=h.ref,{$$typeof:l,type:r,key:f,ref:c!==void 0?c:null,props:h}}return Cr.Fragment=e,Cr.jsx=i,Cr.jsxs=i,Cr}var E_;function Bv(){return E_||(E_=1,fh.exports=Uv()),fh.exports}var dt=Bv(),dh={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Lv(){if(O_)return bt;O_=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function O(x,B,P){this.props=x,this.context=B,this.refs=C,this.updater=P||S}O.prototype.isReactComponent={},O.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},O.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function N(){}N.prototype=O.prototype;function Y(x,B,P){this.props=x,this.context=B,this.refs=C,this.updater=P||S}var H=Y.prototype=new N;H.constructor=Y,T(H,O.prototype),H.isPureReactComponent=!0;var Q=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function E(x,B,P,tt,ct,lt){return P=lt.ref,{$$typeof:l,type:x,key:B,ref:P!==void 0?P:null,props:lt}}function D(x,B){return E(x.type,B,void 0,void 0,void 0,x.props)}function Z(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function W(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(P){return B[P]})}var I=/\/+/g;function G(x,B){return typeof x=="object"&&x!==null&&x.key!=null?W(""+x.key):B.toString(36)}function et(){}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(et,et):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function it(x,B,P,tt,ct){var lt=typeof x;(lt==="undefined"||lt==="boolean")&&(x=null);var ot=!1;if(x===null)ot=!0;else switch(lt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(x.$$typeof){case l:case e:ot=!0;break;case g:return ot=x._init,it(ot(x._payload),B,P,tt,ct)}}if(ot)return ct=ct(x),ot=tt===""?"."+G(x,0):tt,Q(ct)?(P="",ot!=null&&(P=ot.replace(I,"$&/")+"/"),it(ct,B,P,"",function(xe){return xe})):ct!=null&&(Z(ct)&&(ct=D(ct,P+(ct.key==null||x&&x.key===ct.key?"":(""+ct.key).replace(I,"$&/")+"/")+ot)),B.push(ct)),1;ot=0;var Vt=tt===""?".":tt+":";if(Q(x))for(var st=0;st<x.length;st++)tt=x[st],lt=Vt+G(tt,st),ot+=it(tt,B,P,lt,ct);else if(st=b(x),typeof st=="function")for(x=st.call(x),st=0;!(tt=x.next()).done;)tt=tt.value,lt=Vt+G(tt,st++),ot+=it(tt,B,P,lt,ct);else if(lt==="object"){if(typeof x.then=="function")return it($(x),B,P,tt,ct);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ot}function R(x,B,P){if(x==null)return x;var tt=[],ct=0;return it(x,tt,"","",function(lt){return B.call(P,lt,ct++)}),tt}function j(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(P){(x._status===0||x._status===-1)&&(x._status=1,x._result=P)},function(P){(x._status===0||x._status===-1)&&(x._status=2,x._result=P)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function nt(){}return bt.Children={map:R,forEach:function(x,B,P){R(x,function(){B.apply(this,arguments)},P)},count:function(x){var B=0;return R(x,function(){B++}),B},toArray:function(x){return R(x,function(B){return B})||[]},only:function(x){if(!Z(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},bt.Component=O,bt.Fragment=i,bt.Profiler=c,bt.PureComponent=Y,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,bt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return A.H.useMemoCache(x)}},bt.cache=function(x){return function(){return x.apply(null,arguments)}},bt.cloneElement=function(x,B,P){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var tt=T({},x.props),ct=x.key,lt=void 0;if(B!=null)for(ot in B.ref!==void 0&&(lt=void 0),B.key!==void 0&&(ct=""+B.key),B)!q.call(B,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&B.ref===void 0||(tt[ot]=B[ot]);var ot=arguments.length-2;if(ot===1)tt.children=P;else if(1<ot){for(var Vt=Array(ot),st=0;st<ot;st++)Vt[st]=arguments[st+2];tt.children=Vt}return E(x.type,ct,void 0,void 0,lt,tt)},bt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},bt.createElement=function(x,B,P){var tt,ct={},lt=null;if(B!=null)for(tt in B.key!==void 0&&(lt=""+B.key),B)q.call(B,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ct[tt]=B[tt]);var ot=arguments.length-2;if(ot===1)ct.children=P;else if(1<ot){for(var Vt=Array(ot),st=0;st<ot;st++)Vt[st]=arguments[st+2];ct.children=Vt}if(x&&x.defaultProps)for(tt in ot=x.defaultProps,ot)ct[tt]===void 0&&(ct[tt]=ot[tt]);return E(x,lt,void 0,void 0,null,ct)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(x){return{$$typeof:d,render:x}},bt.isValidElement=Z,bt.lazy=function(x){return{$$typeof:g,_payload:{_status:-1,_result:x},_init:j}},bt.memo=function(x,B){return{$$typeof:m,type:x,compare:B===void 0?null:B}},bt.startTransition=function(x){var B=A.T,P={};A.T=P;try{var tt=x(),ct=A.S;ct!==null&&ct(P,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(nt,J)}catch(lt){J(lt)}finally{A.T=B}},bt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},bt.use=function(x){return A.H.use(x)},bt.useActionState=function(x,B,P){return A.H.useActionState(x,B,P)},bt.useCallback=function(x,B){return A.H.useCallback(x,B)},bt.useContext=function(x){return A.H.useContext(x)},bt.useDebugValue=function(){},bt.useDeferredValue=function(x,B){return A.H.useDeferredValue(x,B)},bt.useEffect=function(x,B,P){var tt=A.H;if(typeof P=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(x,B)},bt.useId=function(){return A.H.useId()},bt.useImperativeHandle=function(x,B,P){return A.H.useImperativeHandle(x,B,P)},bt.useInsertionEffect=function(x,B){return A.H.useInsertionEffect(x,B)},bt.useLayoutEffect=function(x,B){return A.H.useLayoutEffect(x,B)},bt.useMemo=function(x,B){return A.H.useMemo(x,B)},bt.useOptimistic=function(x,B){return A.H.useOptimistic(x,B)},bt.useReducer=function(x,B,P){return A.H.useReducer(x,B,P)},bt.useRef=function(x){return A.H.useRef(x)},bt.useState=function(x){return A.H.useState(x)},bt.useSyncExternalStore=function(x,B,P){return A.H.useSyncExternalStore(x,B,P)},bt.useTransition=function(){return A.H.useTransition()},bt.version="19.1.0",bt}var M_;function Rh(){return M_||(M_=1,dh.exports=Lv()),dh.exports}var Xt=Rh();const jv=rg(Xt);var ph={exports:{}},Er={},mh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function Hv(){return D_||(D_=1,function(l){function e(R,j){var J=R.length;R.push(j);t:for(;0<J;){var nt=J-1>>>1,x=R[nt];if(0<c(x,j))R[nt]=j,R[J]=x,J=nt;else break t}}function i(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],J=R.pop();if(J!==j){R[0]=J;t:for(var nt=0,x=R.length,B=x>>>1;nt<B;){var P=2*(nt+1)-1,tt=R[P],ct=P+1,lt=R[ct];if(0>c(tt,J))ct<x&&0>c(lt,tt)?(R[nt]=lt,R[ct]=J,nt=ct):(R[nt]=tt,R[P]=J,nt=P);else if(ct<x&&0>c(lt,J))R[nt]=lt,R[ct]=J,nt=ct;else break t}}return j}function c(R,j){var J=R.sortIndex-j.sortIndex;return J!==0?J:R.id-j.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var f=Date,d=f.now();l.unstable_now=function(){return f.now()-d}}var p=[],m=[],g=1,y=null,b=3,S=!1,T=!1,C=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Q(R){for(var j=i(m);j!==null;){if(j.callback===null)r(m);else if(j.startTime<=R)r(m),j.sortIndex=j.expirationTime,e(p,j);else break;j=i(m)}}function A(R){if(C=!1,Q(R),!T)if(i(p)!==null)T=!0,q||(q=!0,G());else{var j=i(m);j!==null&&it(A,j.startTime-R)}}var q=!1,E=-1,D=5,Z=-1;function W(){return O?!0:!(l.unstable_now()-Z<D)}function I(){if(O=!1,q){var R=l.unstable_now();Z=R;var j=!0;try{t:{T=!1,C&&(C=!1,Y(E),E=-1),S=!0;var J=b;try{e:{for(Q(R),y=i(p);y!==null&&!(y.expirationTime>R&&W());){var nt=y.callback;if(typeof nt=="function"){y.callback=null,b=y.priorityLevel;var x=nt(y.expirationTime<=R);if(R=l.unstable_now(),typeof x=="function"){y.callback=x,Q(R),j=!0;break e}y===i(p)&&r(p),Q(R)}else r(p);y=i(p)}if(y!==null)j=!0;else{var B=i(m);B!==null&&it(A,B.startTime-R),j=!1}}break t}finally{y=null,b=J,S=!1}j=void 0}}finally{j?G():q=!1}}}var G;if(typeof H=="function")G=function(){H(I)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,$=et.port2;et.port1.onmessage=I,G=function(){$.postMessage(null)}}else G=function(){N(I,0)};function it(R,j){E=N(function(){R(l.unstable_now())},j)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(R){R.callback=null},l.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(R){switch(b){case 1:case 2:case 3:var j=3;break;default:j=b}var J=b;b=j;try{return R()}finally{b=J}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var J=b;b=R;try{return j()}finally{b=J}},l.unstable_scheduleCallback=function(R,j,J){var nt=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?nt+J:nt):J=nt,R){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,R={id:g++,callback:j,priorityLevel:R,startTime:J,expirationTime:x,sortIndex:-1},J>nt?(R.sortIndex=J,e(m,R),i(p)===null&&R===i(m)&&(C?(Y(E),E=-1):C=!0,it(A,J-nt))):(R.sortIndex=x,e(p,R),T||S||(T=!0,q||(q=!0,G()))),R},l.unstable_shouldYield=W,l.unstable_wrapCallback=function(R){var j=b;return function(){var J=b;b=j;try{return R.apply(this,arguments)}finally{b=J}}}}(_h)),_h}var N_;function Gv(){return N_||(N_=1,mh.exports=Hv()),mh.exports}var gh={exports:{}},Ce={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Yv(){if(R_)return Ce;R_=1;var l=Rh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ce.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ce.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return h(p,m,null,g)},Ce.flushSync=function(p){var m=f.T,g=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=m,r.p=g,r.d.f()}},Ce.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},Ce.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ce.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ce.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},Ce.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=d(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ce.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},Ce.requestFormReset=function(p){r.d.r(p)},Ce.unstable_batchedUpdates=function(p,m){return p(m)},Ce.useFormState=function(p,m,g){return f.H.useFormState(p,m,g)},Ce.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ce.version="19.1.0",Ce}var k_;function Fv(){if(k_)return gh.exports;k_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),gh.exports=Yv(),gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Xv(){if(q_)return Er;q_=1;var l=Gv(),e=Rh(),i=Fv();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(h(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,a=n;;){var o=s.return;if(o===null)break;var u=o.alternate;if(u===null){if(a=o.return,a!==null){s=a;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===s)return d(o),t;if(u===a)return d(o),n;u=u.sibling}throw Error(r(188))}if(s.return!==a.return)s=o,a=u;else{for(var _=!1,v=o.child;v;){if(v===s){_=!0,s=o,a=u;break}if(v===a){_=!0,a=o,s=u;break}v=v.sibling}if(!_){for(v=u.child;v;){if(v===s){_=!0,s=u,a=o;break}if(v===a){_=!0,a=u,s=o;break}v=v.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function m(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=m(t),n!==null)return n;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var et=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===et?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case q:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case H:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case Q:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E:return n=t.displayName||null,n!==null?n:$(t.type)||"Memo";case D:n=t._payload,t=t._init;try{return $(t(n))}catch{}}return null}var it=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},nt=[],x=-1;function B(t){return{current:t}}function P(t){0>x||(t.current=nt[x],nt[x]=null,x--)}function tt(t,n){x++,nt[x]=t.current,t.current=n}var ct=B(null),lt=B(null),ot=B(null),Vt=B(null);function st(t,n){switch(tt(ot,n),tt(lt,t),tt(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?t_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=t_(n),t=e_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(ct),tt(ct,t)}function xe(){P(ct),P(lt),P(ot)}function bn(t){t.memoizedState!==null&&tt(Vt,t);var n=ct.current,s=e_(n,t.type);n!==s&&(tt(lt,t),tt(ct,s))}function Tn(t){lt.current===t&&(P(ct),P(lt)),Vt.current===t&&(P(Vt),Tr._currentValue=J)}var Nn=Object.prototype.hasOwnProperty,Ea=l.unstable_scheduleCallback,Oa=l.unstable_cancelCallback,rt=l.unstable_shouldYield,gt=l.unstable_requestPaint,kt=l.unstable_now,Zt=l.unstable_getCurrentPriorityLevel,Mt=l.unstable_ImmediatePriority,It=l.unstable_UserBlockingPriority,ye=l.unstable_NormalPriority,Rn=l.unstable_LowPriority,ps=l.unstable_IdlePriority,Ma=l.log,tc=l.unstable_setDisableYieldValue,Zs=null,Fe=null;function ms(t){if(typeof Ma=="function"&&tc(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Zs,t)}catch{}}var Xe=Math.clz32?Math.clz32:xy,Ty=Math.log,Sy=Math.LN2;function xy(t){return t>>>=0,t===0?32:31-(Ty(t)/Sy|0)|0}var Kr=256,Jr=4194304;function Is(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pr(t,n,s){var a=t.pendingLanes;if(a===0)return 0;var o=0,u=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var v=a&134217727;return v!==0?(a=v&~u,a!==0?o=Is(a):(_&=v,_!==0?o=Is(_):s||(s=v&~t,s!==0&&(o=Is(s))))):(v=a&~u,v!==0?o=Is(v):_!==0?o=Is(_):s||(s=a&~t,s!==0&&(o=Is(s)))),o===0?0:n!==0&&n!==o&&(n&u)===0&&(u=o&-o,s=n&-n,u>=s||u===32&&(s&4194048)!==0)?n:o}function Da(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wy(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(){var t=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),t}function Bf(){var t=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),t}function ec(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Na(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ay(t,n,s,a,o,u){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var v=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(s=_&~s;0<s;){var F=31-Xe(s),K=1<<F;v[F]=0,w[F]=-1;var U=z[F];if(U!==null)for(z[F]=null,F=0;F<U.length;F++){var L=U[F];L!==null&&(L.lane&=-536870913)}s&=~K}a!==0&&Lf(t,a,0),u!==0&&o===0&&t.tag!==0&&(t.suspendedLanes|=u&~(_&~n))}function Lf(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var a=31-Xe(n);t.entangledLanes|=n,t.entanglements[a]=t.entanglements[a]|1073741824|s&4194090}function jf(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var a=31-Xe(s),o=1<<a;o&n|t[a]&n&&(t[a]|=n),s&=~o}}function nc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hf(){var t=j.p;return t!==0?t:(t=window.event,t===void 0?32:b_(t.type))}function Cy(t,n){var s=j.p;try{return j.p=t,n()}finally{j.p=s}}var _s=Math.random().toString(36).slice(2),we="__reactFiber$"+_s,Ve="__reactProps$"+_s,xi="__reactContainer$"+_s,ic="__reactEvents$"+_s,Ey="__reactListeners$"+_s,Oy="__reactHandles$"+_s,Gf="__reactResources$"+_s,Ra="__reactMarker$"+_s;function ac(t){delete t[we],delete t[Ve],delete t[ic],delete t[Ey],delete t[Oy]}function wi(t){var n=t[we];if(n)return n;for(var s=t.parentNode;s;){if(n=s[xi]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=a_(t);t!==null;){if(s=t[we])return s;t=a_(t)}return n}t=s,s=t.parentNode}return null}function Ai(t){if(t=t[we]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function ka(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ci(t){var n=t[Gf];return n||(n=t[Gf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(t){t[Ra]=!0}var Yf=new Set,Ff={};function Ws(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Ff[t]=n,t=0;t<n.length;t++)Yf.add(n[t])}var My=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xf={},Qf={};function Dy(t){return Nn.call(Qf,t)?!0:Nn.call(Xf,t)?!1:My.test(t)?Qf[t]=!0:(Xf[t]=!0,!1)}function $r(t,n,s){if(Dy(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function tl(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Yn(t,n,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+a)}}var rc,Zf;function Oi(t){if(rc===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rc=n&&n[1]||"",Zf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rc+t+Zf}var lc=!1;function oc(t,n){if(!t||lc)return"";lc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(L){var U=L}Reflect.construct(t,[],K)}else{try{K.call()}catch(L){U=L}t.call(K.prototype)}}else{try{throw Error()}catch(L){U=L}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(L){if(L&&U&&typeof L.stack=="string")return[L.stack,U.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),_=u[0],v=u[1];if(_&&v){var w=_.split(`
`),z=v.split(`
`);for(o=a=0;a<w.length&&!w[a].includes("DetermineComponentFrameRoot");)a++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(a===w.length||o===z.length)for(a=w.length-1,o=z.length-1;1<=a&&0<=o&&w[a]!==z[o];)o--;for(;1<=a&&0<=o;a--,o--)if(w[a]!==z[o]){if(a!==1||o!==1)do if(a--,o--,0>o||w[a]!==z[o]){var F=`
`+w[a].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=a&&0<=o);break}}}finally{lc=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Oi(s):""}function Ny(t){switch(t.tag){case 26:case 27:case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return oc(t.type,!1);case 11:return oc(t.type.render,!1);case 1:return oc(t.type,!0);case 31:return Oi("Activity");default:return""}}function If(t){try{var n="";do n+=Ny(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ry(t){var n=Wf(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return o.call(this)},set:function(_){a=""+_,u.call(this,_)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function el(t){t._valueTracker||(t._valueTracker=Ry(t))}function Kf(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return t&&(a=Wf(t)?t.checked?"true":"false":t.value),t=a,t!==s?(n.setValue(t),!0):!1}function nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ky=/[\n"\\]/g;function nn(t){return t.replace(ky,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cc(t,n,s,a,o,u,_,v){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?uc(t,_,en(n)):s!=null?uc(t,_,en(s)):a!=null&&t.removeAttribute("value"),o==null&&u!=null&&(t.defaultChecked=!!u),o!=null&&(t.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+en(v):t.removeAttribute("name")}function Jf(t,n,s,a,o,u,_,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),n!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||n!=null))return;s=s!=null?""+en(s):"",n=n!=null?""+en(n):s,v||n===t.value||(t.value=n),t.defaultValue=n}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=v?t.checked:!!a,t.defaultChecked=!!a,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function uc(t,n,s){n==="number"&&nl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Mi(t,n,s,a){if(t=t.options,n){n={};for(var o=0;o<s.length;o++)n["$"+s[o]]=!0;for(s=0;s<t.length;s++)o=n.hasOwnProperty("$"+t[s].value),t[s].selected!==o&&(t[s].selected=o),o&&a&&(t[s].defaultSelected=!0)}else{for(s=""+en(s),n=null,o=0;o<t.length;o++){if(t[o].value===s){t[o].selected=!0,a&&(t[o].defaultSelected=!0);return}n!==null||t[o].disabled||(n=t[o])}n!==null&&(n.selected=!0)}}function Pf(t,n,s){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+en(s):""}function $f(t,n,s,a){if(n==null){if(a!=null){if(s!=null)throw Error(r(92));if(it(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),n=s}s=en(n),t.defaultValue=s,a=t.textContent,a===s&&a!==""&&a!==null&&(t.value=a)}function Di(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var qy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function td(t,n,s){var a=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":a?t.setProperty(n,s):typeof s!="number"||s===0||qy.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ed(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var o in n)a=n[o],n.hasOwnProperty(o)&&s[o]!==a&&td(t,o,a)}else for(var u in n)n.hasOwnProperty(u)&&td(t,u,n[u])}function hc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sl(t){return zy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var fc=null;function dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Ri=null;function nd(t){var n=Ai(t);if(n&&(t=n.stateNode)){var s=t[Ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(cc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==t&&a.form===t.form){var o=a[Ve]||null;if(!o)throw Error(r(90));cc(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(n=0;n<s.length;n++)a=s[n],a.form===t.form&&Kf(a)}break t;case"textarea":Pf(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Mi(t,!!s.multiple,n,!1)}}}var pc=!1;function sd(t,n,s){if(pc)return t(n,s);pc=!0;try{var a=t(n);return a}finally{if(pc=!1,(Ni!==null||Ri!==null)&&(Gl(),Ni&&(n=Ni,t=Ri,Ri=Ni=null,nd(n),t)))for(n=0;n<t.length;n++)nd(t[n])}}function qa(t,n){var s=t.stateNode;if(s===null)return null;var a=s[Ve]||null;if(a===null)return null;s=a[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=!1;if(Fn)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){mc=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{mc=!1}var gs=null,_c=null,il=null;function id(){if(il)return il;var t,n=_c,s=n.length,a,o="value"in gs?gs.value:gs.textContent,u=o.length;for(t=0;t<s&&n[t]===o[t];t++);var _=s-t;for(a=1;a<=_&&n[s-a]===o[u-a];a++);return il=o.slice(t,1<a?1-a:void 0)}function al(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function rl(){return!0}function ad(){return!1}function ze(t){function n(s,a,o,u,_){this._reactName=s,this._targetInst=o,this.type=a,this.nativeEvent=u,this.target=_,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(s=t[v],this[v]=s?s(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?rl:ad,this.isPropagationStopped=ad,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),n}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=ze(Ks),za=g({},Ks,{view:0,detail:0}),Uy=ze(za),gc,yc,Ua,ol=g({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ua&&(Ua&&t.type==="mousemove"?(gc=t.screenX-Ua.screenX,yc=t.screenY-Ua.screenY):yc=gc=0,Ua=t),gc)},movementY:function(t){return"movementY"in t?t.movementY:yc}}),rd=ze(ol),By=g({},ol,{dataTransfer:0}),Ly=ze(By),jy=g({},za,{relatedTarget:0}),vc=ze(jy),Hy=g({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=ze(Hy),Yy=g({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fy=ze(Yy),Xy=g({},Ks,{data:0}),ld=ze(Xy),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iy[t])?!!n[t]:!1}function bc(){return Wy}var Ky=g({},za,{key:function(t){if(t.key){var n=Qy[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(t){return t.type==="keypress"?al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jy=ze(Ky),Py=g({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=ze(Py),$y=g({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),t0=ze($y),e0=g({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),n0=ze(e0),s0=g({},ol,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i0=ze(s0),a0=g({},Ks,{newState:0,oldState:0}),r0=ze(a0),l0=[9,13,27,32],Tc=Fn&&"CompositionEvent"in window,Ba=null;Fn&&"documentMode"in document&&(Ba=document.documentMode);var o0=Fn&&"TextEvent"in window&&!Ba,cd=Fn&&(!Tc||Ba&&8<Ba&&11>=Ba),ud=" ",hd=!1;function fd(t,n){switch(t){case"keyup":return l0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ki=!1;function c0(t,n){switch(t){case"compositionend":return dd(n);case"keypress":return n.which!==32?null:(hd=!0,ud);case"textInput":return t=n.data,t===ud&&hd?null:t;default:return null}}function u0(t,n){if(ki)return t==="compositionend"||!Tc&&fd(t,n)?(t=id(),il=_c=gs=null,ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cd&&n.locale!=="ko"?null:n.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!h0[t.type]:n==="textarea"}function md(t,n,s,a){Ni?Ri?Ri.push(a):Ri=[a]:Ni=a,n=Il(n,"onChange"),0<n.length&&(s=new ll("onChange","change",null,s,a),t.push({event:s,listeners:n}))}var La=null,ja=null;function f0(t){Wm(t,0)}function cl(t){var n=ka(t);if(Kf(n))return t}function _d(t,n){if(t==="change")return n}var gd=!1;if(Fn){var Sc;if(Fn){var xc="oninput"in document;if(!xc){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),xc=typeof yd.oninput=="function"}Sc=xc}else Sc=!1;gd=Sc&&(!document.documentMode||9<document.documentMode)}function vd(){La&&(La.detachEvent("onpropertychange",bd),ja=La=null)}function bd(t){if(t.propertyName==="value"&&cl(ja)){var n=[];md(n,ja,t,dc(t)),sd(f0,n)}}function d0(t,n,s){t==="focusin"?(vd(),La=n,ja=s,La.attachEvent("onpropertychange",bd)):t==="focusout"&&vd()}function p0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(ja)}function m0(t,n){if(t==="click")return cl(n)}function _0(t,n){if(t==="input"||t==="change")return cl(n)}function g0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Qe=typeof Object.is=="function"?Object.is:g0;function Ha(t,n){if(Qe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var o=s[a];if(!Nn.call(n,o)||!Qe(t[o],n[o]))return!1}return!0}function Td(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,n){var s=Td(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=n&&a>=n)return{node:s,offset:n-t};t=a}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Td(s)}}function xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=nl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=nl(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var y0=Fn&&"documentMode"in document&&11>=document.documentMode,qi=null,Ac=null,Ga=null,Cc=!1;function Ad(t,n,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cc||qi==null||qi!==nl(a)||(a=qi,"selectionStart"in a&&wc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ga&&Ha(Ga,a)||(Ga=a,a=Il(Ac,"onSelect"),0<a.length&&(n=new ll("onSelect","select",null,n,s),t.push({event:n,listeners:a}),n.target=qi)))}function Js(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Vi={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Ec={},Cd={};Fn&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Ps(t){if(Ec[t])return Ec[t];if(!Vi[t])return t;var n=Vi[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cd)return Ec[t]=n[s];return t}var Ed=Ps("animationend"),Od=Ps("animationiteration"),Md=Ps("animationstart"),v0=Ps("transitionrun"),b0=Ps("transitionstart"),T0=Ps("transitioncancel"),Dd=Ps("transitionend"),Nd=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function Sn(t,n){Nd.set(t,n),Ws(n,[t])}var Rd=new WeakMap;function sn(t,n){if(typeof t=="object"&&t!==null){var s=Rd.get(t);return s!==void 0?s:(n={value:t,source:n,stack:If(n)},Rd.set(t,n),n)}return{value:t,source:n,stack:If(n)}}var an=[],zi=0,Mc=0;function ul(){for(var t=zi,n=Mc=zi=0;n<t;){var s=an[n];an[n++]=null;var a=an[n];an[n++]=null;var o=an[n];an[n++]=null;var u=an[n];if(an[n++]=null,a!==null&&o!==null){var _=a.pending;_===null?o.next=o:(o.next=_.next,_.next=o),a.pending=o}u!==0&&kd(s,o,u)}}function hl(t,n,s,a){an[zi++]=t,an[zi++]=n,an[zi++]=s,an[zi++]=a,Mc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Dc(t,n,s,a){return hl(t,n,s,a),fl(t)}function Ui(t,n){return hl(t,null,null,n),fl(t)}function kd(t,n,s){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s);for(var o=!1,u=t.return;u!==null;)u.childLanes|=s,a=u.alternate,a!==null&&(a.childLanes|=s),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(o=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,o&&n!==null&&(o=31-Xe(s),t=u.hiddenUpdates,a=t[o],a===null?t[o]=[n]:a.push(n),n.lane=s|536870912),u):null}function fl(t){if(50<dr)throw dr=0,zu=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Bi={};function S0(t,n,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,n,s,a){return new S0(t,n,s,a)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xn(t,n){var s=t.alternate;return s===null?(s=Ze(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function qd(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function dl(t,n,s,a,o,u){var _=0;if(a=t,typeof t=="function")Nc(t)&&(_=1);else if(typeof t=="string")_=wv(t,s,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Z:return t=Ze(31,s,n,o),t.elementType=Z,t.lanes=u,t;case T:return $s(s.children,o,u,n);case C:_=8,o|=24;break;case O:return t=Ze(12,s,n,o|2),t.elementType=O,t.lanes=u,t;case A:return t=Ze(13,s,n,o),t.elementType=A,t.lanes=u,t;case q:return t=Ze(19,s,n,o),t.elementType=q,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case H:_=10;break t;case Y:_=9;break t;case Q:_=11;break t;case E:_=14;break t;case D:_=16,a=null;break t}_=29,s=Error(r(130,t===null?"null":typeof t,"")),a=null}return n=Ze(_,s,n,o),n.elementType=t,n.type=a,n.lanes=u,n}function $s(t,n,s,a){return t=Ze(7,t,a,n),t.lanes=s,t}function Rc(t,n,s){return t=Ze(6,t,null,n),t.lanes=s,t}function kc(t,n,s){return n=Ze(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Li=[],ji=0,pl=null,ml=0,rn=[],ln=0,ti=null,Qn=1,Zn="";function ei(t,n){Li[ji++]=ml,Li[ji++]=pl,pl=t,ml=n}function Vd(t,n,s){rn[ln++]=Qn,rn[ln++]=Zn,rn[ln++]=ti,ti=t;var a=Qn;t=Zn;var o=32-Xe(a)-1;a&=~(1<<o),s+=1;var u=32-Xe(n)+o;if(30<u){var _=o-o%5;u=(a&(1<<_)-1).toString(32),a>>=_,o-=_,Qn=1<<32-Xe(n)+o|s<<o|a,Zn=u+t}else Qn=1<<u|s<<o|a,Zn=t}function qc(t){t.return!==null&&(ei(t,1),Vd(t,1,0))}function Vc(t){for(;t===pl;)pl=Li[--ji],Li[ji]=null,ml=Li[--ji],Li[ji]=null;for(;t===ti;)ti=rn[--ln],rn[ln]=null,Zn=rn[--ln],rn[ln]=null,Qn=rn[--ln],rn[ln]=null}var Me=null,$t=null,Rt=!1,ni=null,kn=!1,zc=Error(r(519));function si(t){var n=Error(r(418,""));throw Xa(sn(n,t)),zc}function zd(t){var n=t.stateNode,s=t.type,a=t.memoizedProps;switch(n[we]=t,n[Ve]=a,s){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(s=0;s<mr.length;s++)At(mr[s],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":At("invalid",n),Jf(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),el(n);break;case"select":At("invalid",n);break;case"textarea":At("invalid",n),$f(n,a.value,a.defaultValue,a.children),el(n)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||a.suppressHydrationWarning===!0||$m(n.textContent,s)?(a.popover!=null&&(At("beforetoggle",n),At("toggle",n)),a.onScroll!=null&&At("scroll",n),a.onScrollEnd!=null&&At("scrollend",n),a.onClick!=null&&(n.onclick=Wl),n=!0):n=!1,n||si(t)}function Ud(t){for(Me=t.return;Me;)switch(Me.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Me=Me.return}}function Ya(t){if(t!==Me)return!1;if(!Rt)return Ud(t),Rt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Pu(t.type,t.memoizedProps)),s=!s),s&&$t&&si(t),Ud(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){$t=wn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}$t=null}}else n===27?(n=$t,ks(t.type)?(t=nh,nh=null,$t=t):$t=n):$t=Me?wn(t.stateNode.nextSibling):null;return!0}function Fa(){$t=Me=null,Rt=!1}function Bd(){var t=ni;return t!==null&&(Le===null?Le=t:Le.push.apply(Le,t),ni=null),t}function Xa(t){ni===null?ni=[t]:ni.push(t)}var Uc=B(null),ii=null,In=null;function ys(t,n,s){tt(Uc,n._currentValue),n._currentValue=s}function Wn(t){t._currentValue=Uc.current,P(Uc)}function Bc(t,n,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===s)break;t=t.return}}function Lc(t,n,s,a){var o=t.child;for(o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){var _=o.child;u=u.firstContext;t:for(;u!==null;){var v=u;u=o;for(var w=0;w<n.length;w++)if(v.context===n[w]){u.lanes|=s,v=u.alternate,v!==null&&(v.lanes|=s),Bc(u.return,s,t),a||(_=null);break t}u=v.next}}else if(o.tag===18){if(_=o.return,_===null)throw Error(r(341));_.lanes|=s,u=_.alternate,u!==null&&(u.lanes|=s),Bc(_,s,t),_=null}else _=o.child;if(_!==null)_.return=o;else for(_=o;_!==null;){if(_===t){_=null;break}if(o=_.sibling,o!==null){o.return=_.return,_=o;break}_=_.return}o=_}}function Qa(t,n,s,a){t=null;for(var o=n,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var _=o.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var v=o.type;Qe(o.pendingProps.value,_.value)||(t!==null?t.push(v):t=[v])}}else if(o===Vt.current){if(_=o.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(t!==null?t.push(Tr):t=[Tr])}o=o.return}t!==null&&Lc(n,t,s,a),n.flags|=262144}function _l(t){for(t=t.firstContext;t!==null;){if(!Qe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ai(t){ii=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ae(t){return Ld(ii,t)}function gl(t,n){return ii===null&&ai(t),Ld(t,n)}function Ld(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},In===null){if(t===null)throw Error(r(308));In=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else In=In.next=n;return s}var x0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,a){t.push(a)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},w0=l.unstable_scheduleCallback,A0=l.unstable_NormalPriority,ue={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new x0,data:new Map,refCount:0}}function Za(t){t.refCount--,t.refCount===0&&w0(A0,function(){t.controller.abort()})}var Ia=null,Hc=0,Hi=0,Gi=null;function C0(t,n){if(Ia===null){var s=Ia=[];Hc=0,Hi=Yu(),Gi={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Hc++,n.then(jd,jd),n}function jd(){if(--Hc===0&&Ia!==null){Gi!==null&&(Gi.status="fulfilled");var t=Ia;Ia=null,Hi=0,Gi=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function E0(t,n){var s=[],a={status:"pending",value:null,reason:null,then:function(o){s.push(o)}};return t.then(function(){a.status="fulfilled",a.value=n;for(var o=0;o<s.length;o++)(0,s[o])(n)},function(o){for(a.status="rejected",a.reason=o,o=0;o<s.length;o++)(0,s[o])(void 0)}),a}var Hd=R.S;R.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&C0(t,n),Hd!==null&&Hd(t,n)};var ri=B(null);function Gc(){var t=ri.current;return t!==null?t:Ft.pooledCache}function yl(t,n){n===null?tt(ri,ri.current):tt(ri,n.pool)}function Gd(){var t=Gc();return t===null?null:{parent:ue._currentValue,pool:t}}var Wa=Error(r(460)),Yd=Error(r(474)),vl=Error(r(542)),Yc={then:function(){}};function Fd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bl(){}function Xd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(bl,bl),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zd(t),t;default:if(typeof n.status=="string")n.then(bl,bl);else{if(t=Ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(a){if(n.status==="pending"){var o=n;o.status="fulfilled",o.value=a}},function(a){if(n.status==="pending"){var o=n;o.status="rejected",o.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Zd(t),t}throw Ka=n,Wa}}var Ka=null;function Qd(){if(Ka===null)throw Error(r(459));var t=Ka;return Ka=null,t}function Zd(t){if(t===Wa||t===vl)throw Error(r(483))}var vs=!1;function Fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,n,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(zt&2)!==0){var o=a.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),a.pending=n,n=fl(t),kd(t,null,s),n}return hl(t,a,n,s),fl(t)}function Ja(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var a=n.lanes;a&=t.pendingLanes,s|=a,n.lanes=s,jf(t,s)}}function Qc(t,n){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var o=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?o=u=_:u=u.next=_,s=s.next}while(s!==null);u===null?o=u=n:u=u.next=n}else o=u=n;s={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Zc=!1;function Pa(){if(Zc){var t=Gi;if(t!==null)throw t}}function $a(t,n,s,a){Zc=!1;var o=t.updateQueue;vs=!1;var u=o.firstBaseUpdate,_=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,z=w.next;w.next=null,_===null?u=z:_.next=z,_=w;var F=t.alternate;F!==null&&(F=F.updateQueue,v=F.lastBaseUpdate,v!==_&&(v===null?F.firstBaseUpdate=z:v.next=z,F.lastBaseUpdate=w))}if(u!==null){var K=o.baseState;_=0,F=z=w=null,v=u;do{var U=v.lane&-536870913,L=U!==v.lane;if(L?(Dt&U)===U:(a&U)===U){U!==0&&U===Hi&&(Zc=!0),F!==null&&(F=F.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var yt=t,pt=v;U=n;var jt=s;switch(pt.tag){case 1:if(yt=pt.payload,typeof yt=="function"){K=yt.call(jt,K,U);break t}K=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=pt.payload,U=typeof yt=="function"?yt.call(jt,K,U):yt,U==null)break t;K=g({},K,U);break t;case 2:vs=!0}}U=v.callback,U!==null&&(t.flags|=64,L&&(t.flags|=8192),L=o.callbacks,L===null?o.callbacks=[U]:L.push(U))}else L={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},F===null?(z=F=L,w=K):F=F.next=L,_|=U;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;L=v,v=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);F===null&&(w=K),o.baseState=w,o.firstBaseUpdate=z,o.lastBaseUpdate=F,u===null&&(o.shared.lanes=0),Ms|=_,t.lanes=_,t.memoizedState=K}}function Id(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Wd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Id(s[t],n)}var Yi=B(null),Tl=B(0);function Kd(t,n){t=ns,tt(Tl,t),tt(Yi,n),ns=t|n.baseLanes}function Ic(){tt(Tl,ns),tt(Yi,Yi.current)}function Wc(){ns=Tl.current,P(Yi),P(Tl)}var Ss=0,St=null,Bt=null,le=null,Sl=!1,Fi=!1,li=!1,xl=0,tr=0,Xi=null,O0=0;function se(){throw Error(r(321))}function Kc(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Qe(t[s],n[s]))return!1;return!0}function Jc(t,n,s,a,o,u){return Ss=u,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=t===null||t.memoizedState===null?kp:qp,li=!1,u=s(a,o),li=!1,Fi&&(u=Pd(n,s,a,o)),Jd(t),u}function Jd(t){R.H=Ml;var n=Bt!==null&&Bt.next!==null;if(Ss=0,le=Bt=St=null,Sl=!1,tr=0,Xi=null,n)throw Error(r(300));t===null||pe||(t=t.dependencies,t!==null&&_l(t)&&(pe=!0))}function Pd(t,n,s,a){St=t;var o=0;do{if(Fi&&(Xi=null),tr=0,Fi=!1,25<=o)throw Error(r(301));if(o+=1,le=Bt=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=V0,u=n(s,a)}while(Fi);return u}function M0(){var t=R.H,n=t.useState()[0];return n=typeof n.then=="function"?er(n):n,t=t.useState()[0],(Bt!==null?Bt.memoizedState:null)!==t&&(St.flags|=1024),n}function Pc(){var t=xl!==0;return xl=0,t}function $c(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function tu(t){if(Sl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Sl=!1}Ss=0,le=Bt=St=null,Fi=!1,tr=xl=0,Xi=null}function Ue(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?St.memoizedState=le=t:le=le.next=t,le}function oe(){if(Bt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var n=le===null?St.memoizedState:le.next;if(n!==null)le=n,Bt=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},le===null?St.memoizedState=le=t:le=le.next=t}return le}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function er(t){var n=tr;return tr+=1,Xi===null&&(Xi=[]),t=Xd(Xi,t,n),n=St,(le===null?n.memoizedState:le.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?kp:qp),t}function wl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return er(t);if(t.$$typeof===H)return Ae(t)}throw Error(r(438,String(t)))}function nu(t){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var a=St.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(o){return o.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=eu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),a=0;a<t;a++)s[a]=W;return n.index++,s}function Kn(t,n){return typeof n=="function"?n(t):n}function Al(t){var n=oe();return su(n,Bt,t)}function su(t,n,s){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=s;var o=t.baseQueue,u=a.pending;if(u!==null){if(o!==null){var _=o.next;o.next=u.next,u.next=_}n.baseQueue=o=u,a.pending=null}if(u=t.baseState,o===null)t.memoizedState=u;else{n=o.next;var v=_=null,w=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Dt&K)===K:(Ss&K)===K){var U=z.revertLane;if(U===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Hi&&(F=!0);else if((Ss&U)===U){z=z.next,U===Hi&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(v=w=K,_=u):w=w.next=K,St.lanes|=U,Ms|=U;K=z.action,li&&s(u,K),u=z.hasEagerState?z.eagerState:s(u,K)}else U={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(v=w=U,_=u):w=w.next=U,St.lanes|=K,Ms|=K;z=z.next}while(z!==null&&z!==n);if(w===null?_=u:w.next=v,!Qe(u,t.memoizedState)&&(pe=!0,F&&(s=Gi,s!==null)))throw s;t.memoizedState=u,t.baseState=_,t.baseQueue=w,a.lastRenderedState=u}return o===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function iu(t){var n=oe(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var a=s.dispatch,o=s.pending,u=n.memoizedState;if(o!==null){s.pending=null;var _=o=o.next;do u=t(u,_.action),_=_.next;while(_!==o);Qe(u,n.memoizedState)||(pe=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,a]}function $d(t,n,s){var a=St,o=oe(),u=Rt;if(u){if(s===void 0)throw Error(r(407));s=s()}else s=n();var _=!Qe((Bt||o).memoizedState,s);_&&(o.memoizedState=s,pe=!0),o=o.queue;var v=np.bind(null,a,o,t);if(nr(2048,8,v,[t]),o.getSnapshot!==n||_||le!==null&&le.memoizedState.tag&1){if(a.flags|=2048,Qi(9,Cl(),ep.bind(null,a,o,s,n),null),Ft===null)throw Error(r(349));u||(Ss&124)!==0||tp(a,n,s)}return s}function tp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=eu(),St.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ep(t,n,s,a){n.value=s,n.getSnapshot=a,sp(n)&&ip(t)}function np(t,n,s){return s(function(){sp(n)&&ip(t)})}function sp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Qe(t,s)}catch{return!0}}function ip(t){var n=Ui(t,2);n!==null&&Pe(n,t,2)}function au(t){var n=Ue();if(typeof t=="function"){var s=t;if(t=s(),li){ms(!0);try{s()}finally{ms(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},n}function ap(t,n,s,a){return t.baseState=s,su(t,Bt,typeof a=="function"?a:Kn)}function D0(t,n,s,a,o){if(Ol(t))throw Error(r(485));if(t=n.action,t!==null){var u={payload:o,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){u.listeners.push(_)}};R.T!==null?s(!0):u.isTransition=!1,a(u),s=n.pending,s===null?(u.next=n.pending=u,rp(n,u)):(u.next=s.next,n.pending=s.next=u)}}function rp(t,n){var s=n.action,a=n.payload,o=t.state;if(n.isTransition){var u=R.T,_={};R.T=_;try{var v=s(o,a),w=R.S;w!==null&&w(_,v),lp(t,n,v)}catch(z){ru(t,n,z)}finally{R.T=u}}else try{u=s(o,a),lp(t,n,u)}catch(z){ru(t,n,z)}}function lp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){op(t,n,a)},function(a){return ru(t,n,a)}):op(t,n,s)}function op(t,n,s){n.status="fulfilled",n.value=s,cp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,rp(t,s)))}function ru(t,n,s){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==a)}t.action=null}function cp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function up(t,n){return n}function hp(t,n){if(Rt){var s=Ft.formState;if(s!==null){t:{var a=St;if(Rt){if($t){e:{for(var o=$t,u=kn;o.nodeType!==8;){if(!u){o=null;break e}if(o=wn(o.nextSibling),o===null){o=null;break e}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){$t=wn(o.nextSibling),a=o.data==="F!";break t}}si(a)}a=!1}a&&(n=s[0])}}return s=Ue(),s.memoizedState=s.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},s.queue=a,s=Dp.bind(null,St,a),a.dispatch=s,a=au(!1),u=hu.bind(null,St,!1,a.queue),a=Ue(),o={state:n,dispatch:null,action:t,pending:null},a.queue=o,s=D0.bind(null,St,o,u,s),o.dispatch=s,a.memoizedState=t,[n,s,!1]}function fp(t){var n=oe();return dp(n,Bt,t)}function dp(t,n,s){if(n=su(t,n,up)[0],t=Al(Kn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=er(n)}catch(_){throw _===Wa?vl:_}else a=n;n=oe();var o=n.queue,u=o.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Qi(9,Cl(),N0.bind(null,o,s),null)),[a,u,t]}function N0(t,n){t.action=n}function pp(t){var n=oe(),s=Bt;if(s!==null)return dp(n,s,t);oe(),n=n.memoizedState,s=oe();var a=s.queue.dispatch;return s.memoizedState=t,[n,a,!1]}function Qi(t,n,s,a){return t={tag:t,create:s,deps:a,inst:n,next:null},n=St.updateQueue,n===null&&(n=eu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,n.lastEffect=t),t}function Cl(){return{destroy:void 0,resource:void 0}}function mp(){return oe().memoizedState}function El(t,n,s,a){var o=Ue();a=a===void 0?null:a,St.flags|=t,o.memoizedState=Qi(1|n,Cl(),s,a)}function nr(t,n,s,a){var o=oe();a=a===void 0?null:a;var u=o.memoizedState.inst;Bt!==null&&a!==null&&Kc(a,Bt.memoizedState.deps)?o.memoizedState=Qi(n,u,s,a):(St.flags|=t,o.memoizedState=Qi(1|n,u,s,a))}function _p(t,n){El(8390656,8,t,n)}function gp(t,n){nr(2048,8,t,n)}function yp(t,n){return nr(4,2,t,n)}function vp(t,n){return nr(4,4,t,n)}function bp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tp(t,n,s){s=s!=null?s.concat([t]):null,nr(4,4,bp.bind(null,n,t),s)}function lu(){}function Sp(t,n){var s=oe();n=n===void 0?null:n;var a=s.memoizedState;return n!==null&&Kc(n,a[1])?a[0]:(s.memoizedState=[t,n],t)}function xp(t,n){var s=oe();n=n===void 0?null:n;var a=s.memoizedState;if(n!==null&&Kc(n,a[1]))return a[0];if(a=t(),li){ms(!0);try{t()}finally{ms(!1)}}return s.memoizedState=[a,n],a}function ou(t,n,s){return s===void 0||(Ss&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Cm(),St.lanes|=t,Ms|=t,s)}function wp(t,n,s,a){return Qe(s,n)?s:Yi.current!==null?(t=ou(t,s,a),Qe(t,n)||(pe=!0),t):(Ss&42)===0?(pe=!0,t.memoizedState=s):(t=Cm(),St.lanes|=t,Ms|=t,n)}function Ap(t,n,s,a,o){var u=j.p;j.p=u!==0&&8>u?u:8;var _=R.T,v={};R.T=v,hu(t,!1,n,s);try{var w=o(),z=R.S;if(z!==null&&z(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=E0(w,a);sr(t,n,F,Je(t))}else sr(t,n,a,Je(t))}catch(K){sr(t,n,{then:function(){},status:"rejected",reason:K},Je())}finally{j.p=u,R.T=_}}function R0(){}function cu(t,n,s,a){if(t.tag!==5)throw Error(r(476));var o=Cp(t).queue;Ap(t,o,n,J,s===null?R0:function(){return Ep(t),s(a)})}function Cp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:J},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ep(t){var n=Cp(t).next.queue;sr(t,n,{},Je())}function uu(){return Ae(Tr)}function Op(){return oe().memoizedState}function Mp(){return oe().memoizedState}function k0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Je();t=bs(s);var a=Ts(n,t,s);a!==null&&(Pe(a,n,s),Ja(a,n,s)),n={cache:jc()},t.payload=n;return}n=n.return}}function q0(t,n,s){var a=Je();s={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ol(t)?Np(n,s):(s=Dc(t,n,s,a),s!==null&&(Pe(s,t,a),Rp(s,n,a)))}function Dp(t,n,s){var a=Je();sr(t,n,s,a)}function sr(t,n,s,a){var o={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ol(t))Np(n,o);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var _=n.lastRenderedState,v=u(_,s);if(o.hasEagerState=!0,o.eagerState=v,Qe(v,_))return hl(t,n,o,0),Ft===null&&ul(),!1}catch{}finally{}if(s=Dc(t,n,o,a),s!==null)return Pe(s,t,a),Rp(s,n,a),!0}return!1}function hu(t,n,s,a){if(a={lane:2,revertLane:Yu(),action:a,hasEagerState:!1,eagerState:null,next:null},Ol(t)){if(n)throw Error(r(479))}else n=Dc(t,s,a,2),n!==null&&Pe(n,t,2)}function Ol(t){var n=t.alternate;return t===St||n!==null&&n===St}function Np(t,n){Fi=Sl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Rp(t,n,s){if((s&4194048)!==0){var a=n.lanes;a&=t.pendingLanes,s|=a,n.lanes=s,jf(t,s)}}var Ml={readContext:Ae,use:wl,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},kp={readContext:Ae,use:wl,useCallback:function(t,n){return Ue().memoizedState=[t,n===void 0?null:n],t},useContext:Ae,useEffect:_p,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,El(4194308,4,bp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return El(4194308,4,t,n)},useInsertionEffect:function(t,n){El(4,2,t,n)},useMemo:function(t,n){var s=Ue();n=n===void 0?null:n;var a=t();if(li){ms(!0);try{t()}finally{ms(!1)}}return s.memoizedState=[a,n],a},useReducer:function(t,n,s){var a=Ue();if(s!==void 0){var o=s(n);if(li){ms(!0);try{s(n)}finally{ms(!1)}}}else o=n;return a.memoizedState=a.baseState=o,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},a.queue=t,t=t.dispatch=q0.bind(null,St,t),[a.memoizedState,t]},useRef:function(t){var n=Ue();return t={current:t},n.memoizedState=t},useState:function(t){t=au(t);var n=t.queue,s=Dp.bind(null,St,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:lu,useDeferredValue:function(t,n){var s=Ue();return ou(s,t,n)},useTransition:function(){var t=au(!1);return t=Ap.bind(null,St,t.queue,!0,!1),Ue().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var a=St,o=Ue();if(Rt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Ft===null)throw Error(r(349));(Dt&124)!==0||tp(a,n,s)}o.memoizedState=s;var u={value:s,getSnapshot:n};return o.queue=u,_p(np.bind(null,a,u,t),[t]),a.flags|=2048,Qi(9,Cl(),ep.bind(null,a,u,s,n),null),s},useId:function(){var t=Ue(),n=Ft.identifierPrefix;if(Rt){var s=Zn,a=Qn;s=(a&~(1<<32-Xe(a)-1)).toString(32)+s,n="«"+n+"R"+s,s=xl++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=O0++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:uu,useFormState:hp,useActionState:hp,useOptimistic:function(t){var n=Ue();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=hu.bind(null,St,!0,s),s.dispatch=n,[t,n]},useMemoCache:nu,useCacheRefresh:function(){return Ue().memoizedState=k0.bind(null,St)}},qp={readContext:Ae,use:wl,useCallback:Sp,useContext:Ae,useEffect:gp,useImperativeHandle:Tp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:xp,useReducer:Al,useRef:mp,useState:function(){return Al(Kn)},useDebugValue:lu,useDeferredValue:function(t,n){var s=oe();return wp(s,Bt.memoizedState,t,n)},useTransition:function(){var t=Al(Kn)[0],n=oe().memoizedState;return[typeof t=="boolean"?t:er(t),n]},useSyncExternalStore:$d,useId:Op,useHostTransitionStatus:uu,useFormState:fp,useActionState:fp,useOptimistic:function(t,n){var s=oe();return ap(s,Bt,t,n)},useMemoCache:nu,useCacheRefresh:Mp},V0={readContext:Ae,use:wl,useCallback:Sp,useContext:Ae,useEffect:gp,useImperativeHandle:Tp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:xp,useReducer:iu,useRef:mp,useState:function(){return iu(Kn)},useDebugValue:lu,useDeferredValue:function(t,n){var s=oe();return Bt===null?ou(s,t,n):wp(s,Bt.memoizedState,t,n)},useTransition:function(){var t=iu(Kn)[0],n=oe().memoizedState;return[typeof t=="boolean"?t:er(t),n]},useSyncExternalStore:$d,useId:Op,useHostTransitionStatus:uu,useFormState:pp,useActionState:pp,useOptimistic:function(t,n){var s=oe();return Bt!==null?ap(s,Bt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:nu,useCacheRefresh:Mp},Zi=null,ir=0;function Dl(t){var n=ir;return ir+=1,Zi===null&&(Zi=[]),Xd(Zi,t,n)}function ar(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nl(t,n){throw n.$$typeof===y?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vp(t){var n=t._init;return n(t._payload)}function zp(t){function n(k,M){if(t){var V=k.deletions;V===null?(k.deletions=[M],k.flags|=16):V.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function a(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function o(k,M){return k=Xn(k,M),k.index=0,k.sibling=null,k}function u(k,M,V){return k.index=V,t?(V=k.alternate,V!==null?(V=V.index,V<M?(k.flags|=67108866,M):V):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function v(k,M,V,X){return M===null||M.tag!==6?(M=Rc(V,k.mode,X),M.return=k,M):(M=o(M,V),M.return=k,M)}function w(k,M,V,X){var ut=V.type;return ut===T?F(k,M,V.props.children,X,V.key):M!==null&&(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===D&&Vp(ut)===M.type)?(M=o(M,V.props),ar(M,V),M.return=k,M):(M=dl(V.type,V.key,V.props,null,k.mode,X),ar(M,V),M.return=k,M)}function z(k,M,V,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==V.containerInfo||M.stateNode.implementation!==V.implementation?(M=kc(V,k.mode,X),M.return=k,M):(M=o(M,V.children||[]),M.return=k,M)}function F(k,M,V,X,ut){return M===null||M.tag!==7?(M=$s(V,k.mode,X,ut),M.return=k,M):(M=o(M,V),M.return=k,M)}function K(k,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rc(""+M,k.mode,V),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return V=dl(M.type,M.key,M.props,null,k.mode,V),ar(V,M),V.return=k,V;case S:return M=kc(M,k.mode,V),M.return=k,M;case D:var X=M._init;return M=X(M._payload),K(k,M,V)}if(it(M)||G(M))return M=$s(M,k.mode,V,null),M.return=k,M;if(typeof M.then=="function")return K(k,Dl(M),V);if(M.$$typeof===H)return K(k,gl(k,M),V);Nl(k,M)}return null}function U(k,M,V,X){var ut=M!==null?M.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ut!==null?null:v(k,M,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===ut?w(k,M,V,X):null;case S:return V.key===ut?z(k,M,V,X):null;case D:return ut=V._init,V=ut(V._payload),U(k,M,V,X)}if(it(V)||G(V))return ut!==null?null:F(k,M,V,X,null);if(typeof V.then=="function")return U(k,M,Dl(V),X);if(V.$$typeof===H)return U(k,M,gl(k,V),X);Nl(k,V)}return null}function L(k,M,V,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(V)||null,v(M,k,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return k=k.get(X.key===null?V:X.key)||null,w(M,k,X,ut);case S:return k=k.get(X.key===null?V:X.key)||null,z(M,k,X,ut);case D:var xt=X._init;return X=xt(X._payload),L(k,M,V,X,ut)}if(it(X)||G(X))return k=k.get(V)||null,F(M,k,X,ut,null);if(typeof X.then=="function")return L(k,M,V,Dl(X),ut);if(X.$$typeof===H)return L(k,M,V,gl(M,X),ut);Nl(M,X)}return null}function yt(k,M,V,X){for(var ut=null,xt=null,ft=M,_t=M=0,_e=null;ft!==null&&_t<V.length;_t++){ft.index>_t?(_e=ft,ft=null):_e=ft.sibling;var Nt=U(k,ft,V[_t],X);if(Nt===null){ft===null&&(ft=_e);break}t&&ft&&Nt.alternate===null&&n(k,ft),M=u(Nt,M,_t),xt===null?ut=Nt:xt.sibling=Nt,xt=Nt,ft=_e}if(_t===V.length)return s(k,ft),Rt&&ei(k,_t),ut;if(ft===null){for(;_t<V.length;_t++)ft=K(k,V[_t],X),ft!==null&&(M=u(ft,M,_t),xt===null?ut=ft:xt.sibling=ft,xt=ft);return Rt&&ei(k,_t),ut}for(ft=a(ft);_t<V.length;_t++)_e=L(ft,k,_t,V[_t],X),_e!==null&&(t&&_e.alternate!==null&&ft.delete(_e.key===null?_t:_e.key),M=u(_e,M,_t),xt===null?ut=_e:xt.sibling=_e,xt=_e);return t&&ft.forEach(function(Bs){return n(k,Bs)}),Rt&&ei(k,_t),ut}function pt(k,M,V,X){if(V==null)throw Error(r(151));for(var ut=null,xt=null,ft=M,_t=M=0,_e=null,Nt=V.next();ft!==null&&!Nt.done;_t++,Nt=V.next()){ft.index>_t?(_e=ft,ft=null):_e=ft.sibling;var Bs=U(k,ft,Nt.value,X);if(Bs===null){ft===null&&(ft=_e);break}t&&ft&&Bs.alternate===null&&n(k,ft),M=u(Bs,M,_t),xt===null?ut=Bs:xt.sibling=Bs,xt=Bs,ft=_e}if(Nt.done)return s(k,ft),Rt&&ei(k,_t),ut;if(ft===null){for(;!Nt.done;_t++,Nt=V.next())Nt=K(k,Nt.value,X),Nt!==null&&(M=u(Nt,M,_t),xt===null?ut=Nt:xt.sibling=Nt,xt=Nt);return Rt&&ei(k,_t),ut}for(ft=a(ft);!Nt.done;_t++,Nt=V.next())Nt=L(ft,k,_t,Nt.value,X),Nt!==null&&(t&&Nt.alternate!==null&&ft.delete(Nt.key===null?_t:Nt.key),M=u(Nt,M,_t),xt===null?ut=Nt:xt.sibling=Nt,xt=Nt);return t&&ft.forEach(function(zv){return n(k,zv)}),Rt&&ei(k,_t),ut}function jt(k,M,V,X){if(typeof V=="object"&&V!==null&&V.type===T&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:t:{for(var ut=V.key;M!==null;){if(M.key===ut){if(ut=V.type,ut===T){if(M.tag===7){s(k,M.sibling),X=o(M,V.props.children),X.return=k,k=X;break t}}else if(M.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===D&&Vp(ut)===M.type){s(k,M.sibling),X=o(M,V.props),ar(X,V),X.return=k,k=X;break t}s(k,M);break}else n(k,M);M=M.sibling}V.type===T?(X=$s(V.props.children,k.mode,X,V.key),X.return=k,k=X):(X=dl(V.type,V.key,V.props,null,k.mode,X),ar(X,V),X.return=k,k=X)}return _(k);case S:t:{for(ut=V.key;M!==null;){if(M.key===ut)if(M.tag===4&&M.stateNode.containerInfo===V.containerInfo&&M.stateNode.implementation===V.implementation){s(k,M.sibling),X=o(M,V.children||[]),X.return=k,k=X;break t}else{s(k,M);break}else n(k,M);M=M.sibling}X=kc(V,k.mode,X),X.return=k,k=X}return _(k);case D:return ut=V._init,V=ut(V._payload),jt(k,M,V,X)}if(it(V))return yt(k,M,V,X);if(G(V)){if(ut=G(V),typeof ut!="function")throw Error(r(150));return V=ut.call(V),pt(k,M,V,X)}if(typeof V.then=="function")return jt(k,M,Dl(V),X);if(V.$$typeof===H)return jt(k,M,gl(k,V),X);Nl(k,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,M!==null&&M.tag===6?(s(k,M.sibling),X=o(M,V),X.return=k,k=X):(s(k,M),X=Rc(V,k.mode,X),X.return=k,k=X),_(k)):s(k,M)}return function(k,M,V,X){try{ir=0;var ut=jt(k,M,V,X);return Zi=null,ut}catch(ft){if(ft===Wa||ft===vl)throw ft;var xt=Ze(29,ft,null,k.mode);return xt.lanes=X,xt.return=k,xt}finally{}}}var Ii=zp(!0),Up=zp(!1),on=B(null),qn=null;function xs(t){var n=t.alternate;tt(he,he.current&1),tt(on,t),qn===null&&(n===null||Yi.current!==null||n.memoizedState!==null)&&(qn=t)}function Bp(t){if(t.tag===22){if(tt(he,he.current),tt(on,t),qn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(qn=t)}}else ws()}function ws(){tt(he,he.current),tt(on,on.current)}function Jn(t){P(on),qn===t&&(qn=null),P(he)}var he=B(0);function Rl(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||eh(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fu(t,n,s,a){n=t.memoizedState,s=s(a,n),s=s==null?n:g({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var du={enqueueSetState:function(t,n,s){t=t._reactInternals;var a=Je(),o=bs(a);o.payload=n,s!=null&&(o.callback=s),n=Ts(t,o,a),n!==null&&(Pe(n,t,a),Ja(n,t,a))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var a=Je(),o=bs(a);o.tag=1,o.payload=n,s!=null&&(o.callback=s),n=Ts(t,o,a),n!==null&&(Pe(n,t,a),Ja(n,t,a))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Je(),a=bs(s);a.tag=2,n!=null&&(a.callback=n),n=Ts(t,a,s),n!==null&&(Pe(n,t,s),Ja(n,t,s))}};function Lp(t,n,s,a,o,u,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,u,_):n.prototype&&n.prototype.isPureReactComponent?!Ha(s,a)||!Ha(o,u):!0}function jp(t,n,s,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==t&&du.enqueueReplaceState(n,n.state,null)}function oi(t,n){var s=n;if("ref"in n){s={};for(var a in n)a!=="ref"&&(s[a]=n[a])}if(t=t.defaultProps){s===n&&(s=g({},s));for(var o in t)s[o]===void 0&&(s[o]=t[o])}return s}var kl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hp(t){kl(t)}function Gp(t){console.error(t)}function Yp(t){kl(t)}function ql(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function Fp(t,n,s){try{var a=t.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function pu(t,n,s){return s=bs(s),s.tag=3,s.payload={element:null},s.callback=function(){ql(t,n)},s}function Xp(t){return t=bs(t),t.tag=3,t}function Qp(t,n,s,a){var o=s.type.getDerivedStateFromError;if(typeof o=="function"){var u=a.value;t.payload=function(){return o(u)},t.callback=function(){Fp(n,s,a)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fp(n,s,a),typeof o!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function z0(t,n,s,a,o){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=s.alternate,n!==null&&Qa(n,s,o,!0),s=on.current,s!==null){switch(s.tag){case 13:return qn===null?Bu():s.alternate===null&&te===0&&(te=3),s.flags&=-257,s.flags|=65536,s.lanes=o,a===Yc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([a]):n.add(a),ju(t,a,o)),!1;case 22:return s.flags|=65536,a===Yc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([a]):s.add(a)),ju(t,a,o)),!1}throw Error(r(435,s.tag))}return ju(t,a,o),Bu(),!1}if(Rt)return n=on.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=o,a!==zc&&(t=Error(r(422),{cause:a}),Xa(sn(t,s)))):(a!==zc&&(n=Error(r(423),{cause:a}),Xa(sn(n,s))),t=t.current.alternate,t.flags|=65536,o&=-o,t.lanes|=o,a=sn(a,s),o=pu(t.stateNode,a,o),Qc(t,o),te!==4&&(te=2)),!1;var u=Error(r(520),{cause:a});if(u=sn(u,s),fr===null?fr=[u]:fr.push(u),te!==4&&(te=2),n===null)return!0;a=sn(a,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=o&-o,s.lanes|=t,t=pu(s.stateNode,a,t),Qc(s,t),!1;case 1:if(n=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ds===null||!Ds.has(u))))return s.flags|=65536,o&=-o,s.lanes|=o,o=Xp(o),Qp(o,t,s,a),Qc(s,o),!1}s=s.return}while(s!==null);return!1}var Zp=Error(r(461)),pe=!1;function ve(t,n,s,a){n.child=t===null?Up(n,null,s,a):Ii(n,t.child,s,a)}function Ip(t,n,s,a,o){s=s.render;var u=n.ref;if("ref"in a){var _={};for(var v in a)v!=="ref"&&(_[v]=a[v])}else _=a;return ai(n),a=Jc(t,n,s,_,u,o),v=Pc(),t!==null&&!pe?($c(t,n,o),Pn(t,n,o)):(Rt&&v&&qc(n),n.flags|=1,ve(t,n,a,o),n.child)}function Wp(t,n,s,a,o){if(t===null){var u=s.type;return typeof u=="function"&&!Nc(u)&&u.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=u,Kp(t,n,u,a,o)):(t=dl(s.type,null,a,n,n.mode,o),t.ref=n.ref,t.return=n,n.child=t)}if(u=t.child,!Su(t,o)){var _=u.memoizedProps;if(s=s.compare,s=s!==null?s:Ha,s(_,a)&&t.ref===n.ref)return Pn(t,n,o)}return n.flags|=1,t=Xn(u,a),t.ref=n.ref,t.return=n,n.child=t}function Kp(t,n,s,a,o){if(t!==null){var u=t.memoizedProps;if(Ha(u,a)&&t.ref===n.ref)if(pe=!1,n.pendingProps=a=u,Su(t,o))(t.flags&131072)!==0&&(pe=!0);else return n.lanes=t.lanes,Pn(t,n,o)}return mu(t,n,s,a,o)}function Jp(t,n,s){var a=n.pendingProps,o=a.children,u=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((n.flags&128)!==0){if(a=u!==null?u.baseLanes|s:s,t!==null){for(o=n.child=t.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;n.childLanes=u&~a}else n.childLanes=0,n.child=null;return Pp(t,n,a,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&yl(n,u!==null?u.cachePool:null),u!==null?Kd(n,u):Ic(),Bp(n);else return n.lanes=n.childLanes=536870912,Pp(t,n,u!==null?u.baseLanes|s:s,s)}else u!==null?(yl(n,u.cachePool),Kd(n,u),ws(),n.memoizedState=null):(t!==null&&yl(n,null),Ic(),ws());return ve(t,n,o,s),n.child}function Pp(t,n,s,a){var o=Gc();return o=o===null?null:{parent:ue._currentValue,pool:o},n.memoizedState={baseLanes:s,cachePool:o},t!==null&&yl(n,null),Ic(),Bp(n),t!==null&&Qa(t,n,a,!0),null}function Vl(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function mu(t,n,s,a,o){return ai(n),s=Jc(t,n,s,a,void 0,o),a=Pc(),t!==null&&!pe?($c(t,n,o),Pn(t,n,o)):(Rt&&a&&qc(n),n.flags|=1,ve(t,n,s,o),n.child)}function $p(t,n,s,a,o,u){return ai(n),n.updateQueue=null,s=Pd(n,a,s,o),Jd(t),a=Pc(),t!==null&&!pe?($c(t,n,u),Pn(t,n,u)):(Rt&&a&&qc(n),n.flags|=1,ve(t,n,s,u),n.child)}function tm(t,n,s,a,o){if(ai(n),n.stateNode===null){var u=Bi,_=s.contextType;typeof _=="object"&&_!==null&&(u=Ae(_)),u=new s(a,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=du,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=a,u.state=n.memoizedState,u.refs={},Fc(n),_=s.contextType,u.context=typeof _=="object"&&_!==null?Ae(_):Bi,u.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(fu(n,s,_,a),u.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(_=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),_!==u.state&&du.enqueueReplaceState(u,u.state,null),$a(n,a,u,o),Pa(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(t===null){u=n.stateNode;var v=n.memoizedProps,w=oi(s,v);u.props=w;var z=u.context,F=s.contextType;_=Bi,typeof F=="object"&&F!==null&&(_=Ae(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,F||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||z!==_)&&jp(n,u,a,_),vs=!1;var U=n.memoizedState;u.state=U,$a(n,a,u,o),Pa(),z=n.memoizedState,v||U!==z||vs?(typeof K=="function"&&(fu(n,s,K,a),z=n.memoizedState),(w=vs||Lp(n,s,w,a,U,z,_))?(F||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=z),u.props=a,u.state=z,u.context=_,a=w):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{u=n.stateNode,Xc(t,n),_=n.memoizedProps,F=oi(s,_),u.props=F,K=n.pendingProps,U=u.context,z=s.contextType,w=Bi,typeof z=="object"&&z!==null&&(w=Ae(z)),v=s.getDerivedStateFromProps,(z=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_!==K||U!==w)&&jp(n,u,a,w),vs=!1,U=n.memoizedState,u.state=U,$a(n,a,u,o),Pa();var L=n.memoizedState;_!==K||U!==L||vs||t!==null&&t.dependencies!==null&&_l(t.dependencies)?(typeof v=="function"&&(fu(n,s,v,a),L=n.memoizedState),(F=vs||Lp(n,s,F,a,U,L,w)||t!==null&&t.dependencies!==null&&_l(t.dependencies))?(z||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,L,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,L,w)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=L),u.props=a,u.state=L,u.context=w,a=F):(typeof u.componentDidUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),a=!1)}return u=a,Vl(t,n),a=(n.flags&128)!==0,u||a?(u=n.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,t!==null&&a?(n.child=Ii(n,t.child,null,o),n.child=Ii(n,null,s,o)):ve(t,n,s,o),n.memoizedState=u.state,t=n.child):t=Pn(t,n,o),t}function em(t,n,s,a){return Fa(),n.flags|=256,ve(t,n,s,a),n.child}var _u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gu(t){return{baseLanes:t,cachePool:Gd()}}function yu(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=cn),t}function nm(t,n,s){var a=n.pendingProps,o=!1,u=(n.flags&128)!==0,_;if((_=u)||(_=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),_&&(o=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Rt){if(o?xs(n):ws(),Rt){var v=$t,w;if(w=v){t:{for(w=v,v=kn;w.nodeType!==8;){if(!v){v=null;break t}if(w=wn(w.nextSibling),w===null){v=null;break t}}v=w}v!==null?(n.memoizedState={dehydrated:v,treeContext:ti!==null?{id:Qn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},w=Ze(18,null,null,0),w.stateNode=v,w.return=n,n.child=w,Me=n,$t=null,w=!0):w=!1}w||si(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return eh(v)?n.lanes=32:n.lanes=536870912,null;Jn(n)}return v=a.children,a=a.fallback,o?(ws(),o=n.mode,v=zl({mode:"hidden",children:v},o),a=$s(a,o,s,null),v.return=n,a.return=n,v.sibling=a,n.child=v,o=n.child,o.memoizedState=gu(s),o.childLanes=yu(t,_,s),n.memoizedState=_u,a):(xs(n),vu(n,v))}if(w=t.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(u)n.flags&256?(xs(n),n.flags&=-257,n=bu(t,n,s)):n.memoizedState!==null?(ws(),n.child=t.child,n.flags|=128,n=null):(ws(),o=a.fallback,v=n.mode,a=zl({mode:"visible",children:a.children},v),o=$s(o,v,s,null),o.flags|=2,a.return=n,o.return=n,a.sibling=o,n.child=a,Ii(n,t.child,null,s),a=n.child,a.memoizedState=gu(s),a.childLanes=yu(t,_,s),n.memoizedState=_u,n=o);else if(xs(n),eh(v)){if(_=v.nextSibling&&v.nextSibling.dataset,_)var z=_.dgst;_=z,a=Error(r(419)),a.stack="",a.digest=_,Xa({value:a,source:null,stack:null}),n=bu(t,n,s)}else if(pe||Qa(t,n,s,!1),_=(s&t.childLanes)!==0,pe||_){if(_=Ft,_!==null&&(a=s&-s,a=(a&42)!==0?1:nc(a),a=(a&(_.suspendedLanes|s))!==0?0:a,a!==0&&a!==w.retryLane))throw w.retryLane=a,Ui(t,a),Pe(_,t,a),Zp;v.data==="$?"||Bu(),n=bu(t,n,s)}else v.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,$t=wn(v.nextSibling),Me=n,Rt=!0,ni=null,kn=!1,t!==null&&(rn[ln++]=Qn,rn[ln++]=Zn,rn[ln++]=ti,Qn=t.id,Zn=t.overflow,ti=n),n=vu(n,a.children),n.flags|=4096);return n}return o?(ws(),o=a.fallback,v=n.mode,w=t.child,z=w.sibling,a=Xn(w,{mode:"hidden",children:a.children}),a.subtreeFlags=w.subtreeFlags&65011712,z!==null?o=Xn(z,o):(o=$s(o,v,s,null),o.flags|=2),o.return=n,a.return=n,a.sibling=o,n.child=a,a=o,o=n.child,v=t.child.memoizedState,v===null?v=gu(s):(w=v.cachePool,w!==null?(z=ue._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Gd(),v={baseLanes:v.baseLanes|s,cachePool:w}),o.memoizedState=v,o.childLanes=yu(t,_,s),n.memoizedState=_u,a):(xs(n),s=t.child,t=s.sibling,s=Xn(s,{mode:"visible",children:a.children}),s.return=n,s.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=s,n.memoizedState=null,s)}function vu(t,n){return n=zl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zl(t,n){return t=Ze(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bu(t,n,s){return Ii(n,t.child,null,s),t=vu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sm(t,n,s){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),Bc(t.return,n,s)}function Tu(t,n,s,a,o){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:o}:(u.isBackwards=n,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=s,u.tailMode=o)}function im(t,n,s){var a=n.pendingProps,o=a.revealOrder,u=a.tail;if(ve(t,n,a.children,s),a=he.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sm(t,s,n);else if(t.tag===19)sm(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(tt(he,a),o){case"forwards":for(s=n.child,o=null;s!==null;)t=s.alternate,t!==null&&Rl(t)===null&&(o=s),s=s.sibling;s=o,s===null?(o=n.child,n.child=null):(o=s.sibling,s.sibling=null),Tu(n,!1,o,s,u);break;case"backwards":for(s=null,o=n.child,n.child=null;o!==null;){if(t=o.alternate,t!==null&&Rl(t)===null){n.child=o;break}t=o.sibling,o.sibling=s,s=o,o=t}Tu(n,!0,s,null,u);break;case"together":Tu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ms|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Qa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Xn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Xn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Su(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_l(t)))}function U0(t,n,s){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),ys(n,ue,t.memoizedState.cache),Fa();break;case 27:case 5:bn(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?nm(t,n,s):(xs(n),t=Pn(t,n,s),t!==null?t.sibling:null);xs(n);break;case 19:var o=(t.flags&128)!==0;if(a=(s&n.childLanes)!==0,a||(Qa(t,n,s,!1),a=(s&n.childLanes)!==0),o){if(a)return im(t,n,s);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),tt(he,he.current),a)break;return null;case 22:case 23:return n.lanes=0,Jp(t,n,s);case 24:ys(n,ue,t.memoizedState.cache)}return Pn(t,n,s)}function am(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)pe=!0;else{if(!Su(t,s)&&(n.flags&128)===0)return pe=!1,U0(t,n,s);pe=(t.flags&131072)!==0}else pe=!1,Rt&&(n.flags&1048576)!==0&&Vd(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var a=n.elementType,o=a._init;if(a=o(a._payload),n.type=a,typeof a=="function")Nc(a)?(t=oi(a,t),n.tag=1,n=tm(null,n,a,t,s)):(n.tag=0,n=mu(null,n,a,t,s));else{if(a!=null){if(o=a.$$typeof,o===Q){n.tag=11,n=Ip(null,n,a,t,s);break t}else if(o===E){n.tag=14,n=Wp(null,n,a,t,s);break t}}throw n=$(a)||a,Error(r(306,n,""))}}return n;case 0:return mu(t,n,n.type,n.pendingProps,s);case 1:return a=n.type,o=oi(a,n.pendingProps),tm(t,n,a,o,s);case 3:t:{if(st(n,n.stateNode.containerInfo),t===null)throw Error(r(387));a=n.pendingProps;var u=n.memoizedState;o=u.element,Xc(t,n),$a(n,a,null,s);var _=n.memoizedState;if(a=_.cache,ys(n,ue,a),a!==u.cache&&Lc(n,[ue],s,!0),Pa(),a=_.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=em(t,n,a,s);break t}else if(a!==o){o=sn(Error(r(424)),n),Xa(o),n=em(t,n,a,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=wn(t.firstChild),Me=n,Rt=!0,ni=null,kn=!0,s=Up(n,null,a,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Fa(),a===o){n=Pn(t,n,s);break t}ve(t,n,a,s)}n=n.child}return n;case 26:return Vl(t,n),t===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Rt||(s=n.type,t=n.pendingProps,a=Kl(ot.current).createElement(s),a[we]=n,a[Ve]=t,Te(a,s,t),de(a),n.stateNode=a):n.memoizedState=c_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bn(n),t===null&&Rt&&(a=n.stateNode=r_(n.type,n.pendingProps,ot.current),Me=n,kn=!0,o=$t,ks(n.type)?(nh=o,$t=wn(a.firstChild)):$t=o),ve(t,n,n.pendingProps.children,s),Vl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Rt&&((o=a=$t)&&(a=hv(a,n.type,n.pendingProps,kn),a!==null?(n.stateNode=a,Me=n,$t=wn(a.firstChild),kn=!1,o=!0):o=!1),o||si(n)),bn(n),o=n.type,u=n.pendingProps,_=t!==null?t.memoizedProps:null,a=u.children,Pu(o,u)?a=null:_!==null&&Pu(o,_)&&(n.flags|=32),n.memoizedState!==null&&(o=Jc(t,n,M0,null,null,s),Tr._currentValue=o),Vl(t,n),ve(t,n,a,s),n.child;case 6:return t===null&&Rt&&((t=s=$t)&&(s=fv(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Me=n,$t=null,t=!0):t=!1),t||si(n)),null;case 13:return nm(t,n,s);case 4:return st(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=Ii(n,null,a,s):ve(t,n,a,s),n.child;case 11:return Ip(t,n,n.type,n.pendingProps,s);case 7:return ve(t,n,n.pendingProps,s),n.child;case 8:return ve(t,n,n.pendingProps.children,s),n.child;case 12:return ve(t,n,n.pendingProps.children,s),n.child;case 10:return a=n.pendingProps,ys(n,n.type,a.value),ve(t,n,a.children,s),n.child;case 9:return o=n.type._context,a=n.pendingProps.children,ai(n),o=Ae(o),a=a(o),n.flags|=1,ve(t,n,a,s),n.child;case 14:return Wp(t,n,n.type,n.pendingProps,s);case 15:return Kp(t,n,n.type,n.pendingProps,s);case 19:return im(t,n,s);case 31:return a=n.pendingProps,s=n.mode,a={mode:a.mode,children:a.children},t===null?(s=zl(a,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Xn(t.child,a),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Jp(t,n,s);case 24:return ai(n),a=Ae(ue),t===null?(o=Gc(),o===null&&(o=Ft,u=jc(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=s),o=u),n.memoizedState={parent:a,cache:o},Fc(n),ys(n,ue,o)):((t.lanes&s)!==0&&(Xc(t,n),$a(n,null,null,s),Pa()),o=t.memoizedState,u=n.memoizedState,o.parent!==a?(o={parent:a,cache:a},n.memoizedState=o,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=o),ys(n,ue,a)):(a=u.cache,ys(n,ue,a),a!==o.cache&&Lc(n,[ue],s,!0))),ve(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function $n(t){t.flags|=4}function rm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(n)){if(n=on.current,n!==null&&((Dt&4194048)===Dt?qn!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||n!==qn))throw Ka=Yc,Yd;t.flags|=8192}}function Ul(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bf():536870912,t.lanes|=n,Pi|=n)}function rr(t,n){if(!Rt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(n)for(var o=t.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=a,t.childLanes=s,n}function B0(t,n,s){var a=n.pendingProps;switch(Vc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return Pt(n),null;case 3:return s=n.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Wn(ue),xe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ya(n)?$n(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bd())),Pt(n),null;case 26:return s=n.memoizedState,t===null?($n(n),s!==null?(Pt(n),rm(n,s)):(Pt(n),n.flags&=-16777217)):s?s!==t.memoizedState?($n(n),Pt(n),rm(n,s)):(Pt(n),n.flags&=-16777217):(t.memoizedProps!==a&&$n(n),Pt(n),n.flags&=-16777217),null;case 27:Tn(n),s=ot.current;var o=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==a&&$n(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}t=ct.current,Ya(n)?zd(n):(t=r_(o,a,s),n.stateNode=t,$n(n))}return Pt(n),null;case 5:if(Tn(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==a&&$n(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(t=ct.current,Ya(n))zd(n);else{switch(o=Kl(ot.current),t){case 1:t=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?o.createElement(s,{is:a.is}):o.createElement(s)}}t[we]=n,t[Ve]=a;t:for(o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break t;for(;o.sibling===null;){if(o.return===null||o.return===n)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}n.stateNode=t;t:switch(Te(t,s,a),s){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$n(n)}}return Pt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==a&&$n(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(t=ot.current,Ya(n)){if(t=n.stateNode,s=n.memoizedProps,a=null,o=Me,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}t[we]=n,t=!!(t.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||$m(t.nodeValue,s)),t||si(n)}else t=Kl(t).createTextNode(a),t[we]=n,n.stateNode=t}return Pt(n),null;case 13:if(a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(o=Ya(n),a!==null&&a.dehydrated!==null){if(t===null){if(!o)throw Error(r(318));if(o=n.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[we]=n}else Fa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pt(n),o=!1}else o=Bd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),o=!0;if(!o)return n.flags&256?(Jn(n),n):(Jn(n),null)}if(Jn(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=a!==null,t=t!==null&&t.memoizedState!==null,s){a=n.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool);var u=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),Ul(n,n.updateQueue),Pt(n),null;case 4:return xe(),t===null&&Zu(n.stateNode.containerInfo),Pt(n),null;case 10:return Wn(n.type),Pt(n),null;case 19:if(P(he),o=n.memoizedState,o===null)return Pt(n),null;if(a=(n.flags&128)!==0,u=o.rendering,u===null)if(a)rr(o,!1);else{if(te!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(u=Rl(t),u!==null){for(n.flags|=128,rr(o,!1),t=u.updateQueue,n.updateQueue=t,Ul(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)qd(s,t),s=s.sibling;return tt(he,he.current&1|2),n.child}t=t.sibling}o.tail!==null&&kt()>jl&&(n.flags|=128,a=!0,rr(o,!1),n.lanes=4194304)}else{if(!a)if(t=Rl(u),t!==null){if(n.flags|=128,a=!0,t=t.updateQueue,n.updateQueue=t,Ul(n,t),rr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Rt)return Pt(n),null}else 2*kt()-o.renderingStartTime>jl&&s!==536870912&&(n.flags|=128,a=!0,rr(o,!1),n.lanes=4194304);o.isBackwards?(u.sibling=n.child,n.child=u):(t=o.last,t!==null?t.sibling=u:n.child=u,o.last=u)}return o.tail!==null?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=kt(),n.sibling=null,t=he.current,tt(he,a?t&1|2:t&1),n):(Pt(n),null);case 22:case 23:return Jn(n),Wc(),a=n.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(s&536870912)!==0&&(n.flags&128)===0&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),s=n.updateQueue,s!==null&&Ul(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==s&&(n.flags|=2048),t!==null&&P(ri),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wn(ue),Pt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function L0(t,n){switch(Vc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wn(ue),xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Tn(n),null;case 13:if(Jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Fa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return P(he),null;case 4:return xe(),null;case 10:return Wn(n.type),null;case 22:case 23:return Jn(n),Wc(),t!==null&&P(ri),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wn(ue),null;case 25:return null;default:return null}}function lm(t,n){switch(Vc(n),n.tag){case 3:Wn(ue),xe();break;case 26:case 27:case 5:Tn(n);break;case 4:xe();break;case 13:Jn(n);break;case 19:P(he);break;case 10:Wn(n.type);break;case 22:case 23:Jn(n),Wc(),t!==null&&P(ri);break;case 24:Wn(ue)}}function lr(t,n){try{var s=n.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var o=a.next;s=o;do{if((s.tag&t)===t){a=void 0;var u=s.create,_=s.inst;a=u(),_.destroy=a}s=s.next}while(s!==o)}}catch(v){Gt(n,n.return,v)}}function As(t,n,s){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var u=o.next;a=u;do{if((a.tag&t)===t){var _=a.inst,v=_.destroy;if(v!==void 0){_.destroy=void 0,o=n;var w=s,z=v;try{z()}catch(F){Gt(o,w,F)}}}a=a.next}while(a!==u)}}catch(F){Gt(n,n.return,F)}}function om(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Wd(n,s)}catch(a){Gt(t,t.return,a)}}}function cm(t,n,s){s.props=oi(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(a){Gt(t,n,a)}}function or(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof s=="function"?t.refCleanup=s(a):s.current=a}}catch(o){Gt(t,n,o)}}function Vn(t,n){var s=t.ref,a=t.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(o){Gt(t,n,o)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(o){Gt(t,n,o)}else s.current=null}function um(t){var n=t.type,s=t.memoizedProps,a=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break t;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(o){Gt(t,t.return,o)}}function xu(t,n,s){try{var a=t.stateNode;rv(a,t.type,s,n),a[Ve]=n}catch(o){Gt(t,t.return,o)}}function hm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function wu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||hm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Au(t,n,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Wl));else if(a!==4&&(a===27&&ks(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Au(t,n,s),t=t.sibling;t!==null;)Au(t,n,s),t=t.sibling}function Bl(t,n,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(a!==4&&(a===27&&ks(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Bl(t,n,s),t=t.sibling;t!==null;)Bl(t,n,s),t=t.sibling}function fm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var a=t.type,o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Te(n,a,s),n[we]=t,n[Ve]=s}catch(u){Gt(t,t.return,u)}}var ts=!1,ie=!1,Cu=!1,dm=typeof WeakSet=="function"?WeakSet:Set,me=null;function j0(t,n){if(t=t.containerInfo,Ku=no,t=wd(t),wc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var o=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break t}var _=0,v=-1,w=-1,z=0,F=0,K=t,U=null;e:for(;;){for(var L;K!==s||o!==0&&K.nodeType!==3||(v=_+o),K!==u||a!==0&&K.nodeType!==3||(w=_+a),K.nodeType===3&&(_+=K.nodeValue.length),(L=K.firstChild)!==null;)U=K,K=L;for(;;){if(K===t)break e;if(U===s&&++z===o&&(v=_),U===u&&++F===a&&(w=_),(L=K.nextSibling)!==null)break;K=U,U=K.parentNode}K=L}s=v===-1||w===-1?null:{start:v,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ju={focusedElem:t,selectionRange:s},no=!1,me=n;me!==null;)if(n=me,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,me=t;else for(;me!==null;){switch(n=me,u=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,s=n,o=u.memoizedProps,u=u.memoizedState,a=s.stateNode;try{var yt=oi(s.type,o,s.elementType===s.type);t=a.getSnapshotBeforeUpdate(yt,u),a.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Gt(s,s.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)th(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,me=t;break}me=n.return}}function pm(t,n,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:Cs(t,s),a&4&&lr(5,s);break;case 1:if(Cs(t,s),a&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(_){Gt(s,s.return,_)}else{var o=oi(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(o,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Gt(s,s.return,_)}}a&64&&om(s),a&512&&or(s,s.return);break;case 3:if(Cs(t,s),a&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Wd(t,n)}catch(_){Gt(s,s.return,_)}}break;case 27:n===null&&a&4&&fm(s);case 26:case 5:Cs(t,s),n===null&&a&4&&um(s),a&512&&or(s,s.return);break;case 12:Cs(t,s);break;case 13:Cs(t,s),a&4&&gm(t,s),a&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=W0.bind(null,s),dv(t,s))));break;case 22:if(a=s.memoizedState!==null||ts,!a){n=n!==null&&n.memoizedState!==null||ie,o=ts;var u=ie;ts=a,(ie=n)&&!u?Es(t,s,(s.subtreeFlags&8772)!==0):Cs(t,s),ts=o,ie=u}break;case 30:break;default:Cs(t,s)}}function mm(t){var n=t.alternate;n!==null&&(t.alternate=null,mm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ac(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kt=null,Be=!1;function es(t,n,s){for(s=s.child;s!==null;)_m(t,n,s),s=s.sibling}function _m(t,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Zs,s)}catch{}switch(s.tag){case 26:ie||Vn(s,n),es(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ie||Vn(s,n);var a=Kt,o=Be;ks(s.type)&&(Kt=s.stateNode,Be=!1),es(t,n,s),gr(s.stateNode),Kt=a,Be=o;break;case 5:ie||Vn(s,n);case 6:if(a=Kt,o=Be,Kt=null,es(t,n,s),Kt=a,Be=o,Kt!==null)if(Be)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(s.stateNode)}catch(u){Gt(s,n,u)}else try{Kt.removeChild(s.stateNode)}catch(u){Gt(s,n,u)}break;case 18:Kt!==null&&(Be?(t=Kt,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ar(t)):i_(Kt,s.stateNode));break;case 4:a=Kt,o=Be,Kt=s.stateNode.containerInfo,Be=!0,es(t,n,s),Kt=a,Be=o;break;case 0:case 11:case 14:case 15:ie||As(2,s,n),ie||As(4,s,n),es(t,n,s);break;case 1:ie||(Vn(s,n),a=s.stateNode,typeof a.componentWillUnmount=="function"&&cm(s,n,a)),es(t,n,s);break;case 21:es(t,n,s);break;case 22:ie=(a=ie)||s.memoizedState!==null,es(t,n,s),ie=a;break;default:es(t,n,s)}}function gm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ar(t)}catch(s){Gt(n,n.return,s)}}function H0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dm),n;default:throw Error(r(435,t.tag))}}function Eu(t,n){var s=H0(t);n.forEach(function(a){var o=K0.bind(null,t,a);s.has(a)||(s.add(a),a.then(o,o))})}function Ie(t,n){var s=n.deletions;if(s!==null)for(var a=0;a<s.length;a++){var o=s[a],u=t,_=n,v=_;t:for(;v!==null;){switch(v.tag){case 27:if(ks(v.type)){Kt=v.stateNode,Be=!1;break t}break;case 5:Kt=v.stateNode,Be=!1;break t;case 3:case 4:Kt=v.stateNode.containerInfo,Be=!0;break t}v=v.return}if(Kt===null)throw Error(r(160));_m(u,_,o),Kt=null,Be=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ym(n,t),n=n.sibling}var xn=null;function ym(t,n){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ie(n,t),We(t),a&4&&(As(3,t,t.return),lr(3,t),As(5,t,t.return));break;case 1:Ie(n,t),We(t),a&512&&(ie||s===null||Vn(s,s.return)),a&64&&ts&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var o=xn;if(Ie(n,t),We(t),a&512&&(ie||s===null||Vn(s,s.return)),a&4){var u=s!==null?s.memoizedState:null;if(a=t.memoizedState,s===null)if(a===null)if(t.stateNode===null){t:{a=t.type,s=t.memoizedProps,o=o.ownerDocument||o;e:switch(a){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ra]||u[we]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(a),o.head.insertBefore(u,o.querySelector("head > title"))),Te(u,a,s),u[we]=t,de(u),a=u;break t;case"link":var _=f_("link","href",o).get(a+(s.href||""));if(_){for(var v=0;v<_.length;v++)if(u=_[v],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(v,1);break e}}u=o.createElement(a),Te(u,a,s),o.head.appendChild(u);break;case"meta":if(_=f_("meta","content",o).get(a+(s.content||""))){for(v=0;v<_.length;v++)if(u=_[v],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(v,1);break e}}u=o.createElement(a),Te(u,a,s),o.head.appendChild(u);break;default:throw Error(r(468,a))}u[we]=t,de(u),a=u}t.stateNode=a}else d_(o,t.type,t.stateNode);else t.stateNode=h_(o,a,t.memoizedProps);else u!==a?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,a===null?d_(o,t.type,t.stateNode):h_(o,a,t.memoizedProps)):a===null&&t.stateNode!==null&&xu(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ie(n,t),We(t),a&512&&(ie||s===null||Vn(s,s.return)),s!==null&&a&4&&xu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ie(n,t),We(t),a&512&&(ie||s===null||Vn(s,s.return)),t.flags&32){o=t.stateNode;try{Di(o,"")}catch(L){Gt(t,t.return,L)}}a&4&&t.stateNode!=null&&(o=t.memoizedProps,xu(t,o,s!==null?s.memoizedProps:o)),a&1024&&(Cu=!0);break;case 6:if(Ie(n,t),We(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,s=t.stateNode;try{s.nodeValue=a}catch(L){Gt(t,t.return,L)}}break;case 3:if($l=null,o=xn,xn=Jl(n.containerInfo),Ie(n,t),xn=o,We(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Ar(n.containerInfo)}catch(L){Gt(t,t.return,L)}Cu&&(Cu=!1,vm(t));break;case 4:a=xn,xn=Jl(t.stateNode.containerInfo),Ie(n,t),We(t),xn=a;break;case 12:Ie(n,t),We(t);break;case 13:Ie(n,t),We(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ku=kt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Eu(t,a)));break;case 22:o=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,z=ts,F=ie;if(ts=z||o,ie=F||w,Ie(n,t),ie=F,ts=z,We(t),a&8192)t:for(n=t.stateNode,n._visibility=o?n._visibility&-2:n._visibility|1,o&&(s===null||w||ts||ie||ci(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(u=w.stateNode,o)_=u.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{v=w.stateNode;var K=w.memoizedProps.style,U=K!=null&&K.hasOwnProperty("display")?K.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(L){Gt(w,w.return,L)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(L){Gt(w,w.return,L)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=t.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,Eu(t,s))));break;case 19:Ie(n,t),We(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Eu(t,a)));break;case 30:break;case 21:break;default:Ie(n,t),We(t)}}function We(t){var n=t.flags;if(n&2){try{for(var s,a=t.return;a!==null;){if(hm(a)){s=a;break}a=a.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var o=s.stateNode,u=wu(t);Bl(t,u,o);break;case 5:var _=s.stateNode;s.flags&32&&(Di(_,""),s.flags&=-33);var v=wu(t);Bl(t,v,_);break;case 3:case 4:var w=s.stateNode.containerInfo,z=wu(t);Au(t,z,w);break;default:throw Error(r(161))}}catch(F){Gt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pm(t,n.alternate,n),n=n.sibling}function ci(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),ci(n);break;case 1:Vn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cm(n,n.return,s),ci(n);break;case 27:gr(n.stateNode);case 26:case 5:Vn(n,n.return),ci(n);break;case 22:n.memoizedState===null&&ci(n);break;case 30:ci(n);break;default:ci(n)}t=t.sibling}}function Es(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,o=t,u=n,_=u.flags;switch(u.tag){case 0:case 11:case 15:Es(o,u,s),lr(4,u);break;case 1:if(Es(o,u,s),a=u,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Gt(a,a.return,z)}if(a=u,o=a.updateQueue,o!==null){var v=a.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Id(w[o],v)}catch(z){Gt(a,a.return,z)}}s&&_&64&&om(u),or(u,u.return);break;case 27:fm(u);case 26:case 5:Es(o,u,s),s&&a===null&&_&4&&um(u),or(u,u.return);break;case 12:Es(o,u,s);break;case 13:Es(o,u,s),s&&_&4&&gm(o,u);break;case 22:u.memoizedState===null&&Es(o,u,s),or(u,u.return);break;case 30:break;default:Es(o,u,s)}n=n.sibling}}function Ou(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Za(s))}function Mu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Za(t))}function zn(t,n,s,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bm(t,n,s,a),n=n.sibling}function bm(t,n,s,a){var o=n.flags;switch(n.tag){case 0:case 11:case 15:zn(t,n,s,a),o&2048&&lr(9,n);break;case 1:zn(t,n,s,a);break;case 3:zn(t,n,s,a),o&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Za(t)));break;case 12:if(o&2048){zn(t,n,s,a),t=n.stateNode;try{var u=n.memoizedProps,_=u.id,v=u.onPostCommit;typeof v=="function"&&v(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Gt(n,n.return,w)}}else zn(t,n,s,a);break;case 13:zn(t,n,s,a);break;case 23:break;case 22:u=n.stateNode,_=n.alternate,n.memoizedState!==null?u._visibility&2?zn(t,n,s,a):cr(t,n):u._visibility&2?zn(t,n,s,a):(u._visibility|=2,Wi(t,n,s,a,(n.subtreeFlags&10256)!==0)),o&2048&&Ou(_,n);break;case 24:zn(t,n,s,a),o&2048&&Mu(n.alternate,n);break;default:zn(t,n,s,a)}}function Wi(t,n,s,a,o){for(o=o&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var u=t,_=n,v=s,w=a,z=_.flags;switch(_.tag){case 0:case 11:case 15:Wi(u,_,v,w,o),lr(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Wi(u,_,v,w,o):cr(u,_):(F._visibility|=2,Wi(u,_,v,w,o)),o&&z&2048&&Ou(_.alternate,_);break;case 24:Wi(u,_,v,w,o),o&&z&2048&&Mu(_.alternate,_);break;default:Wi(u,_,v,w,o)}n=n.sibling}}function cr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,a=n,o=a.flags;switch(a.tag){case 22:cr(s,a),o&2048&&Ou(a.alternate,a);break;case 24:cr(s,a),o&2048&&Mu(a.alternate,a);break;default:cr(s,a)}n=n.sibling}}var ur=8192;function Ki(t){if(t.subtreeFlags&ur)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 26:Ki(t),t.flags&ur&&t.memoizedState!==null&&Cv(xn,t.memoizedState,t.memoizedProps);break;case 5:Ki(t);break;case 3:case 4:var n=xn;xn=Jl(t.stateNode.containerInfo),Ki(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ur,ur=16777216,Ki(t),ur=n):Ki(t));break;default:Ki(t)}}function Sm(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];me=a,wm(a,t)}Sm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xm(t),t=t.sibling}function xm(t){switch(t.tag){case 0:case 11:case 15:hr(t),t.flags&2048&&As(9,t,t.return);break;case 3:hr(t);break;case 12:hr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ll(t)):hr(t);break;default:hr(t)}}function Ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];me=a,wm(a,t)}Sm(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:As(8,n,n.return),Ll(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ll(n));break;default:Ll(n)}t=t.sibling}}function wm(t,n){for(;me!==null;){var s=me;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Za(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,me=a;else t:for(s=t;me!==null;){a=me;var o=a.sibling,u=a.return;if(mm(a),a===s){me=null;break t}if(o!==null){o.return=u,me=o;break t}me=u}}}var G0={getCacheForType:function(t){var n=Ae(ue),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},Y0=typeof WeakMap=="function"?WeakMap:Map,zt=0,Ft=null,wt=null,Dt=0,Ut=0,Ke=null,Os=!1,Ji=!1,Du=!1,ns=0,te=0,Ms=0,ui=0,Nu=0,cn=0,Pi=0,fr=null,Le=null,Ru=!1,ku=0,jl=1/0,Hl=null,Ds=null,be=0,Ns=null,$i=null,ta=0,qu=0,Vu=null,Am=null,dr=0,zu=null;function Je(){if((zt&2)!==0&&Dt!==0)return Dt&-Dt;if(R.T!==null){var t=Hi;return t!==0?t:Yu()}return Hf()}function Cm(){cn===0&&(cn=(Dt&536870912)===0||Rt?Uf():536870912);var t=on.current;return t!==null&&(t.flags|=32),cn}function Pe(t,n,s){(t===Ft&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)&&(ea(t,0),Rs(t,Dt,cn,!1)),Na(t,s),((zt&2)===0||t!==Ft)&&(t===Ft&&((zt&2)===0&&(ui|=s),te===4&&Rs(t,Dt,cn,!1)),Un(t))}function Em(t,n,s){if((zt&6)!==0)throw Error(r(327));var a=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Da(t,n),o=a?Q0(t,n):Lu(t,n,!0),u=a;do{if(o===0){Ji&&!a&&Rs(t,n,0,!1);break}else{if(s=t.current.alternate,u&&!F0(s)){o=Lu(t,n,!1),u=!1;continue}if(o===2){if(u=n,t.errorRecoveryDisabledLanes&u)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var v=t;o=fr;var w=v.current.memoizedState.isDehydrated;if(w&&(ea(v,_).flags|=256),_=Lu(v,_,!1),_!==2){if(Du&&!w){v.errorRecoveryDisabledLanes|=u,ui|=u,o=4;break t}u=Le,Le=o,u!==null&&(Le===null?Le=u:Le.push.apply(Le,u))}o=_}if(u=!1,o!==2)continue}}if(o===1){ea(t,0),Rs(t,n,0,!0);break}t:{switch(a=t,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Rs(a,n,cn,!Os);break t;case 2:Le=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(o=ku+300-kt(),10<o)){if(Rs(a,n,cn,!Os),Pr(a,0,!0)!==0)break t;a.timeoutHandle=n_(Om.bind(null,a,s,Le,Hl,Ru,n,cn,ui,Pi,Os,u,2,-0,0),o);break t}Om(a,s,Le,Hl,Ru,n,cn,ui,Pi,Os,u,0,-0,0)}}break}while(!0);Un(t)}function Om(t,n,s,a,o,u,_,v,w,z,F,K,U,L){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(br={stylesheets:null,count:0,unsuspend:Av},Tm(n),K=Ev(),K!==null)){t.cancelPendingCommit=K(Vm.bind(null,t,n,u,s,a,o,_,v,w,F,1,U,L)),Rs(t,u,_,!z);return}Vm(t,n,u,s,a,o,_,v,w)}function F0(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var o=s[a],u=o.getSnapshot;o=o.value;try{if(!Qe(u(),o))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rs(t,n,s,a){n&=~Nu,n&=~ui,t.suspendedLanes|=n,t.pingedLanes&=~n,a&&(t.warmLanes|=n),a=t.expirationTimes;for(var o=n;0<o;){var u=31-Xe(o),_=1<<u;a[u]=-1,o&=~_}s!==0&&Lf(t,s,n)}function Gl(){return(zt&6)===0?(pr(0),!1):!0}function Uu(){if(wt!==null){if(Ut===0)var t=wt.return;else t=wt,In=ii=null,tu(t),Zi=null,ir=0,t=wt;for(;t!==null;)lm(t.alternate,t),t=t.return;wt=null}}function ea(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ov(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Uu(),Ft=t,wt=s=Xn(t.current,null),Dt=n,Ut=0,Ke=null,Os=!1,Ji=Da(t,n),Du=!1,Pi=cn=Nu=ui=Ms=te=0,Le=fr=null,Ru=!1,(n&8)!==0&&(n|=n&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=n;0<a;){var o=31-Xe(a),u=1<<o;n|=t[o],a&=~u}return ns=n,ul(),s}function Mm(t,n){St=null,R.H=Ml,n===Wa||n===vl?(n=Qd(),Ut=3):n===Yd?(n=Qd(),Ut=4):Ut=n===Zp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ke=n,wt===null&&(te=1,ql(t,sn(n,t.current)))}function Dm(){var t=R.H;return R.H=Ml,t===null?Ml:t}function Nm(){var t=R.A;return R.A=G0,t}function Bu(){te=4,Os||(Dt&4194048)!==Dt&&on.current!==null||(Ji=!0),(Ms&134217727)===0&&(ui&134217727)===0||Ft===null||Rs(Ft,Dt,cn,!1)}function Lu(t,n,s){var a=zt;zt|=2;var o=Dm(),u=Nm();(Ft!==t||Dt!==n)&&(Hl=null,ea(t,n)),n=!1;var _=te;t:do try{if(Ut!==0&&wt!==null){var v=wt,w=Ke;switch(Ut){case 8:Uu(),_=6;break t;case 3:case 2:case 9:case 6:on.current===null&&(n=!0);var z=Ut;if(Ut=0,Ke=null,na(t,v,w,z),s&&Ji){_=0;break t}break;default:z=Ut,Ut=0,Ke=null,na(t,v,w,z)}}X0(),_=te;break}catch(F){Mm(t,F)}while(!0);return n&&t.shellSuspendCounter++,In=ii=null,zt=a,R.H=o,R.A=u,wt===null&&(Ft=null,Dt=0,ul()),_}function X0(){for(;wt!==null;)Rm(wt)}function Q0(t,n){var s=zt;zt|=2;var a=Dm(),o=Nm();Ft!==t||Dt!==n?(Hl=null,jl=kt()+500,ea(t,n)):Ji=Da(t,n);t:do try{if(Ut!==0&&wt!==null){n=wt;var u=Ke;e:switch(Ut){case 1:Ut=0,Ke=null,na(t,n,u,1);break;case 2:case 9:if(Fd(u)){Ut=0,Ke=null,km(n);break}n=function(){Ut!==2&&Ut!==9||Ft!==t||(Ut=7),Un(t)},u.then(n,n);break t;case 3:Ut=7;break t;case 4:Ut=5;break t;case 7:Fd(u)?(Ut=0,Ke=null,km(n)):(Ut=0,Ke=null,na(t,n,u,7));break;case 5:var _=null;switch(wt.tag){case 26:_=wt.memoizedState;case 5:case 27:var v=wt;if(!_||p_(_)){Ut=0,Ke=null;var w=v.sibling;if(w!==null)wt=w;else{var z=v.return;z!==null?(wt=z,Yl(z)):wt=null}break e}}Ut=0,Ke=null,na(t,n,u,5);break;case 6:Ut=0,Ke=null,na(t,n,u,6);break;case 8:Uu(),te=6;break t;default:throw Error(r(462))}}Z0();break}catch(F){Mm(t,F)}while(!0);return In=ii=null,R.H=a,R.A=o,zt=s,wt!==null?0:(Ft=null,Dt=0,ul(),te)}function Z0(){for(;wt!==null&&!rt();)Rm(wt)}function Rm(t){var n=am(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?Yl(t):wt=n}function km(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=$p(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=$p(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:tu(n);default:lm(s,n),n=wt=qd(n,ns),n=am(s,n,ns)}t.memoizedProps=t.pendingProps,n===null?Yl(t):wt=n}function na(t,n,s,a){In=ii=null,tu(n),Zi=null,ir=0;var o=n.return;try{if(z0(t,o,n,s,Dt)){te=1,ql(t,sn(s,t.current)),wt=null;return}}catch(u){if(o!==null)throw wt=o,u;te=1,ql(t,sn(s,t.current)),wt=null;return}n.flags&32768?(Rt||a===1?t=!0:Ji||(Dt&536870912)!==0?t=!1:(Os=t=!0,(a===2||a===9||a===3||a===6)&&(a=on.current,a!==null&&a.tag===13&&(a.flags|=16384))),qm(n,t)):Yl(n)}function Yl(t){var n=t;do{if((n.flags&32768)!==0){qm(n,Os);return}t=n.return;var s=B0(n.alternate,n,ns);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);te===0&&(te=5)}function qm(t,n){do{var s=L0(t.alternate,t);if(s!==null){s.flags&=32767,wt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=s}while(t!==null);te=6,wt=null}function Vm(t,n,s,a,o,u,_,v,w){t.cancelPendingCommit=null;do Fl();while(be!==0);if((zt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(u=n.lanes|n.childLanes,u|=Mc,Ay(t,s,u,_,v,w),t===Ft&&(wt=Ft=null,Dt=0),$i=n,Ns=t,ta=s,qu=u,Vu=o,Am=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J0(ye,function(){return jm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=R.T,R.T=null,o=j.p,j.p=2,_=zt,zt|=4;try{j0(t,n,s)}finally{zt=_,j.p=o,R.T=a}}be=1,zm(),Um(),Bm()}}function zm(){if(be===1){be=0;var t=Ns,n=$i,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=R.T,R.T=null;var a=j.p;j.p=2;var o=zt;zt|=4;try{ym(n,t);var u=Ju,_=wd(t.containerInfo),v=u.focusedElem,w=u.selectionRange;if(_!==v&&v&&v.ownerDocument&&xd(v.ownerDocument.documentElement,v)){if(w!==null&&wc(v)){var z=w.start,F=w.end;if(F===void 0&&(F=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(F,v.value.length);else{var K=v.ownerDocument||document,U=K&&K.defaultView||window;if(U.getSelection){var L=U.getSelection(),yt=v.textContent.length,pt=Math.min(w.start,yt),jt=w.end===void 0?pt:Math.min(w.end,yt);!L.extend&&pt>jt&&(_=jt,jt=pt,pt=_);var k=Sd(v,pt),M=Sd(v,jt);if(k&&M&&(L.rangeCount!==1||L.anchorNode!==k.node||L.anchorOffset!==k.offset||L.focusNode!==M.node||L.focusOffset!==M.offset)){var V=K.createRange();V.setStart(k.node,k.offset),L.removeAllRanges(),pt>jt?(L.addRange(V),L.extend(M.node,M.offset)):(V.setEnd(M.node,M.offset),L.addRange(V))}}}}for(K=[],L=v;L=L.parentNode;)L.nodeType===1&&K.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<K.length;v++){var X=K[v];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}no=!!Ku,Ju=Ku=null}finally{zt=o,j.p=a,R.T=s}}t.current=n,be=2}}function Um(){if(be===2){be=0;var t=Ns,n=$i,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=R.T,R.T=null;var a=j.p;j.p=2;var o=zt;zt|=4;try{pm(t,n.alternate,n)}finally{zt=o,j.p=a,R.T=s}}be=3}}function Bm(){if(be===4||be===3){be=0,gt();var t=Ns,n=$i,s=ta,a=Am;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,$i=Ns=null,Lm(t,t.pendingLanes));var o=t.pendingLanes;if(o===0&&(Ds=null),sc(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Zs,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=R.T,o=j.p,j.p=2,R.T=null;try{for(var u=t.onRecoverableError,_=0;_<a.length;_++){var v=a[_];u(v.value,{componentStack:v.stack})}}finally{R.T=n,j.p=o}}(ta&3)!==0&&Fl(),Un(t),o=t.pendingLanes,(s&4194090)!==0&&(o&42)!==0?t===zu?dr++:(dr=0,zu=t):dr=0,pr(0)}}function Lm(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Za(n)))}function Fl(t){return zm(),Um(),Bm(),jm()}function jm(){if(be!==5)return!1;var t=Ns,n=qu;qu=0;var s=sc(ta),a=R.T,o=j.p;try{j.p=32>s?32:s,R.T=null,s=Vu,Vu=null;var u=Ns,_=ta;if(be=0,$i=Ns=null,ta=0,(zt&6)!==0)throw Error(r(331));var v=zt;if(zt|=4,xm(u.current),bm(u,u.current,_,s),zt=v,pr(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Zs,u)}catch{}return!0}finally{j.p=o,R.T=a,Lm(t,n)}}function Hm(t,n,s){n=sn(s,n),n=pu(t.stateNode,n,2),t=Ts(t,n,2),t!==null&&(Na(t,2),Un(t))}function Gt(t,n,s){if(t.tag===3)Hm(t,t,s);else for(;n!==null;){if(n.tag===3){Hm(n,t,s);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ds===null||!Ds.has(a))){t=sn(s,t),s=Xp(2),a=Ts(n,s,2),a!==null&&(Qp(s,a,n,t),Na(a,2),Un(a));break}}n=n.return}}function ju(t,n,s){var a=t.pingCache;if(a===null){a=t.pingCache=new Y0;var o=new Set;a.set(n,o)}else o=a.get(n),o===void 0&&(o=new Set,a.set(n,o));o.has(s)||(Du=!0,o.add(s),t=I0.bind(null,t,n,s),n.then(t,t))}function I0(t,n,s){var a=t.pingCache;a!==null&&a.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ft===t&&(Dt&s)===s&&(te===4||te===3&&(Dt&62914560)===Dt&&300>kt()-ku?(zt&2)===0&&ea(t,0):Nu|=s,Pi===Dt&&(Pi=0)),Un(t)}function Gm(t,n){n===0&&(n=Bf()),t=Ui(t,n),t!==null&&(Na(t,n),Un(t))}function W0(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Gm(t,s)}function K0(t,n){var s=0;switch(t.tag){case 13:var a=t.stateNode,o=t.memoizedState;o!==null&&(s=o.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(n),Gm(t,s)}function J0(t,n){return Ea(t,n)}var Xl=null,sa=null,Hu=!1,Ql=!1,Gu=!1,hi=0;function Un(t){t!==sa&&t.next===null&&(sa===null?Xl=sa=t:sa=sa.next=t),Ql=!0,Hu||(Hu=!0,$0())}function pr(t,n){if(!Gu&&Ql){Gu=!0;do for(var s=!1,a=Xl;a!==null;){if(t!==0){var o=a.pendingLanes;if(o===0)var u=0;else{var _=a.suspendedLanes,v=a.pingedLanes;u=(1<<31-Xe(42|t)+1)-1,u&=o&~(_&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,Qm(a,u))}else u=Dt,u=Pr(a,a===Ft?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||Da(a,u)||(s=!0,Qm(a,u));a=a.next}while(s);Gu=!1}}function P0(){Ym()}function Ym(){Ql=Hu=!1;var t=0;hi!==0&&(lv()&&(t=hi),hi=0);for(var n=kt(),s=null,a=Xl;a!==null;){var o=a.next,u=Fm(a,n);u===0?(a.next=null,s===null?Xl=o:s.next=o,o===null&&(sa=s)):(s=a,(t!==0||(u&3)!==0)&&(Ql=!0)),a=o}pr(t)}function Fm(t,n){for(var s=t.suspendedLanes,a=t.pingedLanes,o=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var _=31-Xe(u),v=1<<_,w=o[_];w===-1?((v&s)===0||(v&a)!==0)&&(o[_]=wy(v,n)):w<=n&&(t.expiredLanes|=v),u&=~v}if(n=Ft,s=Dt,s=Pr(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,s===0||t===n&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Oa(a),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Da(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(a!==null&&Oa(a),sc(s)){case 2:case 8:s=It;break;case 32:s=ye;break;case 268435456:s=ps;break;default:s=ye}return a=Xm.bind(null,t),s=Ea(s,a),t.callbackPriority=n,t.callbackNode=s,n}return a!==null&&a!==null&&Oa(a),t.callbackPriority=2,t.callbackNode=null,2}function Xm(t,n){if(be!==0&&be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Fl()&&t.callbackNode!==s)return null;var a=Dt;return a=Pr(t,t===Ft?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Em(t,a,n),Fm(t,kt()),t.callbackNode!=null&&t.callbackNode===s?Xm.bind(null,t):null)}function Qm(t,n){if(Fl())return null;Em(t,n,!0)}function $0(){cv(function(){(zt&6)!==0?Ea(Mt,P0):Ym()})}function Yu(){return hi===0&&(hi=Uf()),hi}function Zm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sl(""+t)}function Im(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function tv(t,n,s,a,o){if(n==="submit"&&s&&s.stateNode===o){var u=Zm((o[Ve]||null).action),_=a.submitter;_&&(n=(n=_[Ve]||null)?Zm(n.formAction):_.getAttribute("formAction"),n!==null&&(u=n,_=null));var v=new ll("action","action",null,a,o);t.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(hi!==0){var w=_?Im(o,_):new FormData(o);cu(s,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=_?Im(o,_):new FormData(o),cu(s,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var Fu=0;Fu<Oc.length;Fu++){var Xu=Oc[Fu],ev=Xu.toLowerCase(),nv=Xu[0].toUpperCase()+Xu.slice(1);Sn(ev,"on"+nv)}Sn(Ed,"onAnimationEnd"),Sn(Od,"onAnimationIteration"),Sn(Md,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(v0,"onTransitionRun"),Sn(b0,"onTransitionStart"),Sn(T0,"onTransitionCancel"),Sn(Dd,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mr));function Wm(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],o=a.event;a=a.listeners;t:{var u=void 0;if(n)for(var _=a.length-1;0<=_;_--){var v=a[_],w=v.instance,z=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break t;u=v,o.currentTarget=z;try{u(o)}catch(F){kl(F)}o.currentTarget=null,u=w}else for(_=0;_<a.length;_++){if(v=a[_],w=v.instance,z=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break t;u=v,o.currentTarget=z;try{u(o)}catch(F){kl(F)}o.currentTarget=null,u=w}}}}function At(t,n){var s=n[ic];s===void 0&&(s=n[ic]=new Set);var a=t+"__bubble";s.has(a)||(Km(n,t,2,!1),s.add(a))}function Qu(t,n,s){var a=0;n&&(a|=4),Km(s,t,a,n)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Zu(t){if(!t[Zl]){t[Zl]=!0,Yf.forEach(function(s){s!=="selectionchange"&&(sv.has(s)||Qu(s,!1,t),Qu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Zl]||(n[Zl]=!0,Qu("selectionchange",!1,n))}}function Km(t,n,s,a){switch(b_(n)){case 2:var o=Dv;break;case 8:o=Nv;break;default:o=lh}s=o.bind(null,n,s,t),o=void 0,!mc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),a?o!==void 0?t.addEventListener(n,s,{capture:!0,passive:o}):t.addEventListener(n,s,!0):o!==void 0?t.addEventListener(n,s,{passive:o}):t.addEventListener(n,s,!1)}function Iu(t,n,s,a,o){var u=a;if((n&1)===0&&(n&2)===0&&a!==null)t:for(;;){if(a===null)return;var _=a.tag;if(_===3||_===4){var v=a.stateNode.containerInfo;if(v===o)break;if(_===4)for(_=a.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===o)return;_=_.return}for(;v!==null;){if(_=wi(v),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){a=u=_;continue t}v=v.parentNode}}a=a.return}sd(function(){var z=u,F=dc(s),K=[];t:{var U=Nd.get(t);if(U!==void 0){var L=ll,yt=t;switch(t){case"keypress":if(al(s)===0)break t;case"keydown":case"keyup":L=Jy;break;case"focusin":yt="focus",L=vc;break;case"focusout":yt="blur",L=vc;break;case"beforeblur":case"afterblur":L=vc;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=t0;break;case Ed:case Od:case Md:L=Gy;break;case Dd:L=n0;break;case"scroll":case"scrollend":L=Uy;break;case"wheel":L=i0;break;case"copy":case"cut":case"paste":L=Fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=od;break;case"toggle":case"beforetoggle":L=r0}var pt=(n&4)!==0,jt=!pt&&(t==="scroll"||t==="scrollend"),k=pt?U!==null?U+"Capture":null:U;pt=[];for(var M=z,V;M!==null;){var X=M;if(V=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||V===null||k===null||(X=qa(M,k),X!=null&&pt.push(_r(M,X,V))),jt)break;M=M.return}0<pt.length&&(U=new L(U,yt,null,s,F),K.push({event:U,listeners:pt}))}}if((n&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",U&&s!==fc&&(yt=s.relatedTarget||s.fromElement)&&(wi(yt)||yt[xi]))break t;if((L||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,L?(yt=s.relatedTarget||s.toElement,L=z,yt=yt?wi(yt):null,yt!==null&&(jt=h(yt),pt=yt.tag,yt!==jt||pt!==5&&pt!==27&&pt!==6)&&(yt=null)):(L=null,yt=z),L!==yt)){if(pt=rd,X="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pt=od,X="onPointerLeave",k="onPointerEnter",M="pointer"),jt=L==null?U:ka(L),V=yt==null?U:ka(yt),U=new pt(X,M+"leave",L,s,F),U.target=jt,U.relatedTarget=V,X=null,wi(F)===z&&(pt=new pt(k,M+"enter",yt,s,F),pt.target=V,pt.relatedTarget=jt,X=pt),jt=X,L&&yt)e:{for(pt=L,k=yt,M=0,V=pt;V;V=ia(V))M++;for(V=0,X=k;X;X=ia(X))V++;for(;0<M-V;)pt=ia(pt),M--;for(;0<V-M;)k=ia(k),V--;for(;M--;){if(pt===k||k!==null&&pt===k.alternate)break e;pt=ia(pt),k=ia(k)}pt=null}else pt=null;L!==null&&Jm(K,U,L,pt,!1),yt!==null&&jt!==null&&Jm(K,jt,yt,pt,!0)}}t:{if(U=z?ka(z):window,L=U.nodeName&&U.nodeName.toLowerCase(),L==="select"||L==="input"&&U.type==="file")var ut=_d;else if(pd(U))if(gd)ut=_0;else{ut=p0;var xt=d0}else L=U.nodeName,!L||L.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?z&&hc(z.elementType)&&(ut=_d):ut=m0;if(ut&&(ut=ut(t,z))){md(K,ut,s,F);break t}xt&&xt(t,U,z),t==="focusout"&&z&&U.type==="number"&&z.memoizedProps.value!=null&&uc(U,"number",U.value)}switch(xt=z?ka(z):window,t){case"focusin":(pd(xt)||xt.contentEditable==="true")&&(qi=xt,Ac=z,Ga=null);break;case"focusout":Ga=Ac=qi=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Ad(K,s,F);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":Ad(K,s,F)}var ft;if(Tc)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else ki?fd(t,s)&&(_t="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(cd&&s.locale!=="ko"&&(ki||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ki&&(ft=id()):(gs=F,_c="value"in gs?gs.value:gs.textContent,ki=!0)),xt=Il(z,_t),0<xt.length&&(_t=new ld(_t,t,null,s,F),K.push({event:_t,listeners:xt}),ft?_t.data=ft:(ft=dd(s),ft!==null&&(_t.data=ft)))),(ft=o0?c0(t,s):u0(t,s))&&(_t=Il(z,"onBeforeInput"),0<_t.length&&(xt=new ld("onBeforeInput","beforeinput",null,s,F),K.push({event:xt,listeners:_t}),xt.data=ft)),tv(K,t,z,s,F)}Wm(K,n)})}function _r(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Il(t,n){for(var s=n+"Capture",a=[];t!==null;){var o=t,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=qa(t,s),o!=null&&a.unshift(_r(t,o,u)),o=qa(t,n),o!=null&&a.push(_r(t,o,u))),t.tag===3)return a;t=t.return}return[]}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jm(t,n,s,a,o){for(var u=n._reactName,_=[];s!==null&&s!==a;){var v=s,w=v.alternate,z=v.stateNode;if(v=v.tag,w!==null&&w===a)break;v!==5&&v!==26&&v!==27||z===null||(w=z,o?(z=qa(s,u),z!=null&&_.unshift(_r(s,z,w))):o||(z=qa(s,u),z!=null&&_.push(_r(s,z,w)))),s=s.return}_.length!==0&&t.push({event:n,listeners:_})}var iv=/\r\n?/g,av=/\u0000|\uFFFD/g;function Pm(t){return(typeof t=="string"?t:""+t).replace(iv,`
`).replace(av,"")}function $m(t,n){return n=Pm(n),Pm(t)===n}function Wl(){}function Lt(t,n,s,a,o,u){switch(s){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Di(t,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Di(t,""+a);break;case"className":tl(t,"class",a);break;case"tabIndex":tl(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(t,s,a);break;case"style":ed(t,a,u);break;case"data":if(n!=="object"){tl(t,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=sl(""+a),t.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(n!=="input"&&Lt(t,n,"name",o.name,o,null),Lt(t,n,"formEncType",o.formEncType,o,null),Lt(t,n,"formMethod",o.formMethod,o,null),Lt(t,n,"formTarget",o.formTarget,o,null)):(Lt(t,n,"encType",o.encType,o,null),Lt(t,n,"method",o.method,o,null),Lt(t,n,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=sl(""+a),t.setAttribute(s,a);break;case"onClick":a!=null&&(t.onclick=Wl);break;case"onScroll":a!=null&&At("scroll",t);break;case"onScrollEnd":a!=null&&At("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}s=sl(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""+a):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":a===!0?t.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,a):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(s,a):t.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(s):t.setAttribute(s,a);break;case"popover":At("beforetoggle",t),At("toggle",t),$r(t,"popover",a);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":$r(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vy.get(s)||s,$r(t,s,a))}}function Wu(t,n,s,a,o,u){switch(s){case"style":ed(t,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(o.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof a=="string"?Di(t,a):(typeof a=="number"||typeof a=="bigint")&&Di(t,""+a);break;case"onScroll":a!=null&&At("scroll",t);break;case"onScrollEnd":a!=null&&At("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Wl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ff.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(o=s.endsWith("Capture"),n=s.slice(2,o?s.length-7:void 0),u=t[Ve]||null,u=u!=null?u[s]:null,typeof u=="function"&&t.removeEventListener(n,u,o),typeof a=="function")){typeof u!="function"&&u!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,a,o);break t}s in t?t[s]=a:a===!0?t.setAttribute(s,""):$r(t,s,a)}}}function Te(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":At("error",t),At("load",t);var a=!1,o=!1,u;for(u in s)if(s.hasOwnProperty(u)){var _=s[u];if(_!=null)switch(u){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Lt(t,n,u,_,s,null)}}o&&Lt(t,n,"srcSet",s.srcSet,s,null),a&&Lt(t,n,"src",s.src,s,null);return;case"input":At("invalid",t);var v=u=_=o=null,w=null,z=null;for(a in s)if(s.hasOwnProperty(a)){var F=s[a];if(F!=null)switch(a){case"name":o=F;break;case"type":_=F;break;case"checked":w=F;break;case"defaultChecked":z=F;break;case"value":u=F;break;case"defaultValue":v=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Lt(t,n,a,F,s,null)}}Jf(t,u,v,w,z,_,o,!1),el(t);return;case"select":At("invalid",t),a=_=u=null;for(o in s)if(s.hasOwnProperty(o)&&(v=s[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":_=v;break;case"multiple":a=v;default:Lt(t,n,o,v,s,null)}n=u,s=_,t.multiple=!!a,n!=null?Mi(t,!!a,n,!1):s!=null&&Mi(t,!!a,s,!0);return;case"textarea":At("invalid",t),u=o=a=null;for(_ in s)if(s.hasOwnProperty(_)&&(v=s[_],v!=null))switch(_){case"value":a=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Lt(t,n,_,v,s,null)}$f(t,a,o,u),el(t);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(a=s[w],a!=null))switch(w){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Lt(t,n,w,a,s,null)}return;case"dialog":At("beforetoggle",t),At("toggle",t),At("cancel",t),At("close",t);break;case"iframe":case"object":At("load",t);break;case"video":case"audio":for(a=0;a<mr.length;a++)At(mr[a],t);break;case"image":At("error",t),At("load",t);break;case"details":At("toggle",t);break;case"embed":case"source":case"link":At("error",t),At("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(a=s[z],a!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Lt(t,n,z,a,s,null)}return;default:if(hc(n)){for(F in s)s.hasOwnProperty(F)&&(a=s[F],a!==void 0&&Wu(t,n,F,a,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(a=s[v],a!=null&&Lt(t,n,v,a,s,null))}function rv(t,n,s,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,_=null,v=null,w=null,z=null,F=null;for(L in s){var K=s[L];if(s.hasOwnProperty(L)&&K!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":w=K;default:a.hasOwnProperty(L)||Lt(t,n,L,null,a,K)}}for(var U in a){var L=a[U];if(K=s[U],a.hasOwnProperty(U)&&(L!=null||K!=null))switch(U){case"type":u=L;break;case"name":o=L;break;case"checked":z=L;break;case"defaultChecked":F=L;break;case"value":_=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,n));break;default:L!==K&&Lt(t,n,U,L,a,K)}}cc(t,_,v,w,z,F,u,o);return;case"select":L=_=v=U=null;for(u in s)if(w=s[u],s.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":L=w;default:a.hasOwnProperty(u)||Lt(t,n,u,null,a,w)}for(o in a)if(u=a[o],w=s[o],a.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":U=u;break;case"defaultValue":v=u;break;case"multiple":_=u;default:u!==w&&Lt(t,n,o,u,a,w)}n=v,s=_,a=L,U!=null?Mi(t,!!s,U,!1):!!a!=!!s&&(n!=null?Mi(t,!!s,n,!0):Mi(t,!!s,s?[]:"",!1));return;case"textarea":L=U=null;for(v in s)if(o=s[v],s.hasOwnProperty(v)&&o!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Lt(t,n,v,null,a,o)}for(_ in a)if(o=a[_],u=s[_],a.hasOwnProperty(_)&&(o!=null||u!=null))switch(_){case"value":U=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Lt(t,n,_,o,a,u)}Pf(t,U,L);return;case"option":for(var yt in s)if(U=s[yt],s.hasOwnProperty(yt)&&U!=null&&!a.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Lt(t,n,yt,null,a,U)}for(w in a)if(U=a[w],L=s[w],a.hasOwnProperty(w)&&U!==L&&(U!=null||L!=null))switch(w){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Lt(t,n,w,U,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)U=s[pt],s.hasOwnProperty(pt)&&U!=null&&!a.hasOwnProperty(pt)&&Lt(t,n,pt,null,a,U);for(z in a)if(U=a[z],L=s[z],a.hasOwnProperty(z)&&U!==L&&(U!=null||L!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:Lt(t,n,z,U,a,L)}return;default:if(hc(n)){for(var jt in s)U=s[jt],s.hasOwnProperty(jt)&&U!==void 0&&!a.hasOwnProperty(jt)&&Wu(t,n,jt,void 0,a,U);for(F in a)U=a[F],L=s[F],!a.hasOwnProperty(F)||U===L||U===void 0&&L===void 0||Wu(t,n,F,U,a,L);return}}for(var k in s)U=s[k],s.hasOwnProperty(k)&&U!=null&&!a.hasOwnProperty(k)&&Lt(t,n,k,null,a,U);for(K in a)U=a[K],L=s[K],!a.hasOwnProperty(K)||U===L||U==null&&L==null||Lt(t,n,K,U,a,L)}var Ku=null,Ju=null;function Kl(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $u=null;function lv(){var t=window.event;return t&&t.type==="popstate"?t===$u?!1:($u=t,!0):($u=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(uv)}:n_;function uv(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function i_(t,n){var s=n,a=0,o=0;do{var u=s.nextSibling;if(t.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(0<a&&8>a){s=a;var _=t.ownerDocument;if(s&1&&gr(_.documentElement),s&2&&gr(_.body),s&4)for(s=_.head,gr(s),_=s.firstChild;_;){var v=_.nextSibling,w=_.nodeName;_[Ra]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=v}}if(o===0){t.removeChild(u),Ar(n);return}o--}else s==="$"||s==="$?"||s==="$!"?o++:a=s.charCodeAt(0)-48;else a=0;s=u}while(s);Ar(n)}function th(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":th(s),ac(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function hv(t,n,s,a){for(;t.nodeType===1;){var o=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ra])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==o.rel||t.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||t.getAttribute("title")!==(o.title==null?null:o.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(o.src==null?null:o.src)||t.getAttribute("type")!==(o.type==null?null:o.type)||t.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=wn(t.nextSibling),t===null)break}return null}function fv(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=wn(t.nextSibling),t===null))return null;return t}function eh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function dv(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var a=function(){n(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nh=null;function a_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function r_(t,n,s){switch(n=Kl(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function gr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ac(t)}var un=new Map,l_=new Set;function Jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=j.d;j.d={f:pv,r:mv,D:_v,C:gv,L:yv,m:vv,X:Tv,S:bv,M:Sv};function pv(){var t=ss.f(),n=Gl();return t||n}function mv(t){var n=Ai(t);n!==null&&n.tag===5&&n.type==="form"?Ep(n):ss.r(t)}var aa=typeof document>"u"?null:document;function o_(t,n,s){var a=aa;if(a&&typeof n=="string"&&n){var o=nn(n);o='link[rel="'+t+'"][href="'+o+'"]',typeof s=="string"&&(o+='[crossorigin="'+s+'"]'),l_.has(o)||(l_.add(o),t={rel:t,crossOrigin:s,href:n},a.querySelector(o)===null&&(n=a.createElement("link"),Te(n,"link",t),de(n),a.head.appendChild(n)))}}function _v(t){ss.D(t),o_("dns-prefetch",t,null)}function gv(t,n){ss.C(t,n),o_("preconnect",t,n)}function yv(t,n,s){ss.L(t,n,s);var a=aa;if(a&&t&&n){var o='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(o+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(o+='[imagesizes="'+nn(s.imageSizes)+'"]')):o+='[href="'+nn(t)+'"]';var u=o;switch(n){case"style":u=ra(t);break;case"script":u=la(t)}un.has(u)||(t=g({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),un.set(u,t),a.querySelector(o)!==null||n==="style"&&a.querySelector(yr(u))||n==="script"&&a.querySelector(vr(u))||(n=a.createElement("link"),Te(n,"link",t),de(n),a.head.appendChild(n)))}}function vv(t,n){ss.m(t,n);var s=aa;if(s&&t){var a=n&&typeof n.as=="string"?n.as:"script",o='link[rel="modulepreload"][as="'+nn(a)+'"][href="'+nn(t)+'"]',u=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=la(t)}if(!un.has(u)&&(t=g({rel:"modulepreload",href:t},n),un.set(u,t),s.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vr(u)))return}a=s.createElement("link"),Te(a,"link",t),de(a),s.head.appendChild(a)}}}function bv(t,n,s){ss.S(t,n,s);var a=aa;if(a&&t){var o=Ci(a).hoistableStyles,u=ra(t);n=n||"default";var _=o.get(u);if(!_){var v={loading:0,preload:null};if(_=a.querySelector(yr(u)))v.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":n},s),(s=un.get(u))&&sh(t,s);var w=_=a.createElement("link");de(w),Te(w,"link",t),w._p=new Promise(function(z,F){w.onload=z,w.onerror=F}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Pl(_,n,a)}_={type:"stylesheet",instance:_,count:1,state:v},o.set(u,_)}}}function Tv(t,n){ss.X(t,n);var s=aa;if(s&&t){var a=Ci(s).hoistableScripts,o=la(t),u=a.get(o);u||(u=s.querySelector(vr(o)),u||(t=g({src:t,async:!0},n),(n=un.get(o))&&ih(t,n),u=s.createElement("script"),de(u),Te(u,"link",t),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(o,u))}}function Sv(t,n){ss.M(t,n);var s=aa;if(s&&t){var a=Ci(s).hoistableScripts,o=la(t),u=a.get(o);u||(u=s.querySelector(vr(o)),u||(t=g({src:t,async:!0,type:"module"},n),(n=un.get(o))&&ih(t,n),u=s.createElement("script"),de(u),Te(u,"link",t),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(o,u))}}function c_(t,n,s,a){var o=(o=ot.current)?Jl(o):null;if(!o)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ra(s.href),s=Ci(o).hoistableStyles,a=s.get(n),a||(a={type:"style",instance:null,count:0,state:null},s.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ra(s.href);var u=Ci(o).hoistableStyles,_=u.get(t);if(_||(o=o.ownerDocument||o,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,_),(u=o.querySelector(yr(t)))&&!u._p&&(_.instance=u,_.state.loading=5),un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},un.set(t,s),u||xv(o,t,s,_.state))),n&&a===null)throw Error(r(528,""));return _}if(n&&a!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=la(s),s=Ci(o).hoistableScripts,a=s.get(n),a||(a={type:"script",instance:null,count:0,state:null},s.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ra(t){return'href="'+nn(t)+'"'}function yr(t){return'link[rel="stylesheet"]['+t+"]"}function u_(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function xv(t,n,s,a){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=t.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),Te(n,"link",s),de(n),t.head.appendChild(n))}function la(t){return'[src="'+nn(t)+'"]'}function vr(t){return"script[async]"+t}function h_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var a=t.querySelector('style[data-href~="'+nn(s.href)+'"]');if(a)return n.instance=a,de(a),a;var o=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),de(a),Te(a,"style",o),Pl(a,s.precedence,t),n.instance=a;case"stylesheet":o=ra(s.href);var u=t.querySelector(yr(o));if(u)return n.state.loading|=4,n.instance=u,de(u),u;a=u_(s),(o=un.get(o))&&sh(a,o),u=(t.ownerDocument||t).createElement("link"),de(u);var _=u;return _._p=new Promise(function(v,w){_.onload=v,_.onerror=w}),Te(u,"link",a),n.state.loading|=4,Pl(u,s.precedence,t),n.instance=u;case"script":return u=la(s.src),(o=t.querySelector(vr(u)))?(n.instance=o,de(o),o):(a=s,(o=un.get(u))&&(a=g({},s),ih(a,o)),t=t.ownerDocument||t,o=t.createElement("script"),de(o),Te(o,"link",a),t.head.appendChild(o),n.instance=o);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Pl(a,s.precedence,t));return n.instance}function Pl(t,n,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,u=o,_=0;_<a.length;_++){var v=a[_];if(v.dataset.precedence===n)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(t,u.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function sh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ih(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var $l=null;function f_(t,n,s){if($l===null){var a=new Map,o=$l=new Map;o.set(s,a)}else o=$l,a=o.get(s),a||(a=new Map,o.set(s,a));if(a.has(t))return a;for(a.set(t,null),s=s.getElementsByTagName(t),o=0;o<s.length;o++){var u=s[o];if(!(u[Ra]||u[we]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var _=u.getAttribute(n)||"";_=t+_;var v=a.get(_);v?v.push(u):a.set(_,[u])}}return a}function d_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function wv(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var br=null;function Av(){}function Cv(t,n,s){if(br===null)throw Error(r(475));var a=br;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=ra(s.href),u=t.querySelector(yr(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=to.bind(a),t.then(a,a)),n.state.loading|=4,n.instance=u,de(u);return}u=t.ownerDocument||t,s=u_(s),(o=un.get(o))&&sh(s,o),u=u.createElement("link"),de(u);var _=u;_._p=new Promise(function(v,w){_.onload=v,_.onerror=w}),Te(u,"link",s),n.instance=u}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(a.count++,n=to.bind(a),t.addEventListener("load",n),t.addEventListener("error",n))}}function Ev(){if(br===null)throw Error(r(475));var t=br;return t.stylesheets&&t.count===0&&ah(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&ah(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function to(){if(this.count--,this.count===0){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eo=null;function ah(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eo=new Map,n.forEach(Ov,t),eo=null,to.call(t))}function Ov(t,n){if(!(n.state.loading&4)){var s=eo.get(t);if(s)var a=s.get(null);else{s=new Map,eo.set(t,s);for(var o=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var _=o[u];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),a=_)}a&&s.set(null,a)}o=n.instance,_=o.getAttribute("data-precedence"),u=s.get(_)||a,u===a&&s.set(null,o),s.set(_,o),this.count++,a=to.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),u?u.parentNode.insertBefore(o,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(o,t.firstChild)),n.state.loading|=4}}var Tr={$$typeof:H,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Mv(t,n,s,a,o,u,_,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ec(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.hiddenUpdates=ec(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function m_(t,n,s,a,o,u,_,v,w,z,F,K){return t=new Mv(t,n,s,_,v,w,z,K),n=1,u===!0&&(n|=24),u=Ze(3,null,null,n),t.current=u,u.stateNode=t,n=jc(),n.refCount++,t.pooledCache=n,n.refCount++,u.memoizedState={element:a,isDehydrated:s,cache:n},Fc(u),t}function __(t){return t?(t=Bi,t):Bi}function g_(t,n,s,a,o,u){o=__(o),a.context===null?a.context=o:a.pendingContext=o,a=bs(n),a.payload={element:s},u=u===void 0?null:u,u!==null&&(a.callback=u),s=Ts(t,a,n),s!==null&&(Pe(s,t,n),Ja(s,t,n))}function y_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function rh(t,n){y_(t,n),(t=t.alternate)&&y_(t,n)}function v_(t){if(t.tag===13){var n=Ui(t,67108864);n!==null&&Pe(n,t,67108864),rh(t,67108864)}}var no=!0;function Dv(t,n,s,a){var o=R.T;R.T=null;var u=j.p;try{j.p=2,lh(t,n,s,a)}finally{j.p=u,R.T=o}}function Nv(t,n,s,a){var o=R.T;R.T=null;var u=j.p;try{j.p=8,lh(t,n,s,a)}finally{j.p=u,R.T=o}}function lh(t,n,s,a){if(no){var o=oh(a);if(o===null)Iu(t,n,a,so,s),T_(t,a);else if(kv(o,t,n,s,a))a.stopPropagation();else if(T_(t,a),n&4&&-1<Rv.indexOf(t)){for(;o!==null;){var u=Ai(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var _=Is(u.pendingLanes);if(_!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;_;){var w=1<<31-Xe(_);v.entanglements[1]|=w,_&=~w}Un(u),(zt&6)===0&&(jl=kt()+500,pr(0))}}break;case 13:v=Ui(u,2),v!==null&&Pe(v,u,2),Gl(),rh(u,2)}if(u=oh(a),u===null&&Iu(t,n,a,so,s),u===o)break;o=u}o!==null&&a.stopPropagation()}else Iu(t,n,a,null,s)}}function oh(t){return t=dc(t),ch(t)}var so=null;function ch(t){if(so=null,t=wi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return so=t,null}function b_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Mt:return 2;case It:return 8;case ye:case Rn:return 32;case ps:return 268435456;default:return 32}default:return 32}}var uh=!1,qs=null,Vs=null,zs=null,Sr=new Map,xr=new Map,Us=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(t,n){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Sr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(n.pointerId)}}function wr(t,n,s,a,o,u){return t===null||t.nativeEvent!==u?(t={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:u,targetContainers:[o]},n!==null&&(n=Ai(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),t)}function kv(t,n,s,a,o){switch(n){case"focusin":return qs=wr(qs,t,n,s,a,o),!0;case"dragenter":return Vs=wr(Vs,t,n,s,a,o),!0;case"mouseover":return zs=wr(zs,t,n,s,a,o),!0;case"pointerover":var u=o.pointerId;return Sr.set(u,wr(Sr.get(u)||null,t,n,s,a,o)),!0;case"gotpointercapture":return u=o.pointerId,xr.set(u,wr(xr.get(u)||null,t,n,s,a,o)),!0}return!1}function S_(t){var n=wi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Cy(t.priority,function(){if(s.tag===13){var a=Je();a=nc(a);var o=Ui(s,a);o!==null&&Pe(o,s,a),rh(s,a)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function io(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=oh(t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);fc=a,s.target.dispatchEvent(a),fc=null}else return n=Ai(s),n!==null&&v_(n),t.blockedOn=s,!1;n.shift()}return!0}function x_(t,n,s){io(t)&&s.delete(n)}function qv(){uh=!1,qs!==null&&io(qs)&&(qs=null),Vs!==null&&io(Vs)&&(Vs=null),zs!==null&&io(zs)&&(zs=null),Sr.forEach(x_),xr.forEach(x_)}function ao(t,n){t.blockedOn===n&&(t.blockedOn=null,uh||(uh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,qv)))}var ro=null;function w_(t){ro!==t&&(ro=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ro===t&&(ro=null);for(var n=0;n<t.length;n+=3){var s=t[n],a=t[n+1],o=t[n+2];if(typeof a!="function"){if(ch(a||s)===null)continue;break}var u=Ai(s);u!==null&&(t.splice(n,3),n-=3,cu(u,{pending:!0,data:o,method:s.method,action:a},a,o))}}))}function Ar(t){function n(w){return ao(w,t)}qs!==null&&ao(qs,t),Vs!==null&&ao(Vs,t),zs!==null&&ao(zs,t),Sr.forEach(n),xr.forEach(n);for(var s=0;s<Us.length;s++){var a=Us[s];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)S_(s),s.blockedOn===null&&Us.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var o=s[a],u=s[a+1],_=o[Ve]||null;if(typeof u=="function")_||w_(s);else if(_){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,_=u[Ve]||null)v=_.formAction;else if(ch(o)!==null)continue}else v=_.action;typeof v=="function"?s[a+1]=v:(s.splice(a,3),a-=3),w_(s)}}}function hh(t){this._internalRoot=t}lo.prototype.render=hh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,a=Je();g_(s,a,t,n,null,null)},lo.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;g_(t.current,2,null,t,null,null),Gl(),n[xi]=null}};function lo(t){this._internalRoot=t}lo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hf();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,t),s===0&&S_(t)}};var A_=e.version;if(A_!=="19.1.0")throw Error(r(527,A_,"19.1.0"));j.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var Vv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Zs=oo.inject(Vv),Fe=oo}catch{}}return Er.createRoot=function(t,n){if(!c(t))throw Error(r(299));var s=!1,a="",o=Hp,u=Gp,_=Yp,v=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=m_(t,1,!1,null,null,s,a,o,u,_,v,null),t[xi]=n.current,Zu(t),new hh(n)},Er.hydrateRoot=function(t,n,s){if(!c(t))throw Error(r(299));var a=!1,o="",u=Hp,_=Gp,v=Yp,w=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=m_(t,1,!0,n,s??null,a,o,u,_,v,w,z),n.context=__(null),s=n.current,a=Je(),a=nc(a),o=bs(a),o.callback=null,Ts(s,o,a),s=a,n.current.lanes=s,Na(n,s),Un(n),t[xi]=n.current,Zu(t),new lo(n)},Er.version="19.1.0",Er}var V_;function Qv(){if(V_)return ph.exports;V_=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),ph.exports=Xv(),ph.exports}var Zv=Qv();const Iv=rg(Zv);function Wv(l,e=3,i=3){const r=l.getContext("2d"),{width:c,height:h}=l,f=Math.floor(c/i),d=Math.floor(h/e),p=[],m=[-1,0,1,-2,0,2,-1,0,1],g=[-1,-2,-1,0,0,0,1,2,1];for(let y=0;y<e;y++)for(let b=0;b<i;b++){const T=r.getImageData(b*f,y*d,f,d).data;let C=0,O=0,N=0,Y=0;const H=f*d,Q=new Float32Array(H);for(let E=0,D=0;E<T.length;E+=4,D++){const[Z,W,I]=[T[E],T[E+1],T[E+2]],G=(Z+W+I)/3;C+=G,Q[D]=G;const et=Math.max(Z,W,I),$=Math.min(Z,W,I);N+=et?(et-$)/et:0}const A=C/H,q=N/H;for(let E=1;E<d-1;E++)for(let D=1;D<f-1;D++){const Z=E*f+D;O+=Math.abs(Q[Z]-A);let W=0,I=0,G=0;for(let et=-1;et<=1;et++)for(let $=-1;$<=1;$++,G++){const it=Q[(E+et)*f+(D+$)];W+=m[G]*it,I+=g[G]*it}Math.hypot(W,I)>20&&Y++}p.push({brightness:A,contrast:O/H,saturation:q,edgeDensity:Y/H})}return p}function Kv(l){const e=["C3","D3","E3","F3","G3","A3","B3","C4","D4","E4"],i=Math.floor(l/256*e.length);return e[Math.max(0,Math.min(i,e.length-1))]}const lg="15.1.22",z_=(l,e,i)=>({endTime:e,insertTime:i,type:"exponentialRampToValue",value:l}),U_=(l,e,i)=>({endTime:e,insertTime:i,type:"linearRampToValue",value:l}),bh=(l,e)=>({startTime:e,type:"setValue",value:l}),og=(l,e,i)=>({duration:i,startTime:e,type:"setValueCurve",values:l}),cg=(l,e,{startTime:i,target:r,timeConstant:c})=>r+(e-r)*Math.exp((i-l)/c),ua=l=>l.type==="exponentialRampToValue",_o=l=>l.type==="linearRampToValue",js=l=>ua(l)||_o(l),kh=l=>l.type==="setValue",as=l=>l.type==="setValueCurve",go=(l,e,i,r)=>{const c=l[e];return c===void 0?r:js(c)||kh(c)?c.value:as(c)?c.values[c.values.length-1]:cg(i,go(l,e-1,c.startTime,r),c)},B_=(l,e,i,r,c)=>i===void 0?[r.insertTime,c]:js(i)?[i.endTime,i.value]:kh(i)?[i.startTime,i.value]:as(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,go(l,e-1,i.startTime,c)],Th=l=>l.type==="cancelAndHold",Sh=l=>l.type==="cancelScheduledValues",Ls=l=>Th(l)||Sh(l)?l.cancelTime:ua(l)||_o(l)?l.endTime:l.startTime,L_=(l,e,i,{endTime:r,value:c})=>i===c?c:0<i&&0<c||i<0&&c<0?i*(c/i)**((l-e)/(r-e)):0,j_=(l,e,i,{endTime:r,value:c})=>i+(l-e)/(r-e)*(c-i),Jv=(l,e)=>{const i=Math.floor(e),r=Math.ceil(e);return i===r?l[i]:(1-(e-i))*l[i]+(1-(r-e))*l[r]},Pv=(l,{duration:e,startTime:i,values:r})=>{const c=(l-i)/e*(r.length-1);return Jv(r,c)},co=l=>l.type==="setTarget";class $v{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const i=Ls(e);if(Th(e)||Sh(e)){const r=this._automationEvents.findIndex(h=>Sh(e)&&as(h)?h.startTime+h.duration>=i:Ls(h)>=i),c=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Th(e)){const h=this._automationEvents[this._automationEvents.length-1];if(c!==void 0&&js(c)){if(h!==void 0&&co(h))throw new Error("The internal list is malformed.");const f=h===void 0?c.insertTime:as(h)?h.startTime+h.duration:Ls(h),d=h===void 0?this._defaultValue:as(h)?h.values[h.values.length-1]:h.value,p=ua(c)?L_(i,f,d,c):j_(i,f,d,c),m=ua(c)?z_(p,i,this._currenTime):U_(p,i,this._currenTime);this._automationEvents.push(m)}if(h!==void 0&&co(h)&&this._automationEvents.push(bh(this.getValue(i),i)),h!==void 0&&as(h)&&h.startTime+h.duration>i){const f=i-h.startTime,d=(h.values.length-1)/h.duration,p=Math.max(2,1+Math.ceil(f*d)),m=f/(p-1)*d,g=h.values.slice(0,p);if(m<1)for(let y=1;y<p;y+=1){const b=m*y%1;g[y]=h.values[y-1]*(1-b)+h.values[y]*b}this._automationEvents[this._automationEvents.length-1]=og(g,h.startTime,f)}}}else{const r=this._automationEvents.findIndex(f=>Ls(f)>i),c=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(c!==void 0&&as(c)&&Ls(c)+c.duration>i)return!1;const h=ua(e)?z_(e.value,e.endTime,this._currenTime):_o(e)?U_(e.value,i,this._currenTime):e;if(r===-1)this._automationEvents.push(h);else{if(as(e)&&i+e.duration>Ls(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,h)}}return!0}flush(e){const i=this._automationEvents.findIndex(r=>Ls(r)>e);if(i>1){const r=this._automationEvents.slice(i-1),c=r[0];co(c)&&r.unshift(bh(go(this._automationEvents,i-2,c.startTime,this._defaultValue),c.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(f=>Ls(f)>e),r=this._automationEvents[i],c=(i===-1?this._automationEvents.length:i)-1,h=this._automationEvents[c];if(h!==void 0&&co(h)&&(r===void 0||!js(r)||r.insertTime>e))return cg(e,go(this._automationEvents,c-1,h.startTime,this._defaultValue),h);if(h!==void 0&&kh(h)&&(r===void 0||!js(r)))return h.value;if(h!==void 0&&as(h)&&(r===void 0||!js(r)||h.startTime+h.duration>e))return e<h.startTime+h.duration?Pv(e,h):h.values[h.values.length-1];if(h!==void 0&&js(h)&&(r===void 0||!js(r)))return h.value;if(r!==void 0&&ua(r)){const[f,d]=B_(this._automationEvents,c,h,r,this._defaultValue);return L_(e,f,d,r)}if(r!==void 0&&_o(r)){const[f,d]=B_(this._automationEvents,c,h,r,this._defaultValue);return j_(e,f,d,r)}return this._defaultValue}}const t1=l=>({cancelTime:l,type:"cancelAndHold"}),e1=l=>({cancelTime:l,type:"cancelScheduledValues"}),n1=(l,e)=>({endTime:e,type:"exponentialRampToValue",value:l}),s1=(l,e)=>({endTime:e,type:"linearRampToValue",value:l}),i1=(l,e,i)=>({startTime:e,target:l,timeConstant:i,type:"setTarget"}),a1=()=>new DOMException("","AbortError"),r1=l=>(e,i,[r,c,h],f)=>{l(e[c],[i,r,h],d=>d[0]===i&&d[1]===r,f)},l1=l=>(e,i,r)=>{const c=[];for(let h=0;h<r.numberOfInputs;h+=1)c.push(new Set);l.set(e,{activeInputs:c,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},o1=l=>(e,i)=>{l.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},pa=new WeakSet,ug=new WeakMap,qh=new WeakMap,hg=new WeakMap,Vh=new WeakMap,Ro=new WeakMap,fg=new WeakMap,xh=new WeakMap,wh=new WeakMap,Ah=new WeakMap,dg={construct(){return dg}},c1=l=>{try{const e=new Proxy(l,dg);new e}catch{return!1}return!0},H_=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,G_=(l,e)=>{const i=[];let r=l.replace(/^[\s]+/,""),c=r.match(H_);for(;c!==null;){const h=c[1].slice(1,-1),f=c[0].replace(/([\s]+)?;?$/,"").replace(h,new URL(h,e).toString());i.push(f),r=r.slice(c[0].length).replace(/^[\s]+/,""),c=r.match(H_)}return[i.join(";"),r]},Y_=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},F_=l=>{if(!c1(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},u1=(l,e,i,r,c,h,f,d,p,m,g,y,b)=>{let S=0;return(T,C,O={credentials:"omit"})=>{const N=g.get(T);if(N!==void 0&&N.has(C))return Promise.resolve();const Y=m.get(T);if(Y!==void 0){const A=Y.get(C);if(A!==void 0)return A}const H=h(T),Q=H.audioWorklet===void 0?c(C).then(([A,q])=>{const[E,D]=G_(A,q),Z=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return i(Z)}).then(()=>{const A=b._AWGS.pop();if(A===void 0)throw new SyntaxError;r(H.currentTime,H.sampleRate,()=>A(class{},void 0,(q,E)=>{if(q.trim()==="")throw e();const D=wh.get(H);if(D!==void 0){if(D.has(q))throw e();F_(E),Y_(E.parameterDescriptors),D.set(q,E)}else F_(E),Y_(E.parameterDescriptors),wh.set(H,new Map([[q,E]]))},H.sampleRate,void 0,void 0))}):Promise.all([c(C),Promise.resolve(l(y,y))]).then(([[A,q],E])=>{const D=S+1;S=D;const[Z,W]=G_(A,q),$=`${Z};((AudioWorkletProcessor,registerProcessor)=>{${W}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,it=new Blob([$],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(it);return H.audioWorklet.addModule(R,O).then(()=>{if(d(H))return H;const j=f(H);return j.audioWorklet.addModule(R,O).then(()=>j)}).then(j=>{if(p===null)throw new SyntaxError;try{new p(j,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return Y===void 0?m.set(T,new Map([[C,Q]])):Y.set(C,Q),Q.then(()=>{const A=g.get(T);A===void 0?g.set(T,new Set([C])):A.add(C)}).finally(()=>{const A=m.get(T);A!==void 0&&A.delete(C)}),Q}},En=(l,e)=>{const i=l.get(e);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},ko=(l,e)=>{const i=Array.from(l).filter(e);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[r]=i;return l.delete(r),r},pg=(l,e,i,r)=>{const c=En(l,e),h=ko(c,f=>f[0]===i&&f[1]===r);return c.size===0&&l.delete(e),h},qr=l=>En(fg,l),ma=l=>{if(pa.has(l))throw new Error("The AudioNode is already stored.");pa.add(l),qr(l).forEach(e=>e(!0))},mg=l=>"port"in l,Vr=l=>{if(!pa.has(l))throw new Error("The AudioNode is not stored.");pa.delete(l),qr(l).forEach(e=>e(!1))},Ch=(l,e)=>{!mg(l)&&e.every(i=>i.size===0)&&Vr(l)},h1=(l,e,i,r,c,h,f,d,p,m,g,y,b)=>{const S=new WeakMap;return(T,C,O,N,Y)=>{const{activeInputs:H,passiveInputs:Q}=h(C),{outputs:A}=h(T),q=d(T),E=D=>{const Z=p(C),W=p(T);if(D){const I=pg(Q,T,O,N);l(H,T,I,!1),!Y&&!y(T)&&i(W,Z,O,N),b(C)&&ma(C)}else{const I=r(H,T,O,N);e(Q,N,I,!1),!Y&&!y(T)&&c(W,Z,O,N);const G=f(C);if(G===0)g(C)&&Ch(C,H);else{const et=S.get(C);et!==void 0&&clearTimeout(et),S.set(C,setTimeout(()=>{g(C)&&Ch(C,H)},G*1e3))}}};return m(A,[C,O,N],D=>D[0]===C&&D[1]===O&&D[2]===N,!0)?(q.add(E),g(T)?l(H,T,[O,N,E],!0):e(Q,N,[T,O,E],!0),!0):!1}},f1=l=>(e,i,[r,c,h],f)=>{const d=e.get(r);d===void 0?e.set(r,new Set([[c,i,h]])):l(d,[c,i,h],p=>p[0]===c&&p[1]===i,f)},d1=l=>(e,i)=>{const r=l(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(r).connect(e.destination);const c=()=>{i.removeEventListener("ended",c),i.disconnect(r),r.disconnect()};i.addEventListener("ended",c)},p1=l=>(e,i)=>{l(e).add(i)},m1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},_1=(l,e,i,r,c,h)=>class extends l{constructor(d,p){const m=c(d),g={...m1,...p},y=r(m,g),b=h(m)?e():null;super(d,!1,y,b),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=p,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},Oe=(l,e)=>l.context===e,g1=(l,e,i)=>()=>{const r=new WeakMap,c=async(h,f)=>{let d=e(h);if(!Oe(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=l(f,m)}return r.set(f,d),await i(h,f,d),d};return{render(h,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):c(h,f)}}},yo=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},jn=()=>new DOMException("","IndexSizeError"),zh=l=>{l.getChannelData=(e=>i=>{try{return e.call(l,i)}catch(r){throw r.code===12?jn():r}})(l.getChannelData)},y1={numberOfChannels:1},v1=(l,e,i,r,c,h,f,d)=>{let p=null;return class _g{constructor(g){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:b,sampleRate:S}={...y1,...g};p===null&&(p=new c(1,1,44100));const T=r!==null&&e(h,h)?new r({length:y,numberOfChannels:b,sampleRate:S}):p.createBuffer(b,y,S);if(T.numberOfChannels===0)throw i();return typeof T.copyFromChannel!="function"?(f(T),zh(T)):e(yo,()=>yo(T))||d(T),l.add(T),T}static[Symbol.hasInstance](g){return g!==null&&typeof g=="object"&&Object.getPrototypeOf(g)===_g.prototype||l.has(g)}}},je=-34028234663852886e22,De=-je,ls=l=>pa.has(l),b1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},T1=(l,e,i,r,c,h,f,d)=>class extends l{constructor(m,g){const y=h(m),b={...b1,...g},S=c(y,b),T=f(y),C=T?e():null;super(m,!1,S,C),this._audioBufferSourceNodeRenderer=C,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=S,this._onended=null,this._playbackRate=i(this,T,S.playbackRate,De,je)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const g=typeof m=="function"?d(this,m):null;this._nativeAudioBufferSourceNode.onended=g;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===g?m:y}get playbackRate(){return this._playbackRate}start(m=0,g=0,y){if(this._nativeAudioBufferSourceNode.start(m,g,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[m,g]:[m,g,y]),this.context.state!=="closed"){ma(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),ls(this)&&Vr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},S1=(l,e,i,r,c)=>()=>{const h=new WeakMap;let f=null,d=null;const p=async(m,g)=>{let y=i(m);const b=Oe(y,g);if(!b){const S={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(g,S),f!==null&&y.start(...f),d!==null&&y.stop(d)}return h.set(g,y),b?await l(g,m.playbackRate,y.playbackRate):await r(g,m.playbackRate,y.playbackRate),await c(m,g,y),y};return{set start(m){f=m},set stop(m){d=m},render(m,g){const y=h.get(g);return y!==void 0?Promise.resolve(y):p(m,g)}}},x1=l=>"playbackRate"in l,w1=l=>"frequency"in l&&"gain"in l,A1=l=>"offset"in l,C1=l=>!("frequency"in l)&&"gain"in l,E1=l=>"detune"in l&&"frequency"in l&&!("gain"in l),O1=l=>"pan"in l,Ne=l=>En(ug,l),zr=l=>En(hg,l),Eh=(l,e)=>{const{activeInputs:i}=Ne(l);i.forEach(c=>c.forEach(([h])=>{e.includes(l)||Eh(h,[...e,l])}));const r=x1(l)?[l.playbackRate]:mg(l)?Array.from(l.parameters.values()):w1(l)?[l.Q,l.detune,l.frequency,l.gain]:A1(l)?[l.offset]:C1(l)?[l.gain]:E1(l)?[l.detune,l.frequency]:O1(l)?[l.pan]:[];for(const c of r){const h=zr(c);h!==void 0&&h.activeInputs.forEach(([f])=>Eh(f,e))}ls(l)&&Vr(l)},gg=l=>{Eh(l.destination,[])},M1=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),D1=(l,e,i,r,c,h,f,d,p)=>class extends l{constructor(g={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new p(g)}catch(T){throw T.code===12&&T.message==="sampleRate is not in range"?i():T}if(y===null)throw r();if(!M1(g.latencyHint))throw new TypeError(`The provided value '${g.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(g.sampleRate!==void 0&&y.sampleRate!==g.sampleRate)throw i();super(y,2);const{latencyHint:b}=g,{sampleRate:S}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:b==="balanced"?512/S:b==="interactive"||b===void 0?256/S:b==="playback"?1024/S:Math.max(2,Math.min(128,Math.round(b*S/128)))*128/S,this._nativeAudioContext=y,p.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const T=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",T)};y.addEventListener("statechange",T)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),gg(this)}))}createMediaElementSource(g){return new c(this,{mediaElement:g})}createMediaStreamDestination(){return new h(this)}createMediaStreamSource(g){return new f(this,{mediaStream:g})}createMediaStreamTrackSource(g){return new d(this,{mediaStreamTrack:g})}resume(){return this._state==="suspended"?new Promise((g,y)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?g():this.resume().then(g,y)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(g=>{throw g===void 0||g.code===15?e():g})}suspend(){return this._nativeAudioContext.suspend().catch(g=>{throw g===void 0?e():g})}},N1=(l,e,i,r,c,h,f,d)=>class extends l{constructor(m,g){const y=h(m),b=f(y),S=c(y,g,b),T=b?e(d):null;super(m,!1,S,T),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=S}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},R1=l=>{const e=new WeakMap,i=async(r,c)=>{const h=c.destination;return e.set(c,h),await l(r,c,h),h};return{render(r,c){const h=e.get(c);return h!==void 0?Promise.resolve(h):i(r,c)}}},k1=(l,e,i,r,c,h,f,d)=>(p,m)=>{const g=m.listener,y=()=>{const A=new Float32Array(1),q=e(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=f(m);let D=!1,Z=[0,0,-1,0,1,0],W=[0,0,0];const I=()=>{if(D)return;D=!0;const it=r(m,256,9,0);it.onaudioprocess=({inputBuffer:R})=>{const j=[h(R,A,0),h(R,A,1),h(R,A,2),h(R,A,3),h(R,A,4),h(R,A,5)];j.some((nt,x)=>nt!==Z[x])&&(g.setOrientation(...j),Z=j);const J=[h(R,A,6),h(R,A,7),h(R,A,8)];J.some((nt,x)=>nt!==W[x])&&(g.setPosition(...J),W=J)},q.connect(it)},G=it=>R=>{R!==Z[it]&&(Z[it]=R,g.setOrientation(...Z))},et=it=>R=>{R!==W[it]&&(W[it]=R,g.setPosition(...W))},$=(it,R,j)=>{const J=i(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});J.connect(q,0,it),J.start(),Object.defineProperty(J.offset,"defaultValue",{get(){return R}});const nt=l({context:p},E,J.offset,De,je);return d(nt,"value",x=>()=>x.call(nt),x=>B=>{try{x.call(nt,B)}catch(P){if(P.code!==9)throw P}I(),E&&j(B)}),nt.cancelAndHoldAtTime=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.cancelAndHoldAtTime),nt.cancelScheduledValues=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.cancelScheduledValues),nt.exponentialRampToValueAtTime=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.exponentialRampToValueAtTime),nt.linearRampToValueAtTime=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.linearRampToValueAtTime),nt.setTargetAtTime=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.setTargetAtTime),nt.setValueAtTime=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.setValueAtTime),nt.setValueCurveAtTime=(x=>E?()=>{throw c()}:(...B)=>{const P=x.apply(nt,B);return I(),P})(nt.setValueCurveAtTime),nt};return{forwardX:$(0,0,G(0)),forwardY:$(1,0,G(1)),forwardZ:$(2,-1,G(2)),positionX:$(6,0,et(0)),positionY:$(7,0,et(1)),positionZ:$(8,0,et(2)),upX:$(3,0,G(3)),upY:$(4,1,G(4)),upZ:$(5,0,G(5))}},{forwardX:b,forwardY:S,forwardZ:T,positionX:C,positionY:O,positionZ:N,upX:Y,upY:H,upZ:Q}=g.forwardX===void 0?y():g;return{get forwardX(){return b},get forwardY(){return S},get forwardZ(){return T},get positionX(){return C},get positionY(){return O},get positionZ(){return N},get upX(){return Y},get upY(){return H},get upZ(){return Q}}},vo=l=>"context"in l,Ur=l=>vo(l[0]),bi=(l,e,i,r)=>{for(const c of l)if(i(c)){if(r)return!1;throw Error("The set contains at least one similar element.")}return l.add(e),!0},X_=(l,e,[i,r],c)=>{bi(l,[e,i,r],h=>h[0]===e&&h[1]===i,c)},Q_=(l,[e,i,r],c)=>{const h=l.get(e);h===void 0?l.set(e,new Set([[i,r]])):bi(h,[i,r],f=>f[0]===i,c)},ba=l=>"inputs"in l,bo=(l,e,i,r)=>{if(ba(e)){const c=e.inputs[r];return l.connect(c,i,0),[c,i,0]}return l.connect(e,i,r),[e,i,r]},yg=(l,e,i)=>{for(const r of l)if(r[0]===e&&r[1]===i)return l.delete(r),r;return null},q1=(l,e,i)=>ko(l,r=>r[0]===e&&r[1]===i),vg=(l,e)=>{if(!qr(l).delete(e))throw new Error("Missing the expected event listener.")},bg=(l,e,i)=>{const r=En(l,e),c=ko(r,h=>h[0]===i);return r.size===0&&l.delete(e),c},To=(l,e,i,r)=>{ba(e)?l.disconnect(e.inputs[r],i,0):l.disconnect(e,i,r)},Wt=l=>En(qh,l),Mr=l=>En(Vh,l),gi=l=>xh.has(l),po=l=>!pa.has(l),Z_=(l,e)=>new Promise(i=>{if(e!==null)i(!0);else{const r=l.createScriptProcessor(256,1,1),c=l.createGain(),h=l.createBuffer(1,2,44100),f=h.getChannelData(0);f[0]=1,f[1]=1;const d=l.createBufferSource();d.buffer=h,d.loop=!0,d.connect(r).connect(l.destination),d.connect(c),d.disconnect(c),r.onaudioprocess=p=>{const m=p.inputBuffer.getChannelData(0);Array.prototype.some.call(m,g=>g===1)?i(!0):i(!1),d.stop(),r.onaudioprocess=null,d.disconnect(r),r.disconnect(l.destination)},d.start()}}),yh=(l,e)=>{const i=new Map;for(const r of l)for(const c of r){const h=i.get(c);i.set(c,h===void 0?1:h+1)}i.forEach((r,c)=>e(c,r))},So=l=>"context"in l,V1=l=>{const e=new Map;l.connect=(i=>(r,c=0,h=0)=>{const f=So(r)?i(r,c,h):i(r,c),d=e.get(r);return d===void 0?e.set(r,[{input:h,output:c}]):d.every(p=>p.input!==h||p.output!==c)&&d.push({input:h,output:c}),f})(l.connect.bind(l)),l.disconnect=(i=>(r,c,h)=>{if(i.apply(l),r===void 0)e.clear();else if(typeof r=="number")for(const[f,d]of e){const p=d.filter(m=>m.output!==r);p.length===0?e.delete(f):e.set(f,p)}else if(e.has(r))if(c===void 0)e.delete(r);else{const f=e.get(r);if(f!==void 0){const d=f.filter(p=>p.output!==c&&(p.input!==h||h===void 0));d.length===0?e.delete(r):e.set(r,d)}}for(const[f,d]of e)d.forEach(p=>{So(f)?l.connect(f,p.output,p.input):l.connect(f,p.output)})})(l.disconnect)},z1=(l,e,i,r)=>{const{activeInputs:c,passiveInputs:h}=zr(e),{outputs:f}=Ne(l),d=qr(l),p=m=>{const g=Wt(l),y=Mr(e);if(m){const b=bg(h,l,i);X_(c,l,b,!1),!r&&!gi(l)&&g.connect(y,i)}else{const b=q1(c,l,i);Q_(h,b,!1),!r&&!gi(l)&&g.disconnect(y,i)}};return bi(f,[e,i],m=>m[0]===e&&m[1]===i,!0)?(d.add(p),ls(l)?X_(c,l,[i,p],!0):Q_(h,[l,i,p],!0),!0):!1},U1=(l,e,i,r)=>{const{activeInputs:c,passiveInputs:h}=Ne(e),f=yg(c[r],l,i);return f===null?[pg(h,l,i,r)[2],!1]:[f[2],!0]},B1=(l,e,i)=>{const{activeInputs:r,passiveInputs:c}=zr(e),h=yg(r,l,i);return h===null?[bg(c,l,i)[1],!1]:[h[2],!0]},Uh=(l,e,i,r,c)=>{const[h,f]=U1(l,i,r,c);if(h!==null&&(vg(l,h),f&&!e&&!gi(l)&&To(Wt(l),Wt(i),r,c)),ls(i)){const{activeInputs:d}=Ne(i);Ch(i,d)}},Bh=(l,e,i,r)=>{const[c,h]=B1(l,i,r);c!==null&&(vg(l,c),h&&!e&&!gi(l)&&Wt(l).disconnect(Mr(i),r))},L1=(l,e)=>{const i=Ne(l),r=[];for(const c of i.outputs)Ur(c)?Uh(l,e,...c):Bh(l,e,...c),r.push(c[0]);return i.outputs.clear(),r},j1=(l,e,i)=>{const r=Ne(l),c=[];for(const h of r.outputs)h[1]===i&&(Ur(h)?Uh(l,e,...h):Bh(l,e,...h),c.push(h[0]),r.outputs.delete(h));return c},H1=(l,e,i,r,c)=>{const h=Ne(l);return Array.from(h.outputs).filter(f=>f[0]===i&&(r===void 0||f[1]===r)&&(c===void 0||f[2]===c)).map(f=>(Ur(f)?Uh(l,e,...f):Bh(l,e,...f),h.outputs.delete(f),f[0]))},G1=(l,e,i,r,c,h,f,d,p,m,g,y,b,S,T,C)=>class extends m{constructor(N,Y,H,Q){super(H),this._context=N,this._nativeAudioNode=H;const A=g(N);y(A)&&i(Z_,()=>Z_(A,C))!==!0&&V1(H),qh.set(this,H),fg.set(this,new Set),N.state!=="closed"&&Y&&ma(this),l(this,Q,H)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(N){this._nativeAudioNode.channelCount=N}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(N){this._nativeAudioNode.channelCountMode=N}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(N){this._nativeAudioNode.channelInterpretation=N}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(N,Y=0,H=0){if(Y<0||Y>=this._nativeAudioNode.numberOfOutputs)throw c();const Q=g(this._context),A=T(Q);if(b(N)||S(N))throw h();if(vo(N)){const D=Wt(N);try{const W=bo(this._nativeAudioNode,D,Y,H),I=po(this);(A||I)&&this._nativeAudioNode.disconnect(...W),this.context.state!=="closed"&&!I&&po(N)&&ma(N)}catch(W){throw W.code===12?h():W}if(e(this,N,Y,H,A)){const W=p([this],N);yh(W,r(A))}return N}const q=Mr(N);if(q.name==="playbackRate"&&q.maxValue===1024)throw f();try{this._nativeAudioNode.connect(q,Y),(A||po(this))&&this._nativeAudioNode.disconnect(q,Y)}catch(D){throw D.code===12?h():D}if(z1(this,N,Y,A)){const D=p([this],N);yh(D,r(A))}}disconnect(N,Y,H){let Q;const A=g(this._context),q=T(A);if(N===void 0)Q=L1(this,q);else if(typeof N=="number"){if(N<0||N>=this.numberOfOutputs)throw c();Q=j1(this,q,N)}else{if(Y!==void 0&&(Y<0||Y>=this.numberOfOutputs)||vo(N)&&H!==void 0&&(H<0||H>=N.numberOfInputs))throw c();if(Q=H1(this,q,N,Y,H),Q.length===0)throw h()}for(const E of Q){const D=p([this],E);yh(D,d)}}},Y1=(l,e,i,r,c,h,f,d,p,m,g,y,b)=>(S,T,C,O=null,N=null)=>{const Y=C.value,H=new $v(Y),Q=T?r(H):null,A={get defaultValue(){return Y},get maxValue(){return O===null?C.maxValue:O},get minValue(){return N===null?C.minValue:N},get value(){return C.value},set value(q){C.value=q,A.setValueAtTime(q,S.context.currentTime)},cancelAndHoldAtTime(q){if(typeof C.cancelAndHoldAtTime=="function")Q===null&&H.flush(S.context.currentTime),H.add(c(q)),C.cancelAndHoldAtTime(q);else{const E=Array.from(H).pop();Q===null&&H.flush(S.context.currentTime),H.add(c(q));const D=Array.from(H).pop();C.cancelScheduledValues(q),E!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?C.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?C.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?C.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&C.setValueCurveAtTime(D.values,D.startTime,D.duration))}return A},cancelScheduledValues(q){return Q===null&&H.flush(S.context.currentTime),H.add(h(q)),C.cancelScheduledValues(q),A},exponentialRampToValueAtTime(q,E){if(q===0)throw new RangeError;if(!Number.isFinite(E)||E<0)throw new RangeError;const D=S.context.currentTime;return Q===null&&H.flush(D),Array.from(H).length===0&&(H.add(m(Y,D)),C.setValueAtTime(Y,D)),H.add(f(q,E)),C.exponentialRampToValueAtTime(q,E),A},linearRampToValueAtTime(q,E){const D=S.context.currentTime;return Q===null&&H.flush(D),Array.from(H).length===0&&(H.add(m(Y,D)),C.setValueAtTime(Y,D)),H.add(d(q,E)),C.linearRampToValueAtTime(q,E),A},setTargetAtTime(q,E,D){return Q===null&&H.flush(S.context.currentTime),H.add(p(q,E,D)),C.setTargetAtTime(q,E,D),A},setValueAtTime(q,E){return Q===null&&H.flush(S.context.currentTime),H.add(m(q,E)),C.setValueAtTime(q,E),A},setValueCurveAtTime(q,E,D){const Z=q instanceof Float32Array?q:new Float32Array(q);if(y!==null&&y.name==="webkitAudioContext"){const W=E+D,I=S.context.sampleRate,G=Math.ceil(E*I),et=Math.floor(W*I),$=et-G,it=new Float32Array($);for(let j=0;j<$;j+=1){const J=(Z.length-1)/D*((G+j)/I-E),nt=Math.floor(J),x=Math.ceil(J);it[j]=nt===x?Z[nt]:(1-(J-nt))*Z[nt]+(1-(x-J))*Z[x]}Q===null&&H.flush(S.context.currentTime),H.add(g(it,E,D)),C.setValueCurveAtTime(it,E,D);const R=et/I;R<W&&b(A,it[it.length-1],R),b(A,Z[Z.length-1],W)}else Q===null&&H.flush(S.context.currentTime),H.add(g(Z,E,D)),C.setValueCurveAtTime(Z,E,D);return A}};return i.set(A,C),e.set(A,S),l(A,Q),A},F1=l=>({replay(e){for(const i of l)if(i.type==="exponentialRampToValue"){const{endTime:r,value:c}=i;e.exponentialRampToValueAtTime(c,r)}else if(i.type==="linearRampToValue"){const{endTime:r,value:c}=i;e.linearRampToValueAtTime(c,r)}else if(i.type==="setTarget"){const{startTime:r,target:c,timeConstant:h}=i;e.setTargetAtTime(c,r,h)}else if(i.type==="setValue"){const{startTime:r,value:c}=i;e.setValueAtTime(c,r)}else if(i.type==="setValueCurve"){const{duration:r,startTime:c,values:h}=i;e.setValueCurveAtTime(h,c,r)}else throw new Error("Can't apply an unknown automation.")}});class Tg{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,i=null){return this._map.forEach((r,c)=>e.call(i,r,c,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const X1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Q1=(l,e,i,r,c,h,f,d,p,m,g,y,b,S)=>class extends e{constructor(C,O,N){var Y;const H=d(C),Q=p(H),A=g({...X1,...N});b(A);const q=wh.get(H),E=q?.get(O),D=Q||H.state!=="closed"?H:(Y=f(H))!==null&&Y!==void 0?Y:H,Z=c(D,Q?null:C.baseLatency,m,O,E,A),W=Q?r(O,A,E):null;super(C,!0,Z,W);const I=[];Z.parameters.forEach((et,$)=>{const it=i(this,Q,et);I.push([$,it])}),this._nativeAudioWorkletNode=Z,this._onprocessorerror=null,this._parameters=new Tg(I),Q&&l(H,this);const{activeInputs:G}=h(this);y(Z,G)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(C){const O=typeof C=="function"?S(this,C):null;this._nativeAudioWorkletNode.onprocessorerror=O;const N=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=N!==null&&N===O?C:N}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function xo(l,e,i,r,c){if(typeof l.copyFromChannel=="function")e[i].byteLength===0&&(e[i]=new Float32Array(128)),l.copyFromChannel(e[i],r,c);else{const h=l.getChannelData(r);if(e[i].byteLength===0)e[i]=h.slice(c,c+128);else{const f=new Float32Array(h.buffer,c*Float32Array.BYTES_PER_ELEMENT,128);e[i].set(f)}}}const Sg=(l,e,i,r,c)=>{typeof l.copyToChannel=="function"?e[i].byteLength!==0&&l.copyToChannel(e[i],r,c):e[i].byteLength!==0&&l.getChannelData(r).set(e[i],c)},wo=(l,e)=>{const i=[];for(let r=0;r<l;r+=1){const c=[],h=typeof e=="number"?e:e[r];for(let f=0;f<h;f+=1)c.push(new Float32Array(128));i.push(c)}return i},Z1=(l,e)=>{const i=En(Ah,l),r=Wt(e);return En(i,r)},I1=async(l,e,i,r,c,h,f)=>{const d=e===null?Math.ceil(l.context.length/128)*128:e.length,p=r.channelCount*r.numberOfInputs,m=c.reduce((O,N)=>O+N,0),g=m===0?null:i.createBuffer(m,d,i.sampleRate);if(h===void 0)throw new Error("Missing the processor constructor.");const y=Ne(l),b=await Z1(i,l),S=wo(r.numberOfInputs,r.channelCount),T=wo(r.numberOfOutputs,c),C=Array.from(l.parameters.keys()).reduce((O,N)=>({...O,[N]:new Float32Array(128)}),{});for(let O=0;O<d;O+=128){if(r.numberOfInputs>0&&e!==null)for(let N=0;N<r.numberOfInputs;N+=1)for(let Y=0;Y<r.channelCount;Y+=1)xo(e,S[N],Y,Y,O);h.parameterDescriptors!==void 0&&e!==null&&h.parameterDescriptors.forEach(({name:N},Y)=>{xo(e,C,N,p+Y,O)});for(let N=0;N<r.numberOfInputs;N+=1)for(let Y=0;Y<c[N];Y+=1)T[N][Y].byteLength===0&&(T[N][Y]=new Float32Array(128));try{const N=S.map((H,Q)=>y.activeInputs[Q].size===0?[]:H),Y=f(O/i.sampleRate,i.sampleRate,()=>b.process(N,T,C));if(g!==null)for(let H=0,Q=0;H<r.numberOfOutputs;H+=1){for(let A=0;A<c[H];A+=1)Sg(g,T[H],A,Q+A,O);Q+=c[H]}if(!Y)break}catch(N){l.dispatchEvent(new ErrorEvent("processorerror",{colno:N.colno,filename:N.filename,lineno:N.lineno,message:N.message}));break}}return g},W1=(l,e,i,r,c,h,f,d,p,m,g,y,b,S,T,C)=>(O,N,Y)=>{const H=new WeakMap;let Q=null;const A=async(q,E)=>{let D=g(q),Z=null;const W=Oe(D,E),I=Array.isArray(N.outputChannelCount)?N.outputChannelCount:Array.from(N.outputChannelCount);if(y===null){const G=I.reduce((R,j)=>R+j,0),et=c(E,{channelCount:Math.max(1,G),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,G)}),$=[];for(let R=0;R<q.numberOfOutputs;R+=1)$.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[R]}));const it=f(E,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1});it.connect=e.bind(null,$),it.disconnect=p.bind(null,$),Z=[et,$,it]}else W||(D=new y(E,O));if(H.set(E,Z===null?D:Z[2]),Z!==null){if(Q===null){if(Y===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=q.channelCount*q.numberOfInputs,J=Y.parameterDescriptors===void 0?0:Y.parameterDescriptors.length,nt=j+J;Q=I1(q,nt===0?null:await(async()=>{const B=new b(nt,Math.ceil(q.context.length/128)*128,E.sampleRate),P=[],tt=[];for(let ot=0;ot<N.numberOfInputs;ot+=1)P.push(f(B,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1})),tt.push(c(B,{channelCount:N.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:N.channelCount}));const ct=await Promise.all(Array.from(q.parameters.values()).map(async ot=>{const Vt=h(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot.value});return await S(B,ot,Vt.offset),Vt})),lt=r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+J)});for(let ot=0;ot<N.numberOfInputs;ot+=1){P[ot].connect(tt[ot]);for(let Vt=0;Vt<N.channelCount;Vt+=1)tt[ot].connect(lt,Vt,ot*N.channelCount+Vt)}for(const[ot,Vt]of ct.entries())Vt.connect(lt,0,j+ot),Vt.start(0);return lt.connect(B.destination),await Promise.all(P.map(ot=>T(q,B,ot))),C(B)})(),E,N,I,Y,m)}const G=await Q,et=i(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,it,R]=Z;G!==null&&(et.buffer=G,et.start(0)),et.connect($);for(let j=0,J=0;j<q.numberOfOutputs;j+=1){const nt=it[j];for(let x=0;x<I[j];x+=1)$.connect(nt,J+x,x);J+=I[j]}return R}if(W)for(const[G,et]of q.parameters.entries())await l(E,et,D.parameters.get(G));else for(const[G,et]of q.parameters.entries())await S(E,et,D.parameters.get(G));return await T(q,E,D),D};return{render(q,E){d(E,q);const D=H.get(E);return D!==void 0?Promise.resolve(D):A(q,E)}}},K1=(l,e,i,r,c,h,f,d,p,m,g,y,b,S,T,C,O,N,Y,H)=>class extends T{constructor(A,q){super(A,q),this._nativeContext=A,this._audioWorklet=l===void 0?void 0:{addModule:(E,D)=>l(this,E,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new c(this)}createBuffer(A,q,E){return new i({length:q,numberOfChannels:A,sampleRate:E})}createBufferSource(){return new r(this)}createChannelMerger(A=6){return new h(this,{numberOfInputs:A})}createChannelSplitter(A=6){return new f(this,{numberOfOutputs:A})}createConstantSource(){return new d(this)}createConvolver(){return new p(this)}createDelay(A=1){return new g(this,{maxDelayTime:A})}createDynamicsCompressor(){return new y(this)}createGain(){return new b(this)}createIIRFilter(A,q){return new S(this,{feedback:q,feedforward:A})}createOscillator(){return new C(this)}createPanner(){return new O(this)}createPeriodicWave(A,q,E={disableNormalization:!1}){return new N(this,{...E,imag:q,real:A})}createStereoPanner(){return new Y(this)}createWaveShaper(){return new H(this)}decodeAudioData(A,q,E){return m(this._nativeContext,A).then(D=>(typeof q=="function"&&q(D),D),D=>{throw typeof E=="function"&&E(D),D})}},J1={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},P1=(l,e,i,r,c,h,f,d)=>class extends l{constructor(m,g){const y=h(m),b={...J1,...g},S=c(y,b),T=f(y),C=T?i():null;super(m,!1,S,C),this._Q=e(this,T,S.Q,De,je),this._detune=e(this,T,S.detune,1200*Math.log2(De),-1200*Math.log2(De)),this._frequency=e(this,T,S.frequency,m.sampleRate/2,0),this._gain=e(this,T,S.gain,40*Math.log10(De),je),this._nativeBiquadFilterNode=S,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,g,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,g,y)}catch(b){throw b.code===11?r():b}if(m.length!==g.length||g.length!==y.length)throw r()}},$1=(l,e,i,r,c)=>()=>{const h=new WeakMap,f=async(d,p)=>{let m=i(d);const g=Oe(m,p);if(!g){const y={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=e(p,y)}return h.set(p,m),g?(await l(p,d.Q,m.Q),await l(p,d.detune,m.detune),await l(p,d.frequency,m.frequency),await l(p,d.gain,m.gain)):(await r(p,d.Q,m.Q),await r(p,d.detune,m.detune),await r(p,d.frequency,m.frequency),await r(p,d.gain,m.gain)),await c(d,p,m),m};return{render(d,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},tb=(l,e)=>(i,r)=>{const c=e.get(i);if(c!==void 0)return c;const h=l.get(i);if(h!==void 0)return h;try{const f=r();return f instanceof Promise?(l.set(i,f),f.catch(()=>!1).then(d=>(l.delete(i),e.set(i,d),d))):(e.set(i,f),f)}catch{return e.set(i,!1),!1}},eb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},nb=(l,e,i,r,c)=>class extends l{constructor(f,d){const p=r(f),m={...eb,...d},g=i(p,m),y=c(p)?e():null;super(f,!1,g,y)}},sb=(l,e,i)=>()=>{const r=new WeakMap,c=async(h,f)=>{let d=e(h);if(!Oe(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=l(f,m)}return r.set(f,d),await i(h,f,d),d};return{render(h,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):c(h,f)}}},ib={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ab=(l,e,i,r,c,h)=>class extends l{constructor(d,p){const m=r(d),g=h({...ib,...p}),y=i(m,g),b=c(m)?e():null;super(d,!1,y,b)}},rb=(l,e,i)=>()=>{const r=new WeakMap,c=async(h,f)=>{let d=e(h);if(!Oe(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=l(f,m)}return r.set(f,d),await i(h,f,d),d};return{render(h,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):c(h,f)}}},lb=l=>(e,i,r)=>l(i,e,r),ob=l=>(e,i,r=0,c=0)=>{const h=e[r];if(h===void 0)throw l();return So(i)?h.connect(i,0,c):h.connect(i,0)},cb=l=>(e,i)=>{const r=l(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=e.createBuffer(1,2,44100);return r.buffer=c,r.loop=!0,r.connect(i),r.start(),()=>{r.stop(),r.disconnect(i)}},ub={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},hb=(l,e,i,r,c,h,f)=>class extends l{constructor(p,m){const g=c(p),y={...ub,...m},b=r(g,y),S=h(g),T=S?i():null;super(p,!1,b,T),this._constantSourceNodeRenderer=T,this._nativeConstantSourceNode=b,this._offset=e(this,S,b.offset,De,je),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?f(this,p):null;this._nativeConstantSourceNode.onended=m;const g=this._nativeConstantSourceNode.onended;this._onended=g!==null&&g===m?p:g}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){ma(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),ls(this)&&Vr(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},fb=(l,e,i,r,c)=>()=>{const h=new WeakMap;let f=null,d=null;const p=async(m,g)=>{let y=i(m);const b=Oe(y,g);if(!b){const S={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(g,S),f!==null&&y.start(f),d!==null&&y.stop(d)}return h.set(g,y),b?await l(g,m.offset,y.offset):await r(g,m.offset,y.offset),await c(m,g,y),y};return{set start(m){f=m},set stop(m){d=m},render(m,g){const y=h.get(g);return y!==void 0?Promise.resolve(y):p(m,g)}}},db=l=>e=>(l[0]=e,l[0]),pb={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},mb=(l,e,i,r,c,h)=>class extends l{constructor(d,p){const m=r(d),g={...pb,...p},y=i(m,g),S=c(m)?e():null;super(d,!1,y,S),this._isBufferNullified=!1,this._nativeConvolverNode=y,g.buffer!==null&&h(this,g.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,h(this,0)}else this._isBufferNullified=!1,h(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},_b=(l,e,i)=>()=>{const r=new WeakMap,c=async(h,f)=>{let d=e(h);if(!Oe(d,f)){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=l(f,m)}return r.set(f,d),ba(d)?await i(h,f,d.inputs[0]):await i(h,f,d),d};return{render(h,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):c(h,f)}}},gb=(l,e)=>(i,r,c)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(i,r,c)}catch(h){throw h.name==="SyntaxError"?l():h}},yb=()=>new DOMException("","DataCloneError"),I_=l=>{const{port1:e,port2:i}=new MessageChannel;return new Promise(r=>{const c=()=>{i.onmessage=null,e.close(),i.close(),r()};i.onmessage=()=>c();try{e.postMessage(l,[l])}catch{}finally{c()}})},vb=(l,e,i,r,c,h,f,d,p,m,g)=>(y,b)=>{const S=f(y)?y:h(y);if(c.has(b)){const T=i();return Promise.reject(T)}try{c.add(b)}catch{}return e(p,()=>p(S))?S.decodeAudioData(b).then(T=>(I_(b).catch(()=>{}),e(d,()=>d(T))||g(T),l.add(T),T)):new Promise((T,C)=>{const O=async()=>{try{await I_(b)}catch{}},N=Y=>{C(Y),O()};try{S.decodeAudioData(b,Y=>{typeof Y.copyFromChannel!="function"&&(m(Y),zh(Y)),l.add(Y),O().then(()=>T(Y))},Y=>{N(Y===null?r():Y)})}catch(Y){N(Y)}})},bb=(l,e,i,r,c,h,f,d)=>(p,m)=>{const g=e.get(p);if(g===void 0)throw new Error("Missing the expected cycle count.");const y=h(p.context),b=d(y);if(g===m){if(e.delete(p),!b&&f(p)){const S=r(p),{outputs:T}=i(p);for(const C of T)if(Ur(C)){const O=r(C[0]);l(S,O,C[1],C[2])}else{const O=c(C[0]);S.connect(O,C[1])}}}else e.set(p,g-m)},Tb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Sb=(l,e,i,r,c,h,f)=>class extends l{constructor(p,m){const g=c(p),y={...Tb,...m},b=r(g,y),S=h(g),T=S?i(y.maxDelayTime):null;super(p,!1,b,T),this._delayTime=e(this,S,b.delayTime),f(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},xb=(l,e,i,r,c)=>h=>{const f=new WeakMap,d=async(p,m)=>{let g=i(p);const y=Oe(g,m);if(!y){const b={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,delayTime:g.delayTime.value,maxDelayTime:h};g=e(m,b)}return f.set(m,g),y?await l(m,p.delayTime,g.delayTime):await r(m,p.delayTime,g.delayTime),await c(p,m,g),g};return{render(p,m){const g=f.get(m);return g!==void 0?Promise.resolve(g):d(p,m)}}},wb=l=>(e,i,r,c)=>l(e[c],h=>h[0]===i&&h[1]===r),Ab=l=>(e,i)=>{l(e).delete(i)},Cb=l=>"delayTime"in l,Eb=(l,e,i)=>function r(c,h){const f=vo(h)?h:i(l,h);if(Cb(f))return[];if(c[0]===f)return[c];if(c.includes(f))return[];const{outputs:d}=e(f);return Array.from(d).map(p=>r([...c,f],p[0])).reduce((p,m)=>p.concat(m),[])},uo=(l,e,i)=>{const r=e[i];if(r===void 0)throw l();return r},Ob=l=>(e,i=void 0,r=void 0,c=0)=>i===void 0?e.forEach(h=>h.disconnect()):typeof i=="number"?uo(l,e,i).disconnect():So(i)?r===void 0?e.forEach(h=>h.disconnect(i)):c===void 0?uo(l,e,r).disconnect(i,0):uo(l,e,r).disconnect(i,0,c):r===void 0?e.forEach(h=>h.disconnect(i)):uo(l,e,r).disconnect(i,0),Mb={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Db=(l,e,i,r,c,h,f,d)=>class extends l{constructor(m,g){const y=h(m),b={...Mb,...g},S=r(y,b),T=f(y),C=T?i():null;super(m,!1,S,C),this._attack=e(this,T,S.attack),this._knee=e(this,T,S.knee),this._nativeDynamicsCompressorNode=S,this._ratio=e(this,T,S.ratio),this._release=e(this,T,S.release),this._threshold=e(this,T,S.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const g=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=g,c()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const g=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=g,c()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Nb=(l,e,i,r,c)=>()=>{const h=new WeakMap,f=async(d,p)=>{let m=i(d);const g=Oe(m,p);if(!g){const y={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=e(p,y)}return h.set(p,m),g?(await l(p,d.attack,m.attack),await l(p,d.knee,m.knee),await l(p,d.ratio,m.ratio),await l(p,d.release,m.release),await l(p,d.threshold,m.threshold)):(await r(p,d.attack,m.attack),await r(p,d.knee,m.knee),await r(p,d.ratio,m.ratio),await r(p,d.release,m.release),await r(p,d.threshold,m.threshold)),await c(d,p,m),m};return{render(d,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},Rb=()=>new DOMException("","EncodingError"),kb=l=>e=>new Promise((i,r)=>{if(l===null){r(new SyntaxError);return}const c=l.document.head;if(c===null)r(new SyntaxError);else{const h=l.document.createElement("script"),f=new Blob([e],{type:"application/javascript"}),d=URL.createObjectURL(f),p=l.onerror,m=()=>{l.onerror=p,URL.revokeObjectURL(d)};l.onerror=(g,y,b,S,T)=>{if(y===d||y===l.location.href&&b===1&&S===1)return m(),r(T),!1;if(p!==null)return p(g,y,b,S,T)},h.onerror=()=>{m(),r(new SyntaxError)},h.onload=()=>{m(),i()},h.src=d,h.type="module",c.appendChild(h)}}),qb=l=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,r,c){if(r!==null){let h=this._listeners.get(r);h===void 0&&(h=l(this,r),typeof r=="function"&&this._listeners.set(r,h)),this._nativeEventTarget.addEventListener(i,h,c)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,r,c){const h=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(i,h===void 0?null:h,c)}},Vb=l=>(e,i,r)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(e*i)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},zb=l=>async e=>{try{const i=await fetch(e);if(i.ok)return[await i.text(),i.url]}catch{}throw l()},Ub={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Bb=(l,e,i,r,c,h)=>class extends l{constructor(d,p){const m=c(d),g={...Ub,...p},y=r(m,g),b=h(m),S=b?i():null;super(d,!1,y,S),this._gain=e(this,b,y.gain,De,je)}get gain(){return this._gain}},Lb=(l,e,i,r,c)=>()=>{const h=new WeakMap,f=async(d,p)=>{let m=i(d);const g=Oe(m,p);if(!g){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=e(p,y)}return h.set(p,m),g?await l(p,d.gain,m.gain):await r(p,d.gain,m.gain),await c(d,p,m),m};return{render(d,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},jb=(l,e)=>i=>e(l,i),Hb=l=>e=>{const i=l(e);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},Gb=l=>e=>{var i;return(i=l.get(e))!==null&&i!==void 0?i:0},Yb=l=>e=>{const i=l(e);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},Fb=l=>e=>l.get(e),ge=()=>new DOMException("","InvalidStateError"),Xb=l=>e=>{const i=l.get(e);if(i===void 0)throw ge();return i},Qb=(l,e)=>i=>{let r=l.get(i);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),l.set(i,r),r},Zb=l=>e=>{const i=l.get(e);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},qo=()=>new DOMException("","InvalidAccessError"),Ib=l=>{l.getFrequencyResponse=(e=>(i,r,c)=>{if(i.length!==r.length||r.length!==c.length)throw qo();return e.call(l,i,r,c)})(l.getFrequencyResponse)},Wb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Kb=(l,e,i,r,c,h)=>class extends l{constructor(d,p){const m=r(d),g=c(m),y={...Wb,...p},b=e(m,g?null:d.baseLatency,y),S=g?i(y.feedback,y.feedforward):null;super(d,!1,b,S),Ib(b),this._nativeIIRFilterNode=b,h(this,1)}getFrequencyResponse(d,p,m){return this._nativeIIRFilterNode.getFrequencyResponse(d,p,m)}},xg=(l,e,i,r,c,h,f,d,p,m,g)=>{const y=m.length;let b=d;for(let S=0;S<y;S+=1){let T=i[0]*m[S];for(let C=1;C<c;C+=1){const O=b-C&p-1;T+=i[C]*h[O],T-=l[C]*f[O]}for(let C=c;C<r;C+=1)T+=i[C]*h[b-C&p-1];for(let C=c;C<e;C+=1)T-=l[C]*f[b-C&p-1];h[b]=m[S],f[b]=T,b=b+1&p-1,g[S]=T}return b},Jb=(l,e,i,r)=>{const c=i instanceof Float64Array?i:new Float64Array(i),h=r instanceof Float64Array?r:new Float64Array(r),f=c.length,d=h.length,p=Math.min(f,d);if(c[0]!==1){for(let T=0;T<f;T+=1)h[T]/=c[0];for(let T=1;T<d;T+=1)c[T]/=c[0]}const m=32,g=new Float32Array(m),y=new Float32Array(m),b=e.createBuffer(l.numberOfChannels,l.length,l.sampleRate),S=l.numberOfChannels;for(let T=0;T<S;T+=1){const C=l.getChannelData(T),O=b.getChannelData(T);g.fill(0),y.fill(0),xg(c,f,h,d,p,g,y,0,m,C,O)}return b},Pb=(l,e,i,r,c)=>(h,f)=>{const d=new WeakMap;let p=null;const m=async(g,y)=>{let b=null,S=e(g);const T=Oe(S,y);if(y.createIIRFilter===void 0?b=l(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):T||(S=y.createIIRFilter(f,h)),d.set(y,b===null?S:b),b!==null){if(p===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const O=new i(g.context.destination.channelCount,g.context.length,y.sampleRate);p=(async()=>{await r(g,O,O.destination);const N=await c(O);return Jb(N,y,h,f)})()}const C=await p;return b.buffer=C,b.start(0),b}return await r(g,y,S),S};return{render(g,y){const b=d.get(y);return b!==void 0?Promise.resolve(b):m(g,y)}}},$b=(l,e,i,r,c,h)=>f=>(d,p)=>{const m=l.get(d);if(m===void 0){if(!f&&h(d)){const g=r(d),{outputs:y}=i(d);for(const b of y)if(Ur(b)){const S=r(b[0]);e(g,S,b[1],b[2])}else{const S=c(b[0]);g.disconnect(S,b[1])}}l.set(d,p)}else l.set(d,m+p)},tT=(l,e)=>i=>{const r=l.get(i);return e(r)||e(i)},eT=(l,e)=>i=>l.has(i)||e(i),nT=(l,e)=>i=>l.has(i)||e(i),sT=(l,e)=>i=>{const r=l.get(i);return e(r)||e(i)},iT=l=>e=>l!==null&&e instanceof l,aT=l=>e=>l!==null&&typeof l.AudioNode=="function"&&e instanceof l.AudioNode,rT=l=>e=>l!==null&&typeof l.AudioParam=="function"&&e instanceof l.AudioParam,lT=(l,e)=>i=>l(i)||e(i),oT=l=>e=>l!==null&&e instanceof l,cT=l=>l!==null&&l.isSecureContext,uT=(l,e,i,r)=>class extends l{constructor(h,f){const d=i(h),p=e(d,f);if(r(d))throw TypeError();super(h,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},hT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},fT=(l,e,i,r)=>class extends l{constructor(h,f){const d=i(h);if(r(d))throw new TypeError;const p={...hT,...f},m=e(d,p);super(h,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},dT=(l,e,i,r)=>class extends l{constructor(h,f){const d=i(h),p=e(d,f);if(r(d))throw new TypeError;super(h,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},pT=(l,e,i)=>class extends l{constructor(c,h){const f=i(c),d=e(f,h);super(c,!0,d,null)}},mT=(l,e,i,r,c,h)=>class extends i{constructor(d,p){super(d),this._nativeContext=d,Ro.set(this,d),r(d)&&c.set(d,new Set),this._destination=new l(this,p),this._listener=e(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const p=typeof d=="function"?h(this,d):null;this._nativeContext.onstatechange=p;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===p?d:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Dr=l=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=l.decodeAudioData(e.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},_T=(l,e)=>(i,r,c)=>{const h=new Set;return i.connect=(f=>(d,p=0,m=0)=>{const g=h.size===0;if(e(d))return f.call(i,d,p,m),l(h,[d,p,m],y=>y[0]===d&&y[1]===p&&y[2]===m,!0),g&&r(),d;f.call(i,d,p),l(h,[d,p],y=>y[0]===d&&y[1]===p,!0),g&&r()})(i.connect),i.disconnect=(f=>(d,p,m)=>{const g=h.size>0;if(d===void 0)f.apply(i),h.clear();else if(typeof d=="number"){f.call(i,d);for(const b of h)b[1]===d&&h.delete(b)}else{e(d)?f.call(i,d,p,m):f.call(i,d,p);for(const b of h)b[0]===d&&(p===void 0||b[1]===p)&&(m===void 0||b[2]===m)&&h.delete(b)}const y=h.size===0;g&&y&&c()})(i.disconnect),i},Jt=(l,e,i)=>{const r=e[i];r!==void 0&&r!==l[i]&&(l[i]=r)},fe=(l,e)=>{Jt(l,e,"channelCount"),Jt(l,e,"channelCountMode"),Jt(l,e,"channelInterpretation")},W_=l=>typeof l.getFloatTimeDomainData=="function",gT=l=>{l.getFloatTimeDomainData=e=>{const i=new Uint8Array(e.length);l.getByteTimeDomainData(i);const r=Math.max(i.length,l.fftSize);for(let c=0;c<r;c+=1)e[c]=(i[c]-128)*.0078125;return e}},yT=(l,e)=>(i,r)=>{const c=i.createAnalyser();if(fe(c,r),!(r.maxDecibels>r.minDecibels))throw e();return Jt(c,r,"fftSize"),Jt(c,r,"maxDecibels"),Jt(c,r,"minDecibels"),Jt(c,r,"smoothingTimeConstant"),l(W_,()=>W_(c))||gT(c),c},vT=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,ee=(l,e,i)=>{const r=e[i];r!==void 0&&r!==l[i].value&&(l[i].value=r)},bT=l=>{l.start=(e=>{let i=!1;return(r=0,c=0,h)=>{if(i)throw ge();e.call(l,r,c,h),i=!0}})(l.start)},Lh=l=>{l.start=(e=>(i=0,r=0,c)=>{if(typeof c=="number"&&c<0||r<0||i<0)throw new RangeError("The parameters can't be negative.");e.call(l,i,r,c)})(l.start)},jh=l=>{l.stop=(e=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");e.call(l,i)})(l.stop)},TT=(l,e,i,r,c,h,f,d,p,m,g)=>(y,b)=>{const S=y.createBufferSource();return fe(S,b),ee(S,b,"playbackRate"),Jt(S,b,"buffer"),Jt(S,b,"loop"),Jt(S,b,"loopEnd"),Jt(S,b,"loopStart"),e(i,()=>i(y))||bT(S),e(r,()=>r(y))||p(S),e(c,()=>c(y))||m(S,y),e(h,()=>h(y))||Lh(S),e(f,()=>f(y))||g(S,y),e(d,()=>d(y))||jh(S),l(y,S),S},ST=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,xT=(l,e)=>(i,r,c)=>{const h=i.destination;if(h.channelCount!==r)try{h.channelCount=r}catch{}c&&h.channelCountMode!=="explicit"&&(h.channelCountMode="explicit"),h.maxChannelCount===0&&Object.defineProperty(h,"maxChannelCount",{value:r});const f=l(i,{channelCount:r,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1});return e(f,"channelCount",d=>()=>d.call(f),d=>p=>{d.call(f,p);try{h.channelCount=p}catch(m){if(p>h.maxChannelCount)throw m}}),e(f,"channelCountMode",d=>()=>d.call(f),d=>p=>{d.call(f,p),h.channelCountMode=p}),e(f,"channelInterpretation",d=>()=>d.call(f),d=>p=>{d.call(f,p),h.channelInterpretation=p}),Object.defineProperty(f,"maxChannelCount",{get:()=>h.maxChannelCount}),f.connect(h),f},wT=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,AT=l=>{const{port1:e}=new MessageChannel;try{e.postMessage(l)}finally{e.close()}},CT=(l,e,i,r,c)=>(h,f,d,p,m,g)=>{if(d!==null)try{const y=new d(h,p,g),b=new Map;let S=null;if(Object.defineProperties(y,{channelCount:{get:()=>g.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>S,set:T=>{typeof S=="function"&&y.removeEventListener("processorerror",S),S=typeof T=="function"?T:null,typeof S=="function"&&y.addEventListener("processorerror",S)}}}),y.addEventListener=(T=>(...C)=>{if(C[0]==="processorerror"){const O=typeof C[1]=="function"?C[1]:typeof C[1]=="object"&&C[1]!==null&&typeof C[1].handleEvent=="function"?C[1].handleEvent:null;if(O!==null){const N=b.get(C[1]);N!==void 0?C[1]=N:(C[1]=Y=>{Y.type==="error"?(Object.defineProperties(Y,{type:{value:"processorerror"}}),O(Y)):O(new ErrorEvent(C[0],{...Y}))},b.set(O,C[1]))}}return T.call(y,"error",C[1],C[2]),T.call(y,...C)})(y.addEventListener),y.removeEventListener=(T=>(...C)=>{if(C[0]==="processorerror"){const O=b.get(C[1]);O!==void 0&&(b.delete(C[1]),C[1]=O)}return T.call(y,"error",C[1],C[2]),T.call(y,C[0],C[1],C[2])})(y.removeEventListener),g.numberOfOutputs!==0){const T=i(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(T).connect(h.destination),c(y,()=>T.disconnect(),()=>T.connect(h.destination))}return y}catch(y){throw y.code===11?r():y}if(m===void 0)throw r();return AT(g),e(h,f,m,g)},wg=(l,e)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*e))))),ET=l=>new Promise((e,i)=>{const{port1:r,port2:c}=new MessageChannel;r.onmessage=({data:h})=>{r.close(),c.close(),e(h)},r.onmessageerror=({data:h})=>{r.close(),c.close(),i(h)},c.postMessage(l)}),OT=async(l,e)=>{const i=await ET(e);return new l(i)},MT=(l,e,i,r)=>{let c=Ah.get(l);c===void 0&&(c=new WeakMap,Ah.set(l,c));const h=OT(i,r);return c.set(e,h),h},DT=(l,e,i,r,c,h,f,d,p,m,g,y,b)=>(S,T,C,O)=>{if(O.numberOfInputs===0&&O.numberOfOutputs===0)throw p();const N=Array.isArray(O.outputChannelCount)?O.outputChannelCount:Array.from(O.outputChannelCount);if(N.some(rt=>rt<1))throw p();if(N.length!==O.numberOfOutputs)throw e();if(O.channelCountMode!=="explicit")throw p();const Y=O.channelCount*O.numberOfInputs,H=N.reduce((rt,gt)=>rt+gt,0),Q=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length;if(Y+Q>6||H>6)throw p();const A=new MessageChannel,q=[],E=[];for(let rt=0;rt<O.numberOfInputs;rt+=1)q.push(f(S,{channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,gain:1})),E.push(c(S,{channelCount:O.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:O.channelCount}));const D=[];if(C.parameterDescriptors!==void 0)for(const{defaultValue:rt,maxValue:gt,minValue:kt,name:Zt}of C.parameterDescriptors){const Mt=h(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O.parameterData[Zt]!==void 0?O.parameterData[Zt]:rt===void 0?0:rt});Object.defineProperties(Mt.offset,{defaultValue:{get:()=>rt===void 0?0:rt},maxValue:{get:()=>gt===void 0?De:gt},minValue:{get:()=>kt===void 0?je:kt}}),D.push(Mt)}const Z=r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Y+Q)}),W=wg(T,S.sampleRate),I=d(S,W,Y+Q,Math.max(1,H)),G=c(S,{channelCount:Math.max(1,H),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,H)}),et=[];for(let rt=0;rt<O.numberOfOutputs;rt+=1)et.push(r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[rt]}));for(let rt=0;rt<O.numberOfInputs;rt+=1){q[rt].connect(E[rt]);for(let gt=0;gt<O.channelCount;gt+=1)E[rt].connect(Z,gt,rt*O.channelCount+gt)}const $=new Tg(C.parameterDescriptors===void 0?[]:C.parameterDescriptors.map(({name:rt},gt)=>{const kt=D[gt];return kt.connect(Z,0,Y+gt),kt.start(0),[rt,kt.offset]}));Z.connect(I);let it=O.channelInterpretation,R=null;const j=O.numberOfOutputs===0?[I]:et,J={get bufferSize(){return W},get channelCount(){return O.channelCount},set channelCount(rt){throw i()},get channelCountMode(){return O.channelCountMode},set channelCountMode(rt){throw i()},get channelInterpretation(){return it},set channelInterpretation(rt){for(const gt of q)gt.channelInterpretation=rt;it=rt},get context(){return I.context},get inputs(){return q},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(rt){typeof R=="function"&&J.removeEventListener("processorerror",R),R=typeof rt=="function"?rt:null,typeof R=="function"&&J.addEventListener("processorerror",R)},get parameters(){return $},get port(){return A.port2},addEventListener(...rt){return I.addEventListener(rt[0],rt[1],rt[2])},connect:l.bind(null,j),disconnect:m.bind(null,j),dispatchEvent(...rt){return I.dispatchEvent(rt[0])},removeEventListener(...rt){return I.removeEventListener(rt[0],rt[1],rt[2])}},nt=new Map;A.port1.addEventListener=(rt=>(...gt)=>{if(gt[0]==="message"){const kt=typeof gt[1]=="function"?gt[1]:typeof gt[1]=="object"&&gt[1]!==null&&typeof gt[1].handleEvent=="function"?gt[1].handleEvent:null;if(kt!==null){const Zt=nt.get(gt[1]);Zt!==void 0?gt[1]=Zt:(gt[1]=Mt=>{g(S.currentTime,S.sampleRate,()=>kt(Mt))},nt.set(kt,gt[1]))}}return rt.call(A.port1,gt[0],gt[1],gt[2])})(A.port1.addEventListener),A.port1.removeEventListener=(rt=>(...gt)=>{if(gt[0]==="message"){const kt=nt.get(gt[1]);kt!==void 0&&(nt.delete(gt[1]),gt[1]=kt)}return rt.call(A.port1,gt[0],gt[1],gt[2])})(A.port1.removeEventListener);let x=null;Object.defineProperty(A.port1,"onmessage",{get:()=>x,set:rt=>{typeof x=="function"&&A.port1.removeEventListener("message",x),x=typeof rt=="function"?rt:null,typeof x=="function"&&(A.port1.addEventListener("message",x),A.port1.start())}}),C.prototype.port=A.port1;let B=null;MT(S,J,C,O).then(rt=>B=rt);const tt=wo(O.numberOfInputs,O.channelCount),ct=wo(O.numberOfOutputs,N),lt=C.parameterDescriptors===void 0?[]:C.parameterDescriptors.reduce((rt,{name:gt})=>({...rt,[gt]:new Float32Array(128)}),{});let ot=!0;const Vt=()=>{O.numberOfOutputs>0&&I.disconnect(G);for(let rt=0,gt=0;rt<O.numberOfOutputs;rt+=1){const kt=et[rt];for(let Zt=0;Zt<N[rt];Zt+=1)G.disconnect(kt,gt+Zt,Zt);gt+=N[rt]}},st=new Map;I.onaudioprocess=({inputBuffer:rt,outputBuffer:gt})=>{if(B!==null){const kt=y(J);for(let Zt=0;Zt<W;Zt+=128){for(let Mt=0;Mt<O.numberOfInputs;Mt+=1)for(let It=0;It<O.channelCount;It+=1)xo(rt,tt[Mt],It,It,Zt);C.parameterDescriptors!==void 0&&C.parameterDescriptors.forEach(({name:Mt},It)=>{xo(rt,lt,Mt,Y+It,Zt)});for(let Mt=0;Mt<O.numberOfInputs;Mt+=1)for(let It=0;It<N[Mt];It+=1)ct[Mt][It].byteLength===0&&(ct[Mt][It]=new Float32Array(128));try{const Mt=tt.map((ye,Rn)=>{if(kt[Rn].size>0)return st.set(Rn,W/128),ye;const Ma=st.get(Rn);return Ma===void 0?[]:(ye.every(tc=>tc.every(Zs=>Zs===0))&&(Ma===1?st.delete(Rn):st.set(Rn,Ma-1)),ye)});ot=g(S.currentTime+Zt/S.sampleRate,S.sampleRate,()=>B.process(Mt,ct,lt));for(let ye=0,Rn=0;ye<O.numberOfOutputs;ye+=1){for(let ps=0;ps<N[ye];ps+=1)Sg(gt,ct[ye],ps,Rn+ps,Zt);Rn+=N[ye]}}catch(Mt){ot=!1,J.dispatchEvent(new ErrorEvent("processorerror",{colno:Mt.colno,filename:Mt.filename,lineno:Mt.lineno,message:Mt.message}))}if(!ot){for(let Mt=0;Mt<O.numberOfInputs;Mt+=1){q[Mt].disconnect(E[Mt]);for(let It=0;It<O.channelCount;It+=1)E[Zt].disconnect(Z,It,Mt*O.channelCount+It)}if(C.parameterDescriptors!==void 0){const Mt=C.parameterDescriptors.length;for(let It=0;It<Mt;It+=1){const ye=D[It];ye.disconnect(Z,0,Y+It),ye.stop()}}Z.disconnect(I),I.onaudioprocess=null,xe?Vt():Nn();break}}}};let xe=!1;const bn=f(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Tn=()=>I.connect(bn).connect(S.destination),Nn=()=>{I.disconnect(bn),bn.disconnect()},Ea=()=>{if(ot){Nn(),O.numberOfOutputs>0&&I.connect(G);for(let rt=0,gt=0;rt<O.numberOfOutputs;rt+=1){const kt=et[rt];for(let Zt=0;Zt<N[rt];Zt+=1)G.connect(kt,gt+Zt,Zt);gt+=N[rt]}}xe=!0},Oa=()=>{ot&&(Tn(),Vt()),xe=!1};return Tn(),b(J,Ea,Oa)},Ag=(l,e)=>{const i=l.createBiquadFilter();return fe(i,e),ee(i,e,"Q"),ee(i,e,"detune"),ee(i,e,"frequency"),ee(i,e,"gain"),Jt(i,e,"type"),i},NT=(l,e)=>(i,r)=>{const c=i.createChannelMerger(r.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&e(i,c),fe(c,r),c},RT=l=>{const e=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>e,set:i=>{if(i!==e)throw ge()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw ge()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw ge()}})},Br=(l,e)=>{const i=l.createChannelSplitter(e.numberOfOutputs);return fe(i,e),RT(i),i},kT=(l,e,i,r,c)=>(h,f)=>{if(h.createConstantSource===void 0)return i(h,f);const d=h.createConstantSource();return fe(d,f),ee(d,f,"offset"),e(r,()=>r(h))||Lh(d),e(c,()=>c(h))||jh(d),l(h,d),d},Ta=(l,e)=>(l.connect=e.connect.bind(e),l.disconnect=e.disconnect.bind(e),l),qT=(l,e,i,r)=>(c,{offset:h,...f})=>{const d=c.createBuffer(1,2,44100),p=e(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=i(c,{...f,gain:h}),g=d.getChannelData(0);g[0]=1,g[1]=1,p.buffer=d,p.loop=!0;const y={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(T){m.channelCount=T},get channelCountMode(){return m.channelCountMode},set channelCountMode(T){m.channelCountMode=T},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(T){m.channelInterpretation=T},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return p.onended},set onended(T){p.onended=T},addEventListener(...T){return p.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return p.dispatchEvent(T[0])},removeEventListener(...T){return p.removeEventListener(T[0],T[1],T[2])},start(T=0){p.start.call(p,T)},stop(T=0){p.stop.call(p,T)}},b=()=>p.connect(m),S=()=>p.disconnect(m);return l(c,p),r(Ta(y,m),b,S)},VT=(l,e)=>(i,r)=>{const c=i.createConvolver();if(fe(c,r),r.disableNormalization===c.normalize&&(c.normalize=!r.disableNormalization),Jt(c,r,"buffer"),r.channelCount>2||(e(c,"channelCount",h=>()=>h.call(c),h=>f=>{if(f>2)throw l();return h.call(c,f)}),r.channelCountMode==="max"))throw l();return e(c,"channelCountMode",h=>()=>h.call(c),h=>f=>{if(f==="max")throw l();return h.call(c,f)}),c},Cg=(l,e)=>{const i=l.createDelay(e.maxDelayTime);return fe(i,e),ee(i,e,"delayTime"),i},zT=l=>(e,i)=>{const r=e.createDynamicsCompressor();if(fe(r,i),i.channelCount>2||i.channelCountMode==="max")throw l();return ee(r,i,"attack"),ee(r,i,"knee"),ee(r,i,"ratio"),ee(r,i,"release"),ee(r,i,"threshold"),r},Ye=(l,e)=>{const i=l.createGain();return fe(i,e),ee(i,e,"gain"),i},UT=l=>(e,i,r)=>{if(e.createIIRFilter===void 0)return l(e,i,r);const c=e.createIIRFilter(r.feedforward,r.feedback);return fe(c,r),c};function BT(l,e){const i=e[0]*e[0]+e[1]*e[1];return[(l[0]*e[0]+l[1]*e[1])/i,(l[1]*e[0]-l[0]*e[1])/i]}function LT(l,e){return[l[0]*e[0]-l[1]*e[1],l[0]*e[1]+l[1]*e[0]]}function K_(l,e){let i=[0,0];for(let r=l.length-1;r>=0;r-=1)i=LT(i,e),i[0]+=l[r];return i}const jT=(l,e,i,r)=>(c,h,{channelCount:f,channelCountMode:d,channelInterpretation:p,feedback:m,feedforward:g})=>{const y=wg(h,c.sampleRate),b=m instanceof Float64Array?m:new Float64Array(m),S=g instanceof Float64Array?g:new Float64Array(g),T=b.length,C=S.length,O=Math.min(T,C);if(T===0||T>20)throw r();if(b[0]===0)throw e();if(C===0||C>20)throw r();if(S[0]===0)throw e();if(b[0]!==1){for(let D=0;D<C;D+=1)S[D]/=b[0];for(let D=1;D<T;D+=1)b[D]/=b[0]}const N=i(c,y,f,f);N.channelCount=f,N.channelCountMode=d,N.channelInterpretation=p;const Y=32,H=[],Q=[],A=[];for(let D=0;D<f;D+=1){H.push(0);const Z=new Float32Array(Y),W=new Float32Array(Y);Z.fill(0),W.fill(0),Q.push(Z),A.push(W)}N.onaudioprocess=D=>{const Z=D.inputBuffer,W=D.outputBuffer,I=Z.numberOfChannels;for(let G=0;G<I;G+=1){const et=Z.getChannelData(G),$=W.getChannelData(G);H[G]=xg(b,T,S,C,O,Q[G],A[G],H[G],Y,et,$)}};const q=c.sampleRate/2;return Ta({get bufferSize(){return y},get channelCount(){return N.channelCount},set channelCount(D){N.channelCount=D},get channelCountMode(){return N.channelCountMode},set channelCountMode(D){N.channelCountMode=D},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(D){N.channelInterpretation=D},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},addEventListener(...D){return N.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return N.dispatchEvent(D[0])},getFrequencyResponse(D,Z,W){if(D.length!==Z.length||Z.length!==W.length)throw l();const I=D.length;for(let G=0;G<I;G+=1){const et=-Math.PI*(D[G]/q),$=[Math.cos(et),Math.sin(et)],it=K_(S,$),R=K_(b,$),j=BT(it,R);Z[G]=Math.sqrt(j[0]*j[0]+j[1]*j[1]),W[G]=Math.atan2(j[1],j[0])}},removeEventListener(...D){return N.removeEventListener(D[0],D[1],D[2])}},N)},HT=(l,e)=>l.createMediaElementSource(e.mediaElement),GT=(l,e)=>{const i=l.createMediaStreamDestination();return fe(i,e),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},YT=(l,{mediaStream:e})=>{const i=e.getAudioTracks();i.sort((h,f)=>h.id<f.id?-1:h.id>f.id?1:0);const r=i.slice(0,1),c=l.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(c,"mediaStream",{value:e}),c},FT=(l,e)=>(i,{mediaStreamTrack:r})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(r);const c=new MediaStream([r]),h=i.createMediaStreamSource(c);if(r.kind!=="audio")throw l();if(e(i))throw new TypeError;return h},XT=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,QT=(l,e,i,r,c,h)=>(f,d)=>{const p=f.createOscillator();return fe(p,d),ee(p,d,"detune"),ee(p,d,"frequency"),d.periodicWave!==void 0?p.setPeriodicWave(d.periodicWave):Jt(p,d,"type"),e(i,()=>i(f))||Lh(p),e(r,()=>r(f))||h(p,f),e(c,()=>c(f))||jh(p),l(f,p),p},ZT=l=>(e,i)=>{const r=e.createPanner();return r.orientationX===void 0?l(e,i):(fe(r,i),ee(r,i,"orientationX"),ee(r,i,"orientationY"),ee(r,i,"orientationZ"),ee(r,i,"positionX"),ee(r,i,"positionY"),ee(r,i,"positionZ"),Jt(r,i,"coneInnerAngle"),Jt(r,i,"coneOuterAngle"),Jt(r,i,"coneOuterGain"),Jt(r,i,"distanceModel"),Jt(r,i,"maxDistance"),Jt(r,i,"panningModel"),Jt(r,i,"refDistance"),Jt(r,i,"rolloffFactor"),r)},IT=(l,e,i,r,c,h,f,d,p,m)=>(g,{coneInnerAngle:y,coneOuterAngle:b,coneOuterGain:S,distanceModel:T,maxDistance:C,orientationX:O,orientationY:N,orientationZ:Y,panningModel:H,positionX:Q,positionY:A,positionZ:q,refDistance:E,rolloffFactor:D,...Z})=>{const W=g.createPanner();if(Z.channelCount>2||Z.channelCountMode==="max")throw f();fe(W,Z);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},G=i(g,{...I,channelInterpretation:"speakers",numberOfInputs:6}),et=r(g,{...Z,gain:1}),$=r(g,{...I,gain:1}),it=r(g,{...I,gain:0}),R=r(g,{...I,gain:0}),j=r(g,{...I,gain:0}),J=r(g,{...I,gain:0}),nt=r(g,{...I,gain:0}),x=c(g,256,6,1),B=h(g,{...I,curve:new Float32Array([1,1]),oversample:"none"});let P=[O,N,Y],tt=[Q,A,q];const ct=new Float32Array(1);x.onaudioprocess=({inputBuffer:st})=>{const xe=[p(st,ct,0),p(st,ct,1),p(st,ct,2)];xe.some((Tn,Nn)=>Tn!==P[Nn])&&(W.setOrientation(...xe),P=xe);const bn=[p(st,ct,3),p(st,ct,4),p(st,ct,5)];bn.some((Tn,Nn)=>Tn!==tt[Nn])&&(W.setPosition(...bn),tt=bn)},Object.defineProperty(it.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(nt.gain,"defaultValue",{get:()=>0});const lt={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(st){if(st>2)throw f();et.channelCount=st,W.channelCount=st},get channelCountMode(){return W.channelCountMode},set channelCountMode(st){if(st==="max")throw f();et.channelCountMode=st,W.channelCountMode=st},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(st){et.channelInterpretation=st,W.channelInterpretation=st},get coneInnerAngle(){return W.coneInnerAngle},set coneInnerAngle(st){W.coneInnerAngle=st},get coneOuterAngle(){return W.coneOuterAngle},set coneOuterAngle(st){W.coneOuterAngle=st},get coneOuterGain(){return W.coneOuterGain},set coneOuterGain(st){if(st<0||st>1)throw e();W.coneOuterGain=st},get context(){return W.context},get distanceModel(){return W.distanceModel},set distanceModel(st){W.distanceModel=st},get inputs(){return[et]},get maxDistance(){return W.maxDistance},set maxDistance(st){if(st<0)throw new RangeError;W.maxDistance=st},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return it.gain},get orientationZ(){return R.gain},get panningModel(){return W.panningModel},set panningModel(st){W.panningModel=st},get positionX(){return j.gain},get positionY(){return J.gain},get positionZ(){return nt.gain},get refDistance(){return W.refDistance},set refDistance(st){if(st<0)throw new RangeError;W.refDistance=st},get rolloffFactor(){return W.rolloffFactor},set rolloffFactor(st){if(st<0)throw new RangeError;W.rolloffFactor=st},addEventListener(...st){return et.addEventListener(st[0],st[1],st[2])},dispatchEvent(...st){return et.dispatchEvent(st[0])},removeEventListener(...st){return et.removeEventListener(st[0],st[1],st[2])}};y!==lt.coneInnerAngle&&(lt.coneInnerAngle=y),b!==lt.coneOuterAngle&&(lt.coneOuterAngle=b),S!==lt.coneOuterGain&&(lt.coneOuterGain=S),T!==lt.distanceModel&&(lt.distanceModel=T),C!==lt.maxDistance&&(lt.maxDistance=C),O!==lt.orientationX.value&&(lt.orientationX.value=O),N!==lt.orientationY.value&&(lt.orientationY.value=N),Y!==lt.orientationZ.value&&(lt.orientationZ.value=Y),H!==lt.panningModel&&(lt.panningModel=H),Q!==lt.positionX.value&&(lt.positionX.value=Q),A!==lt.positionY.value&&(lt.positionY.value=A),q!==lt.positionZ.value&&(lt.positionZ.value=q),E!==lt.refDistance&&(lt.refDistance=E),D!==lt.rolloffFactor&&(lt.rolloffFactor=D),(P[0]!==1||P[1]!==0||P[2]!==0)&&W.setOrientation(...P),(tt[0]!==0||tt[1]!==0||tt[2]!==0)&&W.setPosition(...tt);const ot=()=>{et.connect(W),l(et,B,0,0),B.connect($).connect(G,0,0),B.connect(it).connect(G,0,1),B.connect(R).connect(G,0,2),B.connect(j).connect(G,0,3),B.connect(J).connect(G,0,4),B.connect(nt).connect(G,0,5),G.connect(x).connect(g.destination)},Vt=()=>{et.disconnect(W),d(et,B,0,0),B.disconnect($),$.disconnect(G),B.disconnect(it),it.disconnect(G),B.disconnect(R),R.disconnect(G),B.disconnect(j),j.disconnect(G),B.disconnect(J),J.disconnect(G),B.disconnect(nt),nt.disconnect(G),G.disconnect(x),x.disconnect(g.destination)};return m(Ta(lt,W),ot,Vt)},WT=l=>(e,{disableNormalization:i,imag:r,real:c})=>{const h=r instanceof Float32Array?r:new Float32Array(r),f=c instanceof Float32Array?c:new Float32Array(c),d=e.createPeriodicWave(f,h,{disableNormalization:i});if(Array.from(r).length<2)throw l();return d},Lr=(l,e,i,r)=>l.createScriptProcessor(e,i,r),KT=(l,e)=>(i,r)=>{const c=r.channelCountMode;if(c==="clamped-max")throw e();if(i.createStereoPanner===void 0)return l(i,r);const h=i.createStereoPanner();return fe(h,r),ee(h,r,"pan"),Object.defineProperty(h,"channelCountMode",{get:()=>c,set:f=>{if(f!==c)throw e()}}),h},JT=(l,e,i,r,c,h)=>{const d=new Float32Array([1,1]),p=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},g={...m,oversample:"none"},y=(T,C,O,N)=>{const Y=new Float32Array(16385),H=new Float32Array(16385);for(let Z=0;Z<16385;Z+=1){const W=Z/16384*p;Y[Z]=Math.cos(W),H[Z]=Math.sin(W)}const Q=i(T,{...m,gain:0}),A=r(T,{...g,curve:Y}),q=r(T,{...g,curve:d}),E=i(T,{...m,gain:0}),D=r(T,{...g,curve:H});return{connectGraph(){C.connect(Q),C.connect(q.inputs===void 0?q:q.inputs[0]),C.connect(E),q.connect(O),O.connect(A.inputs===void 0?A:A.inputs[0]),O.connect(D.inputs===void 0?D:D.inputs[0]),A.connect(Q.gain),D.connect(E.gain),Q.connect(N,0,0),E.connect(N,0,1)},disconnectGraph(){C.disconnect(Q),C.disconnect(q.inputs===void 0?q:q.inputs[0]),C.disconnect(E),q.disconnect(O),O.disconnect(A.inputs===void 0?A:A.inputs[0]),O.disconnect(D.inputs===void 0?D:D.inputs[0]),A.disconnect(Q.gain),D.disconnect(E.gain),Q.disconnect(N,0,0),E.disconnect(N,0,1)}}},b=(T,C,O,N)=>{const Y=new Float32Array(16385),H=new Float32Array(16385),Q=new Float32Array(16385),A=new Float32Array(16385),q=Math.floor(16385/2);for(let j=0;j<16385;j+=1)if(j>q){const J=(j-q)/(16384-q)*p;Y[j]=Math.cos(J),H[j]=Math.sin(J),Q[j]=0,A[j]=1}else{const J=j/(16384-q)*p;Y[j]=1,H[j]=0,Q[j]=Math.cos(J),A[j]=Math.sin(J)}const E=e(T,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=i(T,{...m,gain:0}),Z=r(T,{...g,curve:Y}),W=i(T,{...m,gain:0}),I=r(T,{...g,curve:H}),G=r(T,{...g,curve:d}),et=i(T,{...m,gain:0}),$=r(T,{...g,curve:Q}),it=i(T,{...m,gain:0}),R=r(T,{...g,curve:A});return{connectGraph(){C.connect(E),C.connect(G.inputs===void 0?G:G.inputs[0]),E.connect(D,0),E.connect(W,0),E.connect(et,1),E.connect(it,1),G.connect(O),O.connect(Z.inputs===void 0?Z:Z.inputs[0]),O.connect(I.inputs===void 0?I:I.inputs[0]),O.connect($.inputs===void 0?$:$.inputs[0]),O.connect(R.inputs===void 0?R:R.inputs[0]),Z.connect(D.gain),I.connect(W.gain),$.connect(et.gain),R.connect(it.gain),D.connect(N,0,0),et.connect(N,0,0),W.connect(N,0,1),it.connect(N,0,1)},disconnectGraph(){C.disconnect(E),C.disconnect(G.inputs===void 0?G:G.inputs[0]),E.disconnect(D,0),E.disconnect(W,0),E.disconnect(et,1),E.disconnect(it,1),G.disconnect(O),O.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),O.disconnect(I.inputs===void 0?I:I.inputs[0]),O.disconnect($.inputs===void 0?$:$.inputs[0]),O.disconnect(R.inputs===void 0?R:R.inputs[0]),Z.disconnect(D.gain),I.disconnect(W.gain),$.disconnect(et.gain),R.disconnect(it.gain),D.disconnect(N,0,0),et.disconnect(N,0,0),W.disconnect(N,0,1),it.disconnect(N,0,1)}}},S=(T,C,O,N,Y)=>{if(C===1)return y(T,O,N,Y);if(C===2)return b(T,O,N,Y);throw c()};return(T,{channelCount:C,channelCountMode:O,pan:N,...Y})=>{if(O==="max")throw c();const H=l(T,{...Y,channelCount:1,channelCountMode:O,numberOfInputs:2}),Q=i(T,{...Y,channelCount:C,channelCountMode:O,gain:1}),A=i(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:N});let{connectGraph:q,disconnectGraph:E}=S(T,C,Q,A,H);Object.defineProperty(A.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"maxValue",{get:()=>1}),Object.defineProperty(A.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return Q.channelCount},set channelCount(G){Q.channelCount!==G&&(Z&&E(),{connectGraph:q,disconnectGraph:E}=S(T,G,Q,A,H),Z&&q()),Q.channelCount=G},get channelCountMode(){return Q.channelCountMode},set channelCountMode(G){if(G==="clamped-max"||G==="max")throw c();Q.channelCountMode=G},get channelInterpretation(){return Q.channelInterpretation},set channelInterpretation(G){Q.channelInterpretation=G},get context(){return Q.context},get inputs(){return[Q]},get numberOfInputs(){return Q.numberOfInputs},get numberOfOutputs(){return Q.numberOfOutputs},get pan(){return A.gain},addEventListener(...G){return Q.addEventListener(G[0],G[1],G[2])},dispatchEvent(...G){return Q.dispatchEvent(G[0])},removeEventListener(...G){return Q.removeEventListener(G[0],G[1],G[2])}};let Z=!1;const W=()=>{q(),Z=!0},I=()=>{E(),Z=!1};return h(Ta(D,H),W,I)}},PT=(l,e,i,r,c,h,f)=>(d,p)=>{const m=d.createWaveShaper();if(h!==null&&h.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return i(d,p);fe(m,p);const g=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(g!==null&&g.length<2)throw e();Jt(m,{curve:g},"curve"),Jt(m,p,"oversample");let y=null,b=!1;return f(m,"curve",C=>()=>C.call(m),C=>O=>(C.call(m,O),b&&(r(O)&&y===null?y=l(d,m):!r(O)&&y!==null&&(y(),y=null)),O)),c(m,()=>{b=!0,r(m.curve)&&(y=l(d,m))},()=>{b=!1,y!==null&&(y(),y=null)})},$T=(l,e,i,r,c)=>(h,{curve:f,oversample:d,...p})=>{const m=h.createWaveShaper(),g=h.createWaveShaper();fe(m,p),fe(g,p);const y=i(h,{...p,gain:1}),b=i(h,{...p,gain:-1}),S=i(h,{...p,gain:1}),T=i(h,{...p,gain:-1});let C=null,O=!1,N=null;const Y={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(A){y.channelCount=A,b.channelCount=A,m.channelCount=A,S.channelCount=A,g.channelCount=A,T.channelCount=A},get channelCountMode(){return m.channelCountMode},set channelCountMode(A){y.channelCountMode=A,b.channelCountMode=A,m.channelCountMode=A,S.channelCountMode=A,g.channelCountMode=A,T.channelCountMode=A},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(A){y.channelInterpretation=A,b.channelInterpretation=A,m.channelInterpretation=A,S.channelInterpretation=A,g.channelInterpretation=A,T.channelInterpretation=A},get context(){return m.context},get curve(){return N},set curve(A){if(A!==null&&A.length<2)throw e();if(A===null)m.curve=A,g.curve=A;else{const q=A.length,E=new Float32Array(q+2-q%2),D=new Float32Array(q+2-q%2);E[0]=A[0],D[0]=-A[q-1];const Z=Math.ceil((q+1)/2),W=(q+1)/2-1;for(let I=1;I<Z;I+=1){const G=I/Z*W,et=Math.floor(G),$=Math.ceil(G);E[I]=et===$?A[et]:(1-(G-et))*A[et]+(1-($-G))*A[$],D[I]=et===$?-A[q-1-et]:-((1-(G-et))*A[q-1-et])-(1-($-G))*A[q-1-$]}E[Z]=q%2===1?A[Z-1]:(A[Z-2]+A[Z-1])/2,m.curve=E,g.curve=D}N=A,O&&(r(N)&&C===null?C=l(h,y):C!==null&&(C(),C=null))},get inputs(){return[y]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(A){m.oversample=A,g.oversample=A},addEventListener(...A){return y.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return y.dispatchEvent(A[0])},removeEventListener(...A){return y.removeEventListener(A[0],A[1],A[2])}};f!==null&&(Y.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==Y.oversample&&(Y.oversample=d);const H=()=>{y.connect(m).connect(S),y.connect(b).connect(g).connect(T).connect(S),O=!0,r(N)&&(C=l(h,y))},Q=()=>{y.disconnect(m),m.disconnect(S),y.disconnect(b),b.disconnect(g),g.disconnect(T),T.disconnect(S),O=!1,C!==null&&(C(),C=null)};return c(Ta(Y,S),H,Q)},qe=()=>new DOMException("","NotSupportedError"),tS={numberOfChannels:1},eS=(l,e,i,r,c)=>class extends l{constructor(f,d,p){let m;if(typeof f=="number"&&d!==void 0&&p!==void 0)m={length:d,numberOfChannels:f,sampleRate:p};else if(typeof f=="object")m=f;else throw new Error("The given parameters are not valid.");const{length:g,numberOfChannels:y,sampleRate:b}={...tS,...m},S=r(y,g,b);e(Dr,()=>Dr(S))||S.addEventListener("statechange",(()=>{let T=0;const C=O=>{this._state==="running"&&(T>0?(S.removeEventListener("statechange",C),O.stopImmediatePropagation(),this._waitForThePromiseToSettle(O)):T+=1)};return C})()),super(S,y),this._length=g,this._nativeOfflineAudioContext=S,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",c(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,gg(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},nS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},sS=(l,e,i,r,c,h,f)=>class extends l{constructor(p,m){const g=c(p),y={...nS,...m},b=i(g,y),S=h(g),T=S?r():null,C=p.sampleRate/2;super(p,!1,b,T),this._detune=e(this,S,b.detune,153600,-153600),this._frequency=e(this,S,b.frequency,C,-C),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=T,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?f(this,p):null;this._nativeOscillatorNode.onended=m;const g=this._nativeOscillatorNode.onended;this._onended=g!==null&&g===m?p:g}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){ma(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),ls(this)&&Vr(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},iS=(l,e,i,r,c)=>()=>{const h=new WeakMap;let f=null,d=null,p=null;const m=async(g,y)=>{let b=i(g);const S=Oe(b,y);if(!S){const T={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:f===null?void 0:f,type:b.type};b=e(y,T),d!==null&&b.start(d),p!==null&&b.stop(p)}return h.set(y,b),S?(await l(y,g.detune,b.detune),await l(y,g.frequency,b.frequency)):(await r(y,g.detune,b.detune),await r(y,g.frequency,b.frequency)),await c(g,y,b),b};return{set periodicWave(g){f=g},set start(g){d=g},set stop(g){p=g},render(g,y){const b=h.get(y);return b!==void 0?Promise.resolve(b):m(g,y)}}},aS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},rS=(l,e,i,r,c,h,f)=>class extends l{constructor(p,m){const g=c(p),y={...aS,...m},b=i(g,y),S=h(g),T=S?r():null;super(p,!1,b,T),this._nativePannerNode=b,this._orientationX=e(this,S,b.orientationX,De,je),this._orientationY=e(this,S,b.orientationY,De,je),this._orientationZ=e(this,S,b.orientationZ,De,je),this._positionX=e(this,S,b.positionX,De,je),this._positionY=e(this,S,b.positionY,De,je),this._positionZ=e(this,S,b.positionZ,De,je),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},lS=(l,e,i,r,c,h,f,d,p,m)=>()=>{const g=new WeakMap;let y=null;const b=async(S,T)=>{let C=null,O=h(S);const N={channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation},Y={...N,coneInnerAngle:O.coneInnerAngle,coneOuterAngle:O.coneOuterAngle,coneOuterGain:O.coneOuterGain,distanceModel:O.distanceModel,maxDistance:O.maxDistance,panningModel:O.panningModel,refDistance:O.refDistance,rolloffFactor:O.rolloffFactor},H=Oe(O,T);if("bufferSize"in O)C=r(T,{...N,gain:1});else if(!H){const Q={...Y,orientationX:O.orientationX.value,orientationY:O.orientationY.value,orientationZ:O.orientationZ.value,positionX:O.positionX.value,positionY:O.positionY.value,positionZ:O.positionZ.value};O=c(T,Q)}if(g.set(T,C===null?O:C),C!==null){if(y===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new f(6,S.context.length,T.sampleRate),G=e(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});G.connect(I.destination),y=(async()=>{const et=await Promise.all([S.orientationX,S.orientationY,S.orientationZ,S.positionX,S.positionY,S.positionZ].map(async($,it)=>{const R=i(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:it===0?1:0});return await d(I,$,R.offset),R}));for(let $=0;$<6;$+=1)et[$].connect(G,0,$),et[$].start(0);return m(I)})()}const Q=await y,A=r(T,{...N,gain:1});await p(S,T,A);const q=[];for(let I=0;I<Q.numberOfChannels;I+=1)q.push(Q.getChannelData(I));let E=[q[0][0],q[1][0],q[2][0]],D=[q[3][0],q[4][0],q[5][0]],Z=r(T,{...N,gain:1}),W=c(T,{...Y,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:D[0],positionY:D[1],positionZ:D[2]});A.connect(Z).connect(W.inputs[0]),W.connect(C);for(let I=128;I<Q.length;I+=128){const G=[q[0][I],q[1][I],q[2][I]],et=[q[3][I],q[4][I],q[5][I]];if(G.some(($,it)=>$!==E[it])||et.some(($,it)=>$!==D[it])){E=G,D=et;const $=I/T.sampleRate;Z.gain.setValueAtTime(0,$),Z=r(T,{...N,gain:0}),W=c(T,{...Y,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),Z.gain.setValueAtTime(1,$),A.connect(Z).connect(W.inputs[0]),W.connect(C)}}return C}return H?(await l(T,S.orientationX,O.orientationX),await l(T,S.orientationY,O.orientationY),await l(T,S.orientationZ,O.orientationZ),await l(T,S.positionX,O.positionX),await l(T,S.positionY,O.positionY),await l(T,S.positionZ,O.positionZ)):(await d(T,S.orientationX,O.orientationX),await d(T,S.orientationY,O.orientationY),await d(T,S.orientationZ,O.orientationZ),await d(T,S.positionX,O.positionX),await d(T,S.positionY,O.positionY),await d(T,S.positionZ,O.positionZ)),ba(O)?await p(S,T,O.inputs[0]):await p(S,T,O),O};return{render(S,T){const C=g.get(T);return C!==void 0?Promise.resolve(C):b(S,T)}}},oS={disableNormalization:!1},cS=(l,e,i,r)=>class Eg{constructor(h,f){const d=e(h),p=r({...oS,...f}),m=l(d,p);return i.add(m),m}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===Eg.prototype||i.has(h)}},uS=(l,e)=>(i,r,c)=>(l(r).replay(c),e(r,i,c)),hS=(l,e,i)=>async(r,c,h)=>{const f=l(r);await Promise.all(f.activeInputs.map((d,p)=>Array.from(d).map(async([m,g])=>{const b=await e(m).render(m,c),S=r.context.destination;!i(m)&&(r!==S||!i(r))&&b.connect(h,g,p)})).reduce((d,p)=>[...d,...p],[]))},fS=(l,e,i)=>async(r,c,h)=>{const f=e(r);await Promise.all(Array.from(f.activeInputs).map(async([d,p])=>{const g=await l(d).render(d,c);i(d)||g.connect(h,p)}))},dS=(l,e,i,r)=>c=>l(Dr,()=>Dr(c))?Promise.resolve(l(r,r)).then(h=>{if(!h){const f=i(c,512,0,1);c.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>c.currentTime,f.connect(c.destination)}return c.startRendering()}):new Promise(h=>{const f=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});c.oncomplete=d=>{f.disconnect(),h(d.renderedBuffer)},f.connect(c.destination),c.startRendering()}),pS=l=>(e,i)=>{l.set(e,i)},mS=l=>(e,i)=>l.set(e,i),_S=(l,e,i,r,c,h,f,d)=>(p,m)=>i(p).render(p,m).then(()=>Promise.all(Array.from(r(m)).map(g=>i(g).render(g,m)))).then(()=>c(m)).then(g=>(typeof g.copyFromChannel!="function"?(f(g),zh(g)):e(h,()=>h(g))||d(g),l.add(g),g)),gS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},yS=(l,e,i,r,c,h)=>class extends l{constructor(d,p){const m=c(d),g={...gS,...p},y=i(m,g),b=h(m),S=b?r():null;super(d,!1,y,S),this._pan=e(this,b,y.pan)}get pan(){return this._pan}},vS=(l,e,i,r,c)=>()=>{const h=new WeakMap,f=async(d,p)=>{let m=i(d);const g=Oe(m,p);if(!g){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=e(p,y)}return h.set(p,m),g?await l(p,d.pan,m.pan):await r(p,d.pan,m.pan),ba(m)?await c(d,p,m.inputs[0]):await c(d,p,m),m};return{render(d,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},bS=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},TS=(l,e)=>async()=>{if(l===null)return!0;if(e===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),c=URL.createObjectURL(i);let h=!1,f=!1;try{await r.audioWorklet.addModule(c);const d=new l(r,"a",{numberOfOutputs:0}),p=r.createOscillator();d.port.onmessage=()=>h=!0,d.onprocessorerror=()=>f=!0,p.connect(d),p.start(0),await r.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(c)}return h&&!f},SS=(l,e)=>()=>{if(e===null)return Promise.resolve(!1);const i=new e(1,1,44100),r=l(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(c=>{i.oncomplete=()=>{r.disconnect(),c(i.currentTime!==0)},i.startRendering()})},xS=()=>new DOMException("","UnknownError"),wS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},AS=(l,e,i,r,c,h,f)=>class extends l{constructor(p,m){const g=c(p),y={...wS,...m},b=i(g,y),T=h(g)?r():null;super(p,!0,b,T),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},CS=(l,e,i)=>()=>{const r=new WeakMap,c=async(h,f)=>{let d=e(h);if(!Oe(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=l(f,m)}return r.set(f,d),ba(d)?await i(h,f,d.inputs[0]):await i(h,f,d),d};return{render(h,f){const d=r.get(f);return d!==void 0?Promise.resolve(d):c(h,f)}}},ES=()=>typeof window>"u"?null:window,OS=(l,e)=>i=>{i.copyFromChannel=(r,c,h=0)=>{const f=l(h),d=l(c);if(d>=i.numberOfChannels)throw e();const p=i.length,m=i.getChannelData(d),g=r.length;for(let y=f<0?-f:0;y+f<p&&y<g;y+=1)r[y]=m[y+f]},i.copyToChannel=(r,c,h=0)=>{const f=l(h),d=l(c);if(d>=i.numberOfChannels)throw e();const p=i.length,m=i.getChannelData(d),g=r.length;for(let y=f<0?-f:0;y+f<p&&y<g;y+=1)m[y+f]=r[y]}},MS=l=>e=>{e.copyFromChannel=(i=>(r,c,h=0)=>{const f=l(h),d=l(c);if(f<e.length)return i.call(e,r,d,f)})(e.copyFromChannel),e.copyToChannel=(i=>(r,c,h=0)=>{const f=l(h),d=l(c);if(f<e.length)return i.call(e,r,d,f)})(e.copyToChannel)},DS=l=>(e,i)=>{const r=i.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),l(e,"buffer",c=>()=>{const h=c.call(e);return h===r?null:h},c=>h=>c.call(e,h===null?r:h))},NS=(l,e)=>(i,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const c=i.createBufferSource();e(r,()=>{const d=r.numberOfInputs;for(let p=0;p<d;p+=1)c.connect(r,0,p)},()=>c.disconnect(r))},Og=(l,e,i)=>l.copyFromChannel===void 0?l.getChannelData(i)[0]:(l.copyFromChannel(e,i),e[0]),Mg=l=>{if(l===null)return!1;const e=l.length;return e%2!==0?l[Math.floor(e/2)]!==0:l[e/2-1]+l[e/2]!==0},jr=(l,e,i,r)=>{let c=l;for(;!c.hasOwnProperty(e);)c=Object.getPrototypeOf(c);const{get:h,set:f}=Object.getOwnPropertyDescriptor(c,e);Object.defineProperty(l,e,{get:i(h),set:r(f)})},RS=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),kS=l=>({...l,channelCount:l.numberOfOutputs}),qS=l=>{const{imag:e,real:i}=l;return e===void 0?i===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(i,()=>0),real:i}:i===void 0?{...l,imag:e,real:Array.from(e,()=>0)}:{...l,imag:e,real:i}},Dg=(l,e,i)=>{try{l.setValueAtTime(e,i)}catch(r){if(r.code!==9)throw r;Dg(l,e,i+1e-7)}},VS=l=>{const e=l.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},zS=l=>{const e=l.createBufferSource(),i=l.createBuffer(1,1,44100);e.buffer=i;try{e.start(0,1)}catch{return!1}return!0},US=l=>{const e=l.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Hh=l=>{const e=l.createOscillator();try{e.start(-1)}catch(i){return i instanceof RangeError}return!1},Ng=l=>{const e=l.createBuffer(1,1,44100),i=l.createBufferSource();i.buffer=e,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},Gh=l=>{const e=l.createOscillator();try{e.stop(-1)}catch(i){return i instanceof RangeError}return!1},BS=l=>{const{port1:e,port2:i}=new MessageChannel;try{e.postMessage(l)}finally{e.close(),i.close()}},LS=l=>{l.start=(e=>(i=0,r=0,c)=>{const h=l.buffer,f=h===null?r:Math.min(h.duration,r);h!==null&&f>h.duration-.5/l.context.sampleRate?e.call(l,i,0,0):e.call(l,i,f,c)})(l.start)},Rg=(l,e)=>{const i=e.createGain();l.connect(i);const r=(c=>()=>{c.call(l,i),l.removeEventListener("ended",r)})(l.disconnect);l.addEventListener("ended",r),Ta(l,i),l.stop=(c=>{let h=!1;return(f=0)=>{if(h)try{c.call(l,f)}catch{i.gain.setValueAtTime(0,f)}else c.call(l,f),h=!0}})(l.stop)},Sa=(l,e)=>i=>{const r={value:l};return Object.defineProperties(i,{currentTarget:r,target:r}),typeof e=="function"?e.call(l,i):e.handleEvent.call(l,i)},jS=r1(bi),HS=f1(bi),GS=wb(ko),kg=new WeakMap,YS=Gb(kg),On=tb(new Map,new WeakMap),Bn=ES(),qg=yT(On,jn),Yh=Hb(Ne),Se=hS(Ne,Yh,gi),FS=g1(qg,Wt,Se),Qt=Xb(Ro),us=XT(Bn),Ht=oT(us),Vg=new WeakMap,zg=qb(Sa),Hr=ST(Bn),Fh=iT(Hr),Xh=aT(Bn),Ug=rT(Bn),Nr=wT(Bn),re=G1(l1(ug),h1(jS,HS,bo,GS,To,Ne,YS,qr,Wt,bi,ls,gi,po),On,$b(xh,To,Ne,Wt,Mr,ls),jn,qo,qe,bb(bo,xh,Ne,Wt,Mr,Qt,ls,Ht),Eb(Vg,Ne,En),zg,Qt,Fh,Xh,Ug,Ht,Nr),XS=_1(re,FS,jn,qg,Qt,Ht),Qh=new WeakSet,J_=vT(Bn),Bg=db(new Uint32Array(1)),Zh=OS(Bg,jn),Ih=MS(Bg),Lg=v1(Qh,On,qe,J_,us,bS(J_),Zh,Ih),Vo=d1(Ye),jg=fS(Yh,zr,gi),Hn=lb(jg),xa=TT(Vo,On,VS,zS,US,Hh,Ng,Gh,LS,DS(jr),Rg),Gn=uS(Yb(zr),jg),QS=S1(Hn,xa,Wt,Gn,Se),Mn=Y1(o1(hg),Vg,Vh,F1,t1,e1,n1,s1,i1,bh,og,Hr,Dg),ZS=T1(re,QS,Mn,ge,xa,Qt,Ht,Sa),IS=N1(re,R1,jn,ge,xT(Ye,jr),Qt,Ht,Se),WS=$1(Hn,Ag,Wt,Gn,Se),Ti=mS(kg),KS=P1(re,Mn,WS,qo,Ag,Qt,Ht,Ti),Fs=_T(bi,Xh),JS=NS(ge,Fs),Xs=NT(Hr,JS),PS=sb(Xs,Wt,Se),$S=nb(re,PS,Xs,Qt,Ht),tx=rb(Br,Wt,Se),ex=ab(re,tx,Br,Qt,Ht,kS),nx=qT(Vo,xa,Ye,Fs),wa=kT(Vo,On,nx,Hh,Gh),sx=fb(Hn,wa,Wt,Gn,Se),ix=hb(re,Mn,sx,wa,Qt,Ht,Sa),Hg=VT(qe,jr),ax=_b(Hg,Wt,Se),rx=mb(re,ax,Hg,Qt,Ht,Ti),lx=xb(Hn,Cg,Wt,Gn,Se),ox=Sb(re,Mn,lx,Cg,Qt,Ht,Ti),Gg=zT(qe),cx=Nb(Hn,Gg,Wt,Gn,Se),ux=Db(re,Mn,cx,Gg,qe,Qt,Ht,Ti),hx=Lb(Hn,Ye,Wt,Gn,Se),fx=Bb(re,Mn,hx,Ye,Qt,Ht),dx=jT(qo,ge,Lr,qe),zo=dS(On,Ye,Lr,SS(Ye,us)),px=Pb(xa,Wt,us,Se,zo),mx=UT(dx),_x=Kb(re,mx,px,Qt,Ht,Ti),gx=k1(Mn,Xs,wa,Lr,qe,Og,Ht,jr),Yg=new WeakMap,yx=mT(IS,gx,zg,Ht,Yg,Sa),Fg=QT(Vo,On,Hh,Ng,Gh,Rg),vx=iS(Hn,Fg,Wt,Gn,Se),bx=sS(re,Mn,Fg,vx,Qt,Ht,Sa),Xg=cb(xa),Tx=$T(Xg,ge,Ye,Mg,Fs),Uo=PT(Xg,ge,Tx,Mg,Fs,Hr,jr),Sx=IT(bo,ge,Xs,Ye,Lr,Uo,qe,To,Og,Fs),Qg=ZT(Sx),xx=lS(Hn,Xs,wa,Ye,Qg,Wt,us,Gn,Se,zo),wx=rS(re,Mn,Qg,xx,Qt,Ht,Ti),Ax=WT(jn),Cx=cS(Ax,Qt,new WeakSet,qS),Ex=JT(Xs,Br,Ye,Uo,qe,Fs),Zg=KT(Ex,qe),Ox=vS(Hn,Zg,Wt,Gn,Se),Mx=yS(re,Mn,Zg,Ox,Qt,Ht),Dx=CS(Uo,Wt,Se),Nx=AS(re,ge,Uo,Dx,Qt,Ht,Ti),Ig=cT(Bn),Wh=Vb(Bn),Wg=new WeakMap,Rx=Qb(Wg,us),kx=Ig?u1(On,qe,kb(Bn),Wh,zb(a1),Qt,Rx,Ht,Nr,new WeakMap,new WeakMap,TS(Nr,us),Bn):void 0,qx=lT(Fh,Ht),Vx=vb(Qh,On,yb,Rb,new WeakSet,Qt,qx,yo,Dr,Zh,Ih),Kg=K1(kx,XS,Lg,ZS,KS,$S,ex,ix,rx,Vx,ox,ux,fx,_x,yx,bx,wx,Cx,Mx,Nx),zx=uT(re,HT,Qt,Ht),Ux=fT(re,GT,Qt,Ht),Bx=dT(re,YT,Qt,Ht),Lx=FT(ge,Ht),jx=pT(re,Lx,Qt),Hx=D1(Kg,ge,qe,xS,zx,Ux,Bx,jx,Hr),Kh=Zb(Yg),Gx=p1(Kh),Jg=ob(jn),Yx=Ab(Kh),Pg=Ob(jn),$g=new WeakMap,Fx=jb($g,En),Xx=DT(Jg,jn,ge,Xs,Br,wa,Ye,Lr,qe,Pg,Wh,Fx,Fs),Qx=CT(ge,Xx,Ye,qe,Fs),Zx=W1(Hn,Jg,xa,Xs,Br,wa,Ye,Yx,Pg,Wh,Wt,Nr,us,Gn,Se,zo),Ix=Fb(Wg),Wx=pS($g),P_=Ig?Q1(Gx,re,Mn,Zx,Qx,Ne,Ix,Qt,Ht,Nr,RS,Wx,BS,Sa):void 0,Kx=gb(qe,us),Jx=_S(Qh,On,Yh,Kh,zo,yo,Zh,Ih),Px=eS(Kg,On,ge,Kx,Jx),$x=tT(Ro,Fh),tw=eT(qh,Xh),ew=nT(Vh,Ug),nw=sT(Ro,Ht);function pn(l){return l===void 0}function Et(l){return l!==void 0}function sw(l){return typeof l=="function"}function os(l){return typeof l=="number"}function mi(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function iw(l){return typeof l=="boolean"}function tn(l){return Array.isArray(l)}function cs(l){return typeof l=="string"}function ho(l){return cs(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function mt(l,e){if(!l)throw new Error(e)}function fn(l,e,i=1/0){if(!(e<=l&&l<=i))throw new RangeError(`Value must be within [${e}, ${i}], got: ${l}`)}function ty(l){!l.isOffline&&l.state!=="running"&&Bo('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let ey=!1,$_=!1;function tg(l){ey=l}function aw(l){pn(l)&&ey&&!$_&&($_=!0,Bo("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let ny=console;function rw(...l){ny.log(...l)}function Bo(...l){ny.warn(...l)}function lw(l){return new Hx(l)}function ow(l,e,i){return new Px(l,e,i)}const $e=typeof self=="object"?self:null,cw=$e&&($e.hasOwnProperty("AudioContext")||$e.hasOwnProperty("webkitAudioContext"));function uw(l,e,i){return mt(Et(P_),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof $e?.BaseAudioContext?$e?.AudioWorkletNode:P_)(l,e,i)}function Dn(l,e,i,r){var c=arguments.length,h=c<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,e,i,r);else for(var d=l.length-1;d>=0;d--)(f=l[d])&&(h=(c<3?f(h):c>3?f(e,i,h):f(e,i))||h);return c>3&&h&&Object.defineProperty(e,i,h),h}function ae(l,e,i,r){function c(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function d(g){try{m(r.next(g))}catch(y){f(y)}}function p(g){try{m(r.throw(g))}catch(y){f(y)}}function m(g){g.done?h(g.value):c(g.value).then(d,p)}m((r=r.apply(l,e||[])).next())})}class hw{constructor(e,i,r,c){this._callback=e,this._type=i,this._minimumUpdateInterval=Math.max(128/(c||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(e),r=new Worker(i);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var i;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function yi(l){return ew(l)}function Hs(l){return tw(l)}function mo(l){return nw(l)}function ca(l){return $x(l)}function fw(l){return l instanceof Lg}function dw(l,e){return l==="value"||yi(e)||Hs(e)||fw(e)}function _i(l,...e){if(!e.length)return l;const i=e.shift();if(mi(l)&&mi(i))for(const r in i)dw(r,i[r])?l[r]=i[r]:mi(i[r])?(l[r]||Object.assign(l,{[r]:{}}),_i(l[r],i[r])):Object.assign(l,{[r]:i[r]});return _i(l,...e)}function pw(l,e){return l.length===e.length&&l.every((i,r)=>e[r]===i)}function at(l,e,i=[],r){const c={},h=Array.from(e);if(mi(h[0])&&r&&!Reflect.has(h[0],r)&&(Object.keys(h[0]).some(d=>Reflect.has(l,d))||(_i(c,{[r]:h[0]}),i.splice(i.indexOf(r),1),h.shift())),h.length===1&&mi(h[0]))_i(c,h[0]);else for(let f=0;f<i.length;f++)Et(h[f])&&(c[i[f]]=h[f]);return _i(l,c)}function mw(l){return l.constructor.getDefaults()}function da(l,e){return pn(l)?e:l}function Oh(l,e){return e.forEach(i=>{Reflect.has(l,i)&&delete l[i]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class hs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||$e&&this.toString()===$e.TONE_DEBUG_CLASS)&&rw(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}hs.version=lg;const Jh=1e-6;function _a(l,e){return l>e+Jh}function Mh(l,e){return _a(l,e)||An(l,e)}function Ao(l,e){return l+Jh<e}function An(l,e){return Math.abs(l-e)<Jh}function _w(l,e,i){return Math.max(Math.min(l,i),e)}class mn extends hs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=at(mn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(mt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];mt(Mh(e.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const i=this._search(e.time);this._timeline.splice(i+1,0,e)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(e){const i=this._timeline.indexOf(e);return i!==-1&&this._timeline.splice(i,1),this}get(e,i="time"){const r=this._search(e,i);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,i="time"){const r=this._search(e,i);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<e)return this._timeline[i-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let i=this._search(e);if(i>=0)if(An(this._timeline[i].time,e)){for(let r=i;r>=0&&An(this._timeline[r].time,e);r--)i=r;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&Mh(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const i=this._search(e);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(e){const i=this._timeline.indexOf(e);return i>0?this._timeline[i-1]:null}_search(e,i="time"){if(this._timeline.length===0)return-1;let r=0;const c=this._timeline.length;let h=c;if(c>0&&this._timeline[c-1][i]<=e)return c-1;for(;r<h;){let f=Math.floor(r+(h-r)/2);const d=this._timeline[f],p=this._timeline[f+1];if(An(d[i],e)){for(let m=f;m<this._timeline.length;m++){const g=this._timeline[m];if(An(g[i],e))f=m;else break}return f}else{if(Ao(d[i],e)&&_a(p[i],e))return f;_a(d[i],e)?h=f:r=f+1}}return-1}_iterate(e,i=0,r=this._timeline.length-1){this._timeline.slice(i,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,i){const r=this._search(e);return r!==-1&&this._iterate(i,0,r),this}forEachAfter(e,i){const r=this._search(e);return this._iterate(i,r+1),this}forEachBetween(e,i,r){let c=this._search(e),h=this._search(i);return c!==-1&&h!==-1?(this._timeline[c].time!==e&&(c+=1),this._timeline[h].time===i&&(h-=1),this._iterate(r,c,h)):c===-1&&this._iterate(r,0,h),this}forEachFrom(e,i){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(i,r+1),this}forEachAtTime(e,i){const r=this._search(e);if(r!==-1&&An(this._timeline[r].time,e)){let c=r;for(let h=r;h>=0&&An(this._timeline[h].time,e);h--)c=h;this._iterate(h=>{i(h)},c,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const sy=[];function Lo(l){sy.push(l)}function gw(l){sy.forEach(e=>e(l))}const iy=[];function jo(l){iy.push(l)}function yw(l){iy.forEach(e=>e(l))}class Gr extends hs{constructor(){super(...arguments),this.name="Emitter"}on(e,i){return e.split(/\W+/).forEach(c=>{pn(this._events)&&(this._events={}),this._events.hasOwnProperty(c)||(this._events[c]=[]),this._events[c].push(i)}),this}once(e,i){const r=(...c)=>{i(...c),this.off(e,r)};return this.on(e,r),this}off(e,i){return e.split(/\W+/).forEach(c=>{if(pn(this._events)&&(this._events={}),this._events.hasOwnProperty(c))if(pn(i))this._events[c]=[];else{const h=this._events[c];for(let f=h.length-1;f>=0;f--)h[f]===i&&h.splice(f,1)}}),this}emit(e,...i){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let c=0,h=r.length;c<h;c++)r[c].apply(this,i)}return this}static mixin(e){["on","once","off","emit"].forEach(i=>{const r=Object.getOwnPropertyDescriptor(Gr.prototype,i);Object.defineProperty(e.prototype,i,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class ay extends Gr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Yr extends ay{constructor(){var e,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new mn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=at(Yr.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=lw({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new hw(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(gw(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,i,r){return this._context.createBuffer(e,i,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,i){return this._context.createIIRFilter(e,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,i,r){return this._context.createPeriodicWave(e,i,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return mt(ca(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return mt(ca(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return mt(ca(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){mt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){mt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){mt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){mt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,i){return uw(this.rawContext,e,i)}addAudioWorkletModule(e){return ae(this,void 0,void 0,function*(){mt(Et(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return ae(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ca(this._context)?this._context.resume():Promise.resolve()}close(){return ae(this,void 0,void 0,function*(){ca(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&yw(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const i=this._context.createBuffer(1,128,this._context.sampleRate),r=i.getChannelData(0);for(let h=0;h<r.length;h++)r[h]=e;const c=this._context.createBufferSource();return c.channelCount=1,c.channelCountMode="explicit",c.buffer=i,c.loop=!0,c.start(0),this._constants.set(e,c),c}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(e,i){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+i}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(i=>{i.id===e&&this._timeouts.remove(i)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,i){const r=++this._timeoutIds,c=()=>{const h=this.now();this._timeouts.add({callback:()=>{e(),c()},id:r,time:h+i})};return c(),r}}class vw extends ay{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,i,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,i){return{}}createPanner(){return{}}createPeriodicWave(e,i,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,i){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return ae(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,i){return 0}clearTimeout(e){return this}setInterval(e,i){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Tt(l,e){tn(e)?e.forEach(i=>Tt(l,i)):Object.defineProperty(l,e,{enumerable:!0,writable:!1})}function Ph(l,e){tn(e)?e.forEach(i=>Ph(l,i)):Object.defineProperty(l,e,{writable:!0})}const qt=()=>{};class Yt extends hs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=qt;const e=at(Yt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,cs(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:qt,onload:qt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:dn().sampleRate}set(e){return e instanceof Yt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ae(this,void 0,void 0,function*(){const i=Yt.load(e).then(r=>{this.set(r),this.onload(this)});Yt.downloads.push(i);try{yield i}finally{const r=Yt.downloads.indexOf(i);Yt.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const i=tn(e)&&e[0].length>0,r=i?e.length:1,c=i?e[0].length:e.length,h=dn(),f=h.createBuffer(r,c,h.sampleRate),d=!i&&r===1?[e]:e;for(let p=0;p<r;p++)f.copyToChannel(d[p],p);return this._buffer=f,this}toMono(e){if(os(e))this.fromArray(this.toArray(e));else{let i=new Float32Array(this.length);const r=this.numberOfChannels;for(let c=0;c<r;c++){const h=this.toArray(c);for(let f=0;f<h.length;f++)i[f]+=h[f]}i=i.map(c=>c/r),this.fromArray(i)}return this}toArray(e){if(os(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let r=0;r<this.numberOfChannels;r++)i[r]=this.getChannelData(r);return i}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,i=this.duration){mt(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),c=Math.floor(i*this.sampleRate);mt(r<c,"The start time must be less than the end time");const h=c-r,f=dn().createBuffer(this.numberOfChannels,h,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(r,c),d);return new Yt(f)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Yt().fromArray(e)}static fromUrl(e){return ae(this,void 0,void 0,function*(){return yield new Yt().load(e)})}static load(e){return ae(this,void 0,void 0,function*(){const i=Yt.baseUrl===""||Yt.baseUrl.endsWith("/")?Yt.baseUrl:Yt.baseUrl+"/",r=yield fetch(i+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const c=yield r.arrayBuffer();return yield dn().decodeAudioData(c)})}static supportsType(e){const i=e.split("."),r=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return ae(this,void 0,void 0,function*(){for(yield Promise.resolve();Yt.downloads.length;)yield Yt.downloads[0]})}}Yt.baseUrl="";Yt.downloads=[];class Ho extends Yr{constructor(){super({clockSource:"offline",context:mo(arguments[0])?arguments[0]:ow(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:mo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=mo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ae(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const r=Math.floor(this.sampleRate/128);e&&i%r===0&&(yield new Promise(c=>setTimeout(c,1)))}})}render(){return ae(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const i=yield this._context.startRendering();return new Yt(i)})}close(){return Promise.resolve()}}const ry=new vw;let fi=ry;function dn(){return fi===ry&&cw&&bw(new Yr),fi}function bw(l,e=!1){e&&fi.dispose(),ca(l)?fi=new Yr(l):mo(l)?fi=new Ho(l):fi=l}function Tw(){return fi.resume()}if($e&&!$e.TONE_SILENCE_LOGGING){const e=` * Tone.js v${lg} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function ly(l){return Math.pow(10,l/20)}function oy(l){return 20*(Math.log(l)/Math.LN10)}function Co(l){return Math.pow(2,l/12)}let Go=440;function Sw(){return Go}function xw(l){Go=l}function di(l){return Math.round(cy(l))}function cy(l){return 69+12*Math.log2(l/Go)}function uy(l){return Go*Math.pow(2,(l-69)/12)}class $h extends hs{constructor(e,i,r){super(),this.defaultUnits="s",this._val=i,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,i)=>{const r=parseInt(e,10),c=i==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*c:this._beatsToUnits(4/r)*c},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const i=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,i,r)=>{let c=0;return e&&e!=="0"&&(c+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),i&&i!=="0"&&(c+=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(c+=this._beatsToUnits(parseFloat(r)/4)),c},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof $h&&this.fromType(this._val),pn(this._val))return this._noArg();if(cs(this._val)&&pn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(mi(this._val)){let e=0;for(const i in this._val)if(Et(this._val[i])){const r=this._val[i],c=new this.constructor(this.context,i).valueOf()*r;e+=c}return e}if(Et(this._units)){const e=this._expressions[this._units],i=this._val.toString().trim().match(e.regexp);return i?e.method.apply(this,i.slice(1)):e.method.call(this,this._val)}else return cs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Cn extends $h{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const i=new Cn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(e,i=1){const r=new this.constructor(this.context,e).valueOf(),c=this.valueOf(),d=Math.round(c/r)*r-c;return c+d*i}toNotation(){const e=this.toSeconds(),i=["1m"];for(let h=1;h<9;h++){const f=Math.pow(2,h);i.push(f+"n."),i.push(f+"n"),i.push(f+"t")}i.push("0");let r=i[0],c=new Cn(this.context,i[0]).toSeconds();return i.forEach(h=>{const f=new Cn(this.context,h).toSeconds();Math.abs(f-e)<Math.abs(c-e)&&(r=h,c=f)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let i=this.valueOf()/e;i=parseFloat(i.toFixed(4));const r=Math.floor(i/this._getTimeSignature());let c=i%1*4;i=Math.floor(i)%this._getTimeSignature();const h=c.toString();return h.length>3&&(c=parseFloat(parseFloat(h).toFixed(3))),[r,i,c].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return di(this.toFrequency())}_now(){return this.context.now()}}class He extends Cn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Sw()}static set A4(e){xw(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:He.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,i){const c=ww[e.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?c:He.mtof(c)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,i,r){let c=1;return e&&e!=="0"&&(c*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),i&&i!=="0"&&(c*=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(c*=this._beatsToUnits(parseFloat(r)/4)),c}}})}transpose(e){return new He(this.context,this.valueOf()*Co(e))}harmonize(e){return e.map(i=>this.transpose(i))}toMidi(){return di(this.valueOf())}toNote(){const e=this.toFrequency(),i=Math.log2(e/He.A4);let r=Math.round(12*i)+57;const c=Math.floor(r/12);return c<0&&(r+=-12*c),Aw[r%12]+c.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),i=this.valueOf()/e;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return uy(e)}static ftom(e){return di(e)}}const ww={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Aw=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Cw(l,e){return new He(dn(),l,e)}class Or extends Cn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ge extends hs{constructor(){super();const e=at(Ge.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:dn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return aw(e),new Cn(this.context,e).toSeconds()}toFrequency(e){return new He(this.context,e).toFrequency()}toTicks(e){return new Or(this.context,e).toTicks()}_getPartialProperties(e){const i=this.get();return Object.keys(i).forEach(r=>{pn(e[r])&&delete i[r]}),i}get(){const e=mw(this);return Object.keys(e).forEach(i=>{if(Reflect.has(this,i)){const r=this[i];Et(r)&&Et(r.value)&&Et(r.setValueAtTime)?e[i]=r.value:r instanceof Ge?e[i]=r._getPartialProperties(e[i]):tn(r)||os(r)||cs(r)||iw(r)?e[i]=r:delete e[i]}}),e}set(e){return Object.keys(e).forEach(i=>{Reflect.has(this,i)&&Et(this[i])&&(this[i]&&Et(this[i].value)&&Et(this[i].setValueAtTime)?this[i].value!==e[i]&&(this[i].value=e[i]):this[i]instanceof Ge?this[i].set(e[i]):this[i]=e[i])}),this}}class tf extends mn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const i=this.get(e);return i!==null?i.state:this._initial}setStateAtTime(e,i,r){return fn(i,0),this.add(Object.assign({},r,{state:e,time:i})),this}getLastState(e,i){const r=this._search(i);for(let c=r;c>=0;c--){const h=this._timeline[c];if(h.state===e)return h}}getNextState(e,i){const r=this._search(i);if(r!==-1)for(let c=r;c<this._timeline.length;c++){const h=this._timeline[c];if(h.state===e)return h}}}class Ct extends Ge{constructor(){const e=at(Ct.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,mt(Et(e.param)&&(yi(e.param)||e.param instanceof Ct),"param must be an AudioParam");!yi(e.param);)e.param=e.param._param;this._swappable=Et(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new mn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Et(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ge.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Et(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Et(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,i){return this.units===i}_assertRange(e){return Et(this.maxValue)&&Et(this.minValue)&&fn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ly(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?oy(e):e}setValueAtTime(e,i){const r=this.toSeconds(i),c=this._fromType(e);return mt(isFinite(c)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._assertRange(c),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:c}),this._param.setValueAtTime(c,r),this}getValueAtTime(e){const i=Math.max(this.toSeconds(e),0),r=this._events.getAfter(i),c=this._events.get(i);let h=this._initialValue;if(c===null)h=this._initialValue;else if(c.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const f=this._events.getBefore(c.time);let d;f===null?d=this._initialValue:d=f.value,c.type==="setTargetAtTime"&&(h=this._exponentialApproach(c.time,d,c.value,c.constant,i))}else if(r===null)h=c.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let f=c.value;if(c.type==="setTargetAtTime"){const d=this._events.getBefore(c.time);d===null?f=this._initialValue:f=d.value}r.type==="linearRampToValueAtTime"?h=this._linearInterpolate(c.time,f,r.time,r.value,i):h=this._exponentialInterpolate(c.time,f,r.time,r.value,i)}else h=c.value;return this._toType(h)}setRampPoint(e){e=this.toSeconds(e);let i=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,e),this}linearRampToValueAtTime(e,i){const r=this._fromType(e),c=this.toSeconds(i);return mt(isFinite(r)&&isFinite(c),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._assertRange(r),this._events.add({time:c,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,c),this._param.linearRampToValueAtTime(r,c),this}exponentialRampToValueAtTime(e,i){let r=this._fromType(e);r=An(r,0)?this._minOutput:r,this._assertRange(r);const c=this.toSeconds(i);return mt(isFinite(r)&&isFinite(c),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._events.add({time:c,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,c),this._param.exponentialRampToValueAtTime(r,c),this}exponentialRampTo(e,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(i)),this}linearRampTo(e,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(i)),this}targetRampTo(e,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,i),this}exponentialApproachValueAtTime(e,i,r){i=this.toSeconds(i),r=this.toSeconds(r);const c=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,i,c),this.cancelAndHoldAtTime(i+r*.9),this.linearRampToValueAtTime(e,i+r),this}setTargetAtTime(e,i,r){const c=this._fromType(e);mt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const h=this.toSeconds(i);return this._assertRange(c),mt(isFinite(c)&&isFinite(h),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._events.add({constant:r,time:h,type:"setTargetAtTime",value:c}),this.log(this.units,"setTargetAtTime",e,h,r),this._param.setTargetAtTime(c,h,r),this}setValueCurveAtTime(e,i,r,c=1){r=this.toSeconds(r),i=this.toSeconds(i);const h=this._fromType(e[0])*c;this.setValueAtTime(this._toType(h),i);const f=r/(e.length-1);for(let d=1;d<e.length;d++){const p=this._fromType(e[d])*c;this.linearRampToValueAtTime(this._toType(p),i+d*f)}return this}cancelScheduledValues(e){const i=this.toSeconds(e);return mt(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(e){const i=this.toSeconds(e),r=this._fromType(this.getValueAtTime(i));mt(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+r);const c=this._events.get(i),h=this._events.getAfter(i);return c&&An(c.time,i)?h?(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):h&&(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time),h.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),i):h.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),i)),this._events.add({time:i,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,i),this}rampTo(e,i=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,i,r):this.linearRampTo(e,i,r),this}apply(e){const i=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(i),i);const r=this._events.get(i);if(r&&r.type==="setTargetAtTime"){const c=this._events.getAfter(r.time),h=c?c.time:i+2,f=(h-i)/10;for(let d=i;d<h;d+=f)e.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,c=>{c.type==="cancelScheduledValues"?e.cancelScheduledValues(c.time):c.type==="setTargetAtTime"?e.setTargetAtTime(c.value,c.time,c.constant):e[c.type](c.value,c.time)}),this}setParam(e){mt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(e),this._param=e,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,i,r,c,h){return r+(i-r)*Math.exp(-(h-e)/c)}_linearInterpolate(e,i,r,c,h){return i+(c-i)*((h-e)/(r-e))}_exponentialInterpolate(e,i,r,c,h){return i*Math.pow(c/i,(h-e)/(r-e))}}class ht extends Ge{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Et(this.input)?yi(this.input)||this.input instanceof Ct?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Et(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Et(e)&&(e instanceof ht||Hs(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();mt(e.length>0,"ToneAudioNode does not have any internal nodes");const i=e[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:e}))}connect(e,i=0,r=0){return yn(this,e,i,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Bo("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,i=0,r=0){return hy(this,e,i,r),this}chain(...e){return Ln(this,...e),this}fan(...e){return e.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),Et(this.input)&&(this.input instanceof ht?this.input.dispose():Hs(this.input)&&this.input.disconnect()),Et(this.output)&&(this.output instanceof ht?this.output.dispose():Hs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ln(...l){const e=l.shift();l.reduce((i,r)=>(i instanceof ht?i.connect(r):Hs(i)&&yn(i,r),r),e)}function yn(l,e,i=0,r=0){for(mt(Et(l),"Cannot connect from undefined node"),mt(Et(e),"Cannot connect to undefined node"),(e instanceof ht||Hs(e))&&mt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),mt(l.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ht||e instanceof Ct;)Et(e.input)&&(e=e.input);for(;l instanceof ht;)Et(l.output)&&(l=l.output);yi(e)?l.connect(e,i):l.connect(e,i,r)}function hy(l,e,i=0,r=0){if(Et(e))for(;e instanceof ht;)e=e.input;for(;!Hs(l);)Et(l.output)&&(l=l.output);yi(e)?l.disconnect(e,i):Hs(e)?l.disconnect(e,i,r):l.disconnect()}class vt extends ht{constructor(){const e=at(vt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Ct({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Tt(this,"gain")}static getDefaults(){return Object.assign(ht.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ga extends ht{constructor(e){super(e),this.onended=qt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new vt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const r=this.toSeconds(i);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ht.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:qt})}_startGain(e,i=1){mt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,e+r):this._gainNode.gain.exponentialApproachValueAtTime(i,e,r)):this._gainNode.gain.setValueAtTime(i,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){mt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,e):this._gainNode.gain.targetRampTo(0,i,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==qt&&(this.onended(this),this.onended=qt,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),mt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=qt,this}}class ef extends ga{constructor(){const e=at(ef.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),yn(this._source,this._gainNode),this.offset=new Ct({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ga.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const i=this.toSeconds(e);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ot extends ht{constructor(){const e=at(Ot.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new ef({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ht.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,i=0,r=0){return Yo(this,e,i,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,i){return this._param.setValueAtTime(e,i),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,i){return this._param.linearRampToValueAtTime(e,i),this}exponentialRampToValueAtTime(e,i){return this._param.exponentialRampToValueAtTime(e,i),this}exponentialRampTo(e,i,r){return this._param.exponentialRampTo(e,i,r),this}linearRampTo(e,i,r){return this._param.linearRampTo(e,i,r),this}targetRampTo(e,i,r){return this._param.targetRampTo(e,i,r),this}exponentialApproachValueAtTime(e,i,r){return this._param.exponentialApproachValueAtTime(e,i,r),this}setTargetAtTime(e,i,r){return this._param.setTargetAtTime(e,i,r),this}setValueCurveAtTime(e,i,r,c){return this._param.setValueCurveAtTime(e,i,r,c),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,i,r){return this._param.rampTo(e,i,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Yo(l,e,i,r){(e instanceof Ct||yi(e)||e instanceof Ot&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Ot&&(e.overridden=!0)),yn(l,e,i,r)}class nf extends Ct{constructor(){const e=at(nf.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new mn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ct.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,i,r){i=this.toSeconds(i),this.setRampPoint(i);const c=this._fromType(e),h=this._events.get(i),f=Math.round(Math.max(1/r,1));for(let d=0;d<=f;d++){const p=r*d+i,m=this._exponentialApproach(h.time,h.value,c,r,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}setValueAtTime(e,i){const r=this.toSeconds(i);super.setValueAtTime(e,i);const c=this._events.get(r),h=this._events.previousEvent(c),f=this._getTicksUntilEvent(h,r);return c.ticks=Math.max(f,0),this}linearRampToValueAtTime(e,i){const r=this.toSeconds(i);super.linearRampToValueAtTime(e,i);const c=this._events.get(r),h=this._events.previousEvent(c),f=this._getTicksUntilEvent(h,r);return c.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(e,i){i=this.toSeconds(i);const r=this._fromType(e),c=this._events.get(i),h=Math.round(Math.max((i-c.time)*10,1)),f=(i-c.time)/h;for(let d=0;d<=h;d++){const p=f*d+c.time,m=this._exponentialInterpolate(c.time,c.value,i,r,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}_getTicksUntilEvent(e,i){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(pn(e.ticks)){const f=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(f,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let c=this._fromType(this.getValueAtTime(i));const h=this._events.get(i);return h&&h.time===i&&h.type==="setValueAtTime"&&(c=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-e.time)*(r+c)+e.ticks}getTicksAtTime(e){const i=this.toSeconds(e),r=this._events.get(i);return Math.max(this._getTicksUntilEvent(r,i),0)}getDurationOfTicks(e,i){const r=this.toSeconds(i),c=this.getTicksAtTime(i);return this.getTimeOfTick(c+e)-r}getTimeOfTick(e){const i=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(i&&i.ticks===e)return i.time;if(i&&r&&r.type==="linearRampToValueAtTime"&&i.value!==r.value){const c=this._fromType(this.getValueAtTime(i.time)),f=(this._fromType(this.getValueAtTime(r.time))-c)/(r.time-i.time),d=Math.sqrt(Math.pow(c,2)-2*f*(i.ticks-e)),p=(-c+d)/f,m=(-c-d)/f;return(p>0?p:m)+i.time}else return i?i.value===0?1/0:i.time+(e-i.ticks)/i.value:e/this._initialValue}ticksToTime(e,i){return this.getDurationOfTicks(e,i)}timeToTicks(e,i){const r=this.toSeconds(i),c=this.toSeconds(e),h=this.getTicksAtTime(r);return this.getTicksAtTime(r+c)-h}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const i=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class sf extends Ot{constructor(){const e=at(sf.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new nf({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Ot.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,i){return this._param.ticksToTime(e,i)}timeToTicks(e,i){return this._param.timeToTicks(e,i)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,i){return this._param.getDurationOfTicks(e,i)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class af extends Ge{constructor(){const e=at(af.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new tf,this._tickOffset=new mn,this._ticksAtTime=new mn,this._secondsAtTime=new mn,this.frequency=new sf({context:this.context,units:e.units,value:e.frequency}),Tt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ge.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,i){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Et(i)&&this.setTicksAtTime(i,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const i=this.toSeconds(e);if(this._state.getValueAtTime(i)==="stopped"){const r=this._state.get(i);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const i=this.toSeconds(e),r=this._state.getLastState("stopped",i),c=this._ticksAtTime.get(i),h={state:"paused",time:i};this._state.add(h);let f=c||r,d=c?c.ticks:0,p=null;return this._state.forEachBetween(f.time,i+this.sampleTime,m=>{let g=f.time;const y=this._tickOffset.get(m.time);y&&y.time>=f.time&&(d=y.ticks,g=y.time),f.state==="started"&&m.state!=="started"&&(d+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(g),m.time!==h.time&&(p={state:m.state,time:m.time,ticks:d})),f=m}),this._state.remove(h),p&&this._ticksAtTime.add(p),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const i=this.now(),r=this.frequency.timeToTicks(e,i);this.setTicksAtTime(r,i)}getSecondsAtTime(e){e=this.toSeconds(e);const i=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const c=this._secondsAtTime.get(e);let h=c||i,f=c?c.seconds:0,d=null;return this._state.forEachBetween(h.time,e+this.sampleTime,p=>{let m=h.time;const g=this._tickOffset.get(p.time);g&&g.time>=h.time&&(f=g.seconds,m=g.time),h.state==="started"&&p.state!=="started"&&(f+=p.time-m,p.time!==r.time&&(d={state:p.state,time:p.time,seconds:f})),h=p}),this._state.remove(r),d&&this._secondsAtTime.add(d),f}setTicksAtTime(e,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,i),ticks:e,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,i=this.now()){const r=this._tickOffset.get(i),c=this._state.get(i),h=Math.max(r.time,c.time),f=this.frequency.getTicksAtTime(h)+e-r.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(e,i,r){let c=this._state.get(e);this._state.forEachBetween(e,i,f=>{c&&c.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(c.time,e),f.time-this.sampleTime,r),c=f});let h=null;if(c&&c.state==="started"){const f=Math.max(c.time,e),d=this.frequency.getTicksAtTime(f),p=this.frequency.getTicksAtTime(c.time),m=d-p;let g=Math.ceil(m)-m;g=An(g,1)?0:g;let y=this.frequency.getTimeOfTick(d+g);for(;y<i;){try{r(y,Math.round(this.getTicksAtTime(y)))}catch(b){h=b;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(h)throw h;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Fo extends Ge{constructor(){const e=at(Fo.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=qt,this._lastUpdate=0,this._state=new tf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new af({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Tt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ge.getDefaults(),{callback:qt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,i){ty(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,i),r<this._lastUpdate&&this.emit("start",r,i)),this}stop(e){const i=this.toSeconds(e);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,i){return this._tickSource.setTicksAtTime(e,i),this}getTimeOfTick(e,i=this.now()){return this._tickSource.getTimeOfTick(e,i)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,i){const r=this.toSeconds(i),c=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(c+e,r)}_loop(){const e=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",e,i),e!==i&&(this._state.forEachBetween(e,i,r=>{switch(r.state){case"started":const c=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,c);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,i,(r,c)=>{this.callback(r,c)}))}getStateAtTime(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Gr.mixin(Fo);class _n extends ht{constructor(){const e=at(_n.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const i=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(i,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(i),this.delayTime=new Ct({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Tt(this,"delayTime")}static getDefaults(){return Object.assign(ht.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Aa extends ht{constructor(){const e=at(Aa.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new vt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Tt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class rf extends ht{constructor(){const e=at(rf.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Aa({context:this.context}),this.output=new vt({context:this.context}),this.volume=this.input.volume,Ln(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ln(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Lo(l=>{l.destination=new rf({context:l})});jo(l=>{l.destination.dispose()});class Ew extends ht{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ct({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ct({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ct({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ct({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ct({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ct({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ct({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ct({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ct({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ht.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Lo(l=>{l.listener=new Ew({context:l})});jo(l=>{l.listener.dispose()});class lf extends hs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=at(lf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(i=>{this._loadingCount++;const r=e.urls[i];this.add(i,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:qt,onload:qt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return mt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,i])=>i.loaded)}add(e,i,r=qt,c=qt){return cs(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Yt(this.baseUrl+i,r,c))):this._buffers.set(e.toString(),new Yt(i,r,c)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Eo extends He{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return di(super._frequencyToUnits(e))}_ticksToUnits(e){return di(super._ticksToUnits(e))}_beatsToUnits(e){return di(super._beatsToUnits(e))}_secondsToUnits(e){return di(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return uy(this.toMidi())}transpose(e){return new Eo(this.context,this.toMidi()+e)}}class ha extends Or{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Ow extends Ge{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new mn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,i){return this._events.add({callback:e,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,i=>{e-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Lo(l=>{l.draw=new Ow({context:l})});jo(l=>{l.draw.dispose()});class Mw extends hs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){mt(Et(e.time),"Events must have a time property"),mt(Et(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let i=new Dw(e.time,e.time+e.duration,e);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(e){if(this._root!==null){const i=[];this._root.search(e.time,i);for(const r of i)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,i=>this.remove(i)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,i){e.parent!==null?(e.isLeftChild()?e.parent.left=i:e.parent.right=i,this._rebalance(e.parent)):this._setRoot(i)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const i=e.getBalance();let r,c=null;if(i>0)if(e.left.right===null)r=e.left,r.right=e.right,c=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,c=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,c=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,c=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),c&&this._rebalance(c)}e.dispose()}_rotateLeft(e){const i=e.parent,r=e.isLeftChild(),c=e.right;c&&(e.right=c.left,c.left=e),i!==null?r?i.left=c:i.right=c:this._setRoot(c)}_rotateRight(e){const i=e.parent,r=e.isLeftChild(),c=e.left;c&&(e.left=c.right,c.right=e),i!==null?r?i.left=c:i.right=c:this._setRoot(c)}_rebalance(e){const i=e.getBalance();i>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):i<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const i=[];if(this._root.search(e,i),i.length>0){let r=i[0];for(let c=1;c<i.length;c++)i[c].low>r.low&&(r=i[c]);return r.event}}return null}forEach(e){if(this._root!==null){const i=[];this._root.traverse(r=>i.push(r)),i.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,i){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(c=>{c.event&&i(c.event)})}return this}forEachFrom(e,i){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(c=>{c.event&&i(c.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Dw{constructor(e,i,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=i,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,i){e>this.max||(this.left!==null&&this.left.search(e,i),this.low<=e&&this.high>e&&i.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,i))}searchAfter(e,i){this.low>=e&&(i.push(this),this.left!==null&&this.left.searchAfter(e,i)),this.right!==null&&this.right.searchAfter(e,i)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Nw extends hs{constructor(e){super(),this.name="TimelineValue",this._timeline=new mn({memory:10}),this._initialValue=e}set(e,i){return this._timeline.add({value:e,time:i}),this}get(e){const i=this._timeline.get(e);return i?i.value:this._initialValue}}class vn extends ht{constructor(){super(at(vn.getDefaults(),arguments,["context"]))}connect(e,i=0,r=0){return Yo(this,e,i,r),this}}class fs extends vn{constructor(){const e=at(fs.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,tn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):sw(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Ot.getDefaults(),{length:1024})}setMap(e,i=1024){const r=new Float32Array(i);for(let c=0,h=i;c<h;c++){const f=c/(h-1)*2-1;r[c]=e(f,c)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const i=["none","2x","4x"].some(r=>r.includes(e));mt(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Xo extends vn{constructor(){const e=at(Xo.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new fs({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(vn.getDefaults(),{value:1})}_expFunc(e){return i=>Math.pow(Math.abs(i),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Gs{constructor(e,i){this.id=Gs._eventId++,this._remainderTime=0;const r=Object.assign(Gs.getDefaults(),i);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:qt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Gs._eventId=0;class of extends Gs{constructor(e,i){super(e,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(of.getDefaults(),i);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Gs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Ao(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ha(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Ao(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ha(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(e);_a(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Qo extends Ge{constructor(){const e=at(Qo.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Nw(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new mn,this._repeatedEvents=new Mw,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Fo({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Tt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ge.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,i){if(this._loop.get(e)&&i>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),i=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const r=i%(this._swingTicks*2)/(this._swingTicks*2),c=Math.sin(r*Math.PI)*this._swingAmount;e+=new ha(this.context,this._swingTicks*2/3).toSeconds()*c}tg(!0),this._timeline.forEachAtTime(i,r=>r.invoke(e)),tg(!1)}schedule(e,i){const r=new Gs(this,{callback:e,time:new Or(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,i,r,c=1/0){const h=new of(this,{callback:e,duration:new Cn(this.context,c).toTicks(),interval:new Cn(this.context,i).toTicks(),time:new Or(this.context,r).toTicks()});return this._addEvent(h,this._repeatedEvents)}scheduleOnce(e,i){const r=new Gs(this,{callback:e,once:!0,time:new Or(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const i=this._scheduledEvents[e.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,i){return this._scheduledEvents[e.id.toString()]={event:e,timeline:i},i.add(e),e.id}cancel(e=0){const i=this.toTicks(e);return this._timeline.forEachFrom(i,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(i,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,i)=>{i=new ha(this.context,i).toSeconds(),this.emit("start",e,i)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,i){this.context.resume();let r;return Et(i)&&(r=this.toTicks(i)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){tn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Cn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Cn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,i){return this.loopStart=e,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ha(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),i=this._clock.getTicksAtTime(e);return new ha(this.context,i).toBarsBeatsSixteenths()}set position(e){const i=this.toTicks(e);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(e){const i=this.now(),r=this._clock.frequency.timeToTicks(e,i);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const i=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(i),c=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,i),h=i+c;this.emit("stop",h),this._clock.setTicksAtTime(e,h),this.emit("start",h,this._clock.getSecondsAtTime(h))}else this.emit("ticks",i),this._clock.setTicksAtTime(e,i)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const i=this.now(),r=this.getTicksAtTime(i),c=e-r%e;return this._clock.nextTickTime(c,i)}}syncSignal(e,i){const r=this.now();let c=this.bpm,h=1/(60/c.getValueAtTime(r)/this.PPQ),f=[];if(e.units==="time"){const p=.015625/h,m=new vt(p),g=new Xo(-1),y=new vt(p);c.chain(m,g,y),c=y,h=1/h,f=[m,g,y]}i||(e.getValueAtTime(r)!==0?i=e.getValueAtTime(r)/h:i=0);const d=new vt(i);return c.connect(d),d.connect(e._param),f.push(d),this._syncedSignals.push({initial:e.value,nodes:f,signal:e}),e.value=0,this}unsyncSignal(e){for(let i=this._syncedSignals.length-1;i>=0;i--){const r=this._syncedSignals[i];r.signal===e&&(r.nodes.forEach(c=>c.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ph(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Gr.mixin(Qo);Lo(l=>{l.transport=new Qo({context:l})});jo(l=>{l.transport.dispose()});class Re extends ht{constructor(e){super(e),this.input=void 0,this._state=new tf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=qt,this._syncedStop=qt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Aa({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Tt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,onstop:qt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,i,r){let c=pn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(c=this._clampToCurrentTime(c),!this._synced&&this._state.getValueAtTime(c)==="started")mt(_a(c,this._state.get(c).time),"Start time must be strictly greater than previous start time"),this._state.cancel(c),this._state.setStateAtTime("started",c),this.log("restart",c),this.restart(c,i,r);else if(this.log("start",c),this._state.setStateAtTime("started",c),this._synced){const h=this._state.get(c);h&&(h.offset=this.toSeconds(da(i,0)),h.duration=r?this.toSeconds(r):void 0);const f=this.context.transport.schedule(d=>{this._start(d,i,r)},c);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>c&&this._syncedStart(this.now(),this.context.transport.seconds)}else ty(this.context),this._start(c,i,r);return this}stop(e){let i=pn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||Et(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const r=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(r)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(e,i,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,i,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,i)=>{if(_a(i,0)){const r=this._state.get(i);if(r&&r.state==="started"&&r.time!==i){const c=i-this.toSeconds(r.time);let h;r.duration&&(h=this.toSeconds(r.duration)-c),this._start(e,this.toSeconds(r.offset)+c,h)}}},this._syncedStop=e=>{const i=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=qt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Fr extends ga{constructor(){const e=at(Fr.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,yn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ct({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Yt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ga.getDefaults(),{url:new Yt,loop:!1,loopEnd:0,loopStart:0,onload:qt,onerror:qt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,i,r,c=1){mt(this.buffer.loaded,"buffer is either not set or not loaded");const h=this.toSeconds(e);this._startGain(h,c),this.loop?i=da(i,this.loopStart):i=da(i,0);let f=Math.max(this.toSeconds(i),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),m=d-p;Mh(f,d)&&(f=(f-p)%m+p),An(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ao(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(h,f)),Et(r)){let d=this.toSeconds(r);d=Math.max(d,0),this.stop(h+d)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Oo extends Re{constructor(){const e=at(Oo.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Re.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(mt(e in eg,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const i=this.now();this._stop(i),this._start(i)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const i=eg[this._type];this._source=new Fr({url:i,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(i.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const oa=44100*5,vh=2,is={brown:null,pink:null,white:null},eg={get brown(){if(!is.brown){const l=[];for(let e=0;e<vh;e++){const i=new Float32Array(oa);l[e]=i;let r=0;for(let c=0;c<oa;c++){const h=Math.random()*2-1;i[c]=(r+.02*h)/1.02,r=i[c],i[c]*=3.5}}is.brown=new Yt().fromArray(l)}return is.brown},get pink(){if(!is.pink){const l=[];for(let e=0;e<vh;e++){const i=new Float32Array(oa);l[e]=i;let r,c,h,f,d,p,m;r=c=h=f=d=p=m=0;for(let g=0;g<oa;g++){const y=Math.random()*2-1;r=.99886*r+y*.0555179,c=.99332*c+y*.0750759,h=.969*h+y*.153852,f=.8665*f+y*.3104856,d=.55*d+y*.5329522,p=-.7616*p-y*.016898,i[g]=r+c+h+f+d+p+m+y*.5362,i[g]*=.11,m=y*.115926}}is.pink=new Yt().fromArray(l)}return is.pink},get white(){if(!is.white){const l=[];for(let e=0;e<vh;e++){const i=new Float32Array(oa);l[e]=i;for(let r=0;r<oa;r++)i[r]=Math.random()*2-1}is.white=new Yt().fromArray(l)}return is.white}};function Si(l,e){return ae(this,void 0,void 0,function*(){const i=e/l.context.sampleRate,r=new Ho(1,i,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/i,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class cf extends ga{constructor(){const e=at(cf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],yn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Ct({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Ct({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Tt(this,["frequency","detune"])}static getDefaults(){return Object.assign(ga.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const i=this.toSeconds(e);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ne extends Re{constructor(){const e=at(ne.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Ot({context:this.context,units:"frequency",value:e.frequency}),Tt(this,"frequency"),this.detune=new Ot({context:this.context,units:"cents",value:e.detune}),Tt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Re.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const i=this.toSeconds(e),r=new cf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(e){const i=this.toSeconds(e);this._oscillator&&this._oscillator.stop(i)}_restart(e){const i=this.toSeconds(e);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ne._periodicWaveCache.find(i=>i.phase===this._phase&&pw(i.partials,this._partials));{const e=ne._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const i=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(Et(r)){const{partials:c,wave:h}=r;this._wave=h,this._partials=c,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[c,h]=this._getRealImaginary(e,this._phase),f=this.context.createPeriodicWave(c,h);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ne._periodicWaveCache.push({imag:h,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:c,type:this._type,wave:this._wave}),ne._periodicWaveCache.length>100&&ne._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){fn(e,0);let i=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(i=r[1]),this._type!=="custom")e===0?this.type=i:this.type=i+e.toString();else{const c=new Float32Array(e);this._partials.forEach((h,f)=>c[f]=h),this._partials=Array.from(c),this.type=this._type}}_getRealImaginary(e,i){let c=2048;const h=new Float32Array(c),f=new Float32Array(c);let d=1;if(e==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,c=d,this._partials.length===0)return[h,f]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);p?(d=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),e=p[1],d=Math.max(d,2),c=d):this._partialCount=0,this._partials=[]}for(let p=1;p<c;++p){const m=2/(p*Math.PI);let g;switch(e){case"sine":g=p<=d?1:0,this._partials[p-1]=g;break;case"square":g=p&1?2*m:0,this._partials[p-1]=g;break;case"sawtooth":g=m*(p&1?1:-1),this._partials[p-1]=g;break;case"triangle":p&1?g=2*(m*m)*(p-1>>1&1?-1:1):g=0,this._partials[p-1]=g;break;case"custom":g=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}g!==0?(h[p]=-g*Math.sin(i*p),f[p]=g*Math.cos(i*p)):(h[p]=0,f[p]=0)}return[h,f]}_inverseFFT(e,i,r){let c=0;const h=e.length;for(let f=0;f<h;f++)c+=e[f]*Math.cos(f*r)+i[f]*Math.sin(f*r);return c}getInitialValue(){const[e,i]=this._getRealImaginary(this._type,0);let r=0;const c=Math.PI*2,h=32;for(let f=0;f<h;f++)r=Math.max(this._inverseFFT(e,i,f/h*c),r);return _w(-this._inverseFFT(e,i,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ne._periodicWaveCache=[];class fy extends vn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new fs({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ee extends Ot{constructor(){const e=at(Ee.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new vt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ot.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Zo extends Re{constructor(){const e=at(Zo.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new fy({context:this.context}),this._modulationNode=new vt({context:this.context}),this._carrier=new ne({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ne({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ee({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Tt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ne.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Io extends Re{constructor(){const e=at(Io.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new vt({context:this.context,gain:0}),this._carrier=new ne({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Ot({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ne({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ee({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ee({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Tt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ne.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Xr extends Re{constructor(){const e=at(Xr.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new vt({context:this.context,gain:0}),this._thresh=new fs({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Ot({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ne({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Tt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Re.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Wo extends Re{constructor(){const e=at(Wo.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Ot({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ot({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Tt(this,["frequency","detune"])}static getDefaults(){return Object.assign(ne.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(i=>i.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(i=>i.stop(e))}_restart(e){this._forEach(i=>i.restart(e))}_forEach(e){for(let i=0;i<this._oscillators.length;i++)e(this._oscillators[i],i)}get type(){return this._type}set type(e){this._type=e,this._forEach(i=>i.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const i=-e/2,r=e/(this._oscillators.length-1);this._forEach((c,h)=>c.detune.value=i+r*h)}}get count(){return this._oscillators.length}set count(e){if(fn(e,1),this._oscillators.length!==e){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<e;i++){const r=new ne({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+i/e*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):qt});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[i]=r}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((i,r)=>i.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(i=>i.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(i=>i.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(i=>i.partialCount=e),this._type=this._oscillators[0].type}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ko extends Re{constructor(){const e=at(Ko.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ee({context:this.context,value:2}),this._pulse=new Xr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ne({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Tt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Re.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ng={am:Zo,fat:Wo,fm:Io,oscillator:ne,pulse:Xr,pwm:Ko};class Mo extends Re{constructor(){const e=at(Mo.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Ot({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ot({context:this.context,units:"cents",value:e.detune}),Tt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ne.getDefaults(),Io.getDefaults(),Zo.getDefaults(),Wo.getDefaults(),Xr.getDefaults(),Ko.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const i=ng[e],r=this.now();if(this._oscillator){const c=this._oscillator;c.stop(r),this.context.setTimeout(()=>c.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),e==="fm"?this.type="fm"+i:e==="am"?this.type="am"+i:e==="fat"?this.type="fat"+i:e==="oscillator"?this.type=i:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,i){return e instanceof ng[i]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&os(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&os(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&cs(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return ae(this,arguments,void 0,function*(e=1024){return Si(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Qr extends Ot{constructor(){super(at(Qr.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new vt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ln(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Ot.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Rr extends vn{constructor(){const e=at(Rr.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Ee({context:this.context,value:e.max-e.min}),this._add=this.output=new Qr({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(vn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class uf extends vn{constructor(){super(at(uf.getDefaults(),arguments)),this.name="Zero",this._gain=new vt({context:this.context}),this.output=this._gain,this.input=void 0,yn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),hy(this.context.getConstant(0),this._gain),this}}class gn extends ht{constructor(){const e=at(gn.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ct.prototype._fromType,this._toType=Ct.prototype._toType,this._is=Ct.prototype._is,this._clampValue=Ct.prototype._clampValue,this._oscillator=new ne(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new vt({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Ot({context:this.context,units:"audioRange",value:0}),this._zeros=new uf({context:this.context}),this._a2g=new fy({context:this.context}),this._scaler=this.output=new Rr({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Tt(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ne.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const i=this.min,r=this.max;this._units=e,this.min=i,this.max=r}get state(){return this._oscillator.state}connect(e,i,r){return(e instanceof Ct||e instanceof Ot)&&(this.convert=e.convert,this.units=e.units),Yo(this,e,i,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function dy(l,e=1/0){const i=new WeakMap;return function(r,c){Reflect.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(h){fn(h,l,e),i.set(this,h)}})}}function ds(l,e=1/0){const i=new WeakMap;return function(r,c){Reflect.defineProperty(r,c,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(h){fn(this.toSeconds(h),l,e),i.set(this,h)}})}}class Jo extends Re{constructor(){const e=at(Jo.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Yt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Re.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:qt,onerror:qt,playbackRate:1,reverse:!1})}load(e){return ae(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=qt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,i,r){return super.start(e,i,r),this}_start(e,i,r){this._loop?i=da(i,this._loopStart):i=da(i,0);const c=this.toSeconds(i),h=r;r=da(r,Math.max(this._buffer.duration-c,0));let f=this.toSeconds(r);f=f/this._playbackRate,e=this.toSeconds(e);const d=new Fr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+f),this._state.setStateAtTime("stopped",e+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&pn(h)?d.start(e,c):d.start(e,c,f-this.toSeconds(this.fadeOut))}_stop(e){const i=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(i))}restart(e,i,r){return super.restart(e,i,r),this}_restart(e,i,r){var c;(c=[...this._activeSources].pop())===null||c===void 0||c.stop(e),this._start(e,i,r)}seek(e,i){const r=this.toSeconds(i);if(this._state.getValueAtTime(r)==="started"){const c=this.toSeconds(e);this._stop(r),this._start(r,c)}return this}setLoopPoints(e,i){return this.loopStart=e,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&fn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&fn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(i=>{i.loop=e}),e)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const i=this.now(),r=this._state.getNextState("stopped",i);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(c=>c.cancelStop())),this._activeSources.forEach(c=>{c.playbackRate.setValueAtTime(e,i)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Dn([ds(0)],Jo.prototype,"fadeIn",void 0);Dn([ds(0)],Jo.prototype,"fadeOut",void 0);class Rw extends vn{constructor(){super(...arguments),this.name="Abs",this._abs=new fs({context:this.context,mapping:e=>Math.abs(e)<.001?0:Math.abs(e)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class kw extends vn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new fs({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class qw extends vn{constructor(){super(...arguments),this.name="Negate",this._multiply=new Ee({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Zr extends Ot{constructor(){super(at(Zr.getDefaults(),arguments,["value"])),this.override=!1,this.name="Subtract",this._sum=new vt({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new qw({context:this.context}),this.subtrahend=this._param,Ln(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Ot.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class hf extends Rr{constructor(){const e=at(hf.getDefaults(),arguments,["min","max","exponent"]);super(e),this.name="ScaleExp",this.input=this._exp=new Xo({context:this.context,value:e.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Rr.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(e){this._exp.value=e}dispose(){return super.dispose(),this._exp.dispose(),this}}class Qs extends ht{constructor(){const e=at(Qs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Ot({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ht.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,i){if(cs(e))return e;{let r;for(r in fo)if(fo[r][i]===e)return r;return e}}_setCurve(e,i,r){if(cs(r)&&Reflect.has(fo,r)){const c=fo[r];mi(c)?e!=="_decayCurve"&&(this[e]=c[i]):this[e]=c}else if(tn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,i=1){this.log("triggerAttack",e,i),e=this.toSeconds(e);let c=this.toSeconds(this.attack);const h=this.toSeconds(this.decay),f=this.getValueAtTime(e);if(f>0){const d=1/c;c=(1-f)/d}if(c<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(i,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,c,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,c,e);else{this._sig.cancelAndHoldAtTime(e);let d=this._attackCurve;for(let p=1;p<d.length;p++)if(d[p-1]<=f&&f<=d[p]){d=this._attackCurve.slice(p),d[0]=f;break}this._sig.setValueCurveAtTime(d,e,c,i)}if(h&&this.sustain<1){const d=i*this.sustain,p=e+c;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,h+p):this._sig.exponentialApproachValueAtTime(d,p,h)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const i=this.getValueAtTime(e);if(i>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(mt(tn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,i))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,i,r=1){return i=this.toSeconds(i),this.triggerAttack(i,r),this.triggerRelease(i+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,i=0,r=0){return Yo(this,e,i,r),this}asArray(){return ae(this,arguments,void 0,function*(e=1024){const i=e/this.context.sampleRate,r=new Ho(1,i,this.context.sampleRate),c=this.toSeconds(this.attack)+this.toSeconds(this.decay),h=c+this.toSeconds(this.release),f=h*.1,d=h+f,p=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/d,decay:i*this.toSeconds(this.decay)/d,release:i*this.toSeconds(this.release)/d,context:r}));return p._sig.toDestination(),p.triggerAttackRelease(i*(c+f)/d,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Dn([ds(0)],Qs.prototype,"attack",void 0);Dn([ds(0)],Qs.prototype,"decay",void 0);Dn([dy(0,1)],Qs.prototype,"sustain",void 0);Dn([ds(0)],Qs.prototype,"release",void 0);const fo=(()=>{let e,i;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const c=[],h=6.4;for(e=0;e<127;e++){i=e/127;const b=Math.sin(i*(Math.PI*2)*h-Math.PI/2)+1;c[e]=b/10+i*.83}c[127]=1;const f=[],d=5;for(e=0;e<128;e++)f[e]=Math.ceil(e/127*d)/d;const p=[];for(e=0;e<128;e++)i=e/127,p[e]=.5*(1-Math.cos(Math.PI*i));const m=[];for(e=0;e<128;e++){i=e/127;const b=Math.pow(i,3)*4+.2,S=Math.cos(b*Math.PI*2*i);m[e]=Math.abs(S*(1-i))}function g(b){const S=new Array(b.length);for(let T=0;T<b.length;T++)S[T]=1-b[T];return S}function y(b){return b.slice(0).reverse()}return{bounce:{In:g(m),Out:m},cosine:{In:r,Out:y(r)},exponential:"exponential",linear:"linear",ripple:{In:c,Out:g(c)},sine:{In:p,Out:g(p)},step:{In:f,Out:g(f)}}})();class Ys extends ht{constructor(){const e=at(Ys.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Aa({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Tt(this,"volume")}static getDefaults(){return Object.assign(ht.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,i){const r=this["_original_"+e]=this[e];this[e]=(...c)=>{const h=c[i],f=this.context.transport.schedule(d=>{c[i]=d,r.apply(this,c)},h);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,i,r,c){const h=this.toSeconds(r),f=this.toSeconds(i);return this.triggerAttack(e,h,c),this.triggerRelease(h+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class vi extends Ys{constructor(){const e=at(vi.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ys.getDefaults(),{detune:0,onsilence:qt,portamento:0})}triggerAttack(e,i,r=1){this.log("triggerAttack",e,i,r);const c=this.toSeconds(i);return this._triggerEnvelopeAttack(c,r),this.setNote(e,c),this}triggerRelease(e){this.log("triggerRelease",e);const i=this.toSeconds(e);return this._triggerEnvelopeRelease(i),this}setNote(e,i){const r=this.toSeconds(i),c=e instanceof He?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const h=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(c,h,r)}else this.frequency.setValueAtTime(c,r);return this}}Dn([ds(0)],vi.prototype,"portamento",void 0);class ff extends Qs{constructor(){super(at(ff.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new vt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ya extends vi{constructor(){const e=at(ya.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Mo(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ff(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Tt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(vi.getDefaults(),{envelope:Object.assign(Oh(Qs.getDefaults(),Object.keys(ht.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Oh(Mo.getDefaults(),[...Object.keys(Re.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,i){if(this.envelope.triggerAttack(e,i),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),c=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+c)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Do extends ht{constructor(){const e=at(Do.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ct({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Ct({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Ct({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Ct({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(ht.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){mt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const i=new Float32Array(e);for(let f=0;f<e;f++){const p=Math.pow(f/e,2)*19980+20;i[f]=p}const r=new Float32Array(e),c=new Float32Array(e),h=this.context.createBiquadFilter();return h.type=this.type,h.Q.value=this.Q.value,h.frequency.value=this.frequency.value,h.gain.value=this.gain.value,h.getFrequencyResponse(i,r,c),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class kr extends ht{constructor(){const e=at(kr.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new vt({context:this.context}),this.output=new vt({context:this.context}),this._filters=[],this._filters=[],this.Q=new Ot({context:this.context,units:"positive",value:e.Q}),this.frequency=new Ot({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Ot({context:this.context,units:"cents",value:e.detune}),this.gain=new Ot({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Tt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(ht.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){mt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const i=os(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let c=r.indexOf(i);mt(c!==-1,`rolloff can only be ${r.join(", ")}`),c+=1,this._rolloff=i,this.input.disconnect(),this._filters.forEach(h=>h.disconnect()),this._filters=new Array(c);for(let h=0;h<c;h++){const f=new Do({context:this.context});f.type=this._type,this.frequency.connect(f.frequency),this.detune.connect(f.detune),this.Q.connect(f.Q),this.gain.connect(f.gain),this._filters[h]=f}this._internalChannels=this._filters,Ln(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const i=new Do({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{i.getFrequencyResponse(e).forEach((h,f)=>r[f]*=h)}),i.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Ph(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Po extends ya{constructor(){const e=at(Po.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Tt(this,["oscillator","envelope"])}static getDefaults(){return _i(vi.getDefaults(),ya.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,i){const r=this.toSeconds(i),c=this.toFrequency(e instanceof He?e.toFrequency():e),h=c*this.octaves;return this.oscillator.frequency.setValueAtTime(h,r),this.oscillator.frequency.exponentialRampToValueAtTime(c,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Dn([dy(0)],Po.prototype,"octaves",void 0);Dn([ds(0)],Po.prototype,"pitchDecay",void 0);const df=new Set;function pf(l){df.add(l)}function py(l,e){const i=`registerProcessor("${l}", ${e})`;df.add(i)}function Vw(){return Array.from(df).join(`
`)}class Dh extends ht{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=qt;const i=URL.createObjectURL(new Blob([Vw()],{type:"text/javascript"})),r=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(i).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(r,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const zw=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;pf(zw);const Uw=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;pf(Uw);const Bw=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;pf(Bw);const my="feedback-comb-filter",Lw=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;py(my,Lw);class mf extends Dh{constructor(){const e=at(mf.getDefaults(),arguments,["delayTime","resonance"]);super(e),this.name="FeedbackCombFilter",this.input=new vt({context:this.context}),this.output=new vt({context:this.context}),this.delayTime=new Ct({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Ct({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Tt(this,["resonance","delayTime"])}_audioWorkletName(){return my}static getDefaults(){return Object.assign(ht.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){Ln(this.input,e,this.output);const i=e.parameters.get("delayTime");this.delayTime.setParam(i);const r=e.parameters.get("feedback");this.resonance.setParam(r)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class _f extends ht{constructor(){const e=at(_f.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OnePoleFilter",this._frequency=e.frequency,this._type=e.type,this.input=new vt({context:this.context}),this.output=new vt({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ht.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const e=this._filter,i=this.toFrequency(this._frequency),r=1/(2*Math.PI*i);if(this._type==="lowpass"){const c=1/(r*this.context.sampleRate),h=c-1;this._filter=this.context.createIIRFilter([c,0],[1,h])}else{const c=1/(r*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,c])}this.input.chain(this._filter,this.output),e&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(e),e.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this._createFilter()}get type(){return this._type}set type(e){this._type=e,this._createFilter()}getFrequencyResponse(e=128){const i=new Float32Array(e);for(let h=0;h<e;h++){const d=Math.pow(h/e,2)*19980+20;i[h]=d}const r=new Float32Array(e),c=new Float32Array(e);return this._filter.getFrequencyResponse(i,r,c),r}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class gf extends Ys{constructor(){const e=at(gf.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=c=>this.releaseAll(c),mt(!os(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=e.voice.getDefaults();this.options=Object.assign(i,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Ys.getDefaults(),{maxPolyphony:32,options:{},voice:ya})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const i=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return mt(e instanceof vi,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Bo("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),i=this._voices.indexOf(e);this._voices.splice(i,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,i,r){e.forEach(c=>{const h=new Eo(this.context,c).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(c,i,r),this._activeVoices.push({midi:h,voice:f,released:!1}),this.log("triggerAttack",c,i))})}_triggerRelease(e,i){e.forEach(r=>{const c=new Eo(this.context,r).toMidi(),h=this._activeVoices.find(({midi:f,released:d})=>f===c&&!d);h&&(h.voice.triggerRelease(i),h.released=!0,this.log("triggerRelease",r,i))})}_scheduleEvent(e,i,r,c){mt(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(i,r,c):this._triggerRelease(i,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,i,r,c)},r-this.now())}triggerAttack(e,i,r){Array.isArray(e)||(e=[e]);const c=this.toSeconds(i);return this._scheduleEvent("attack",e,c,r),this}triggerRelease(e,i){Array.isArray(e)||(e=[e]);const r=this.toSeconds(i);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,i,r,c){const h=this.toSeconds(r);if(this.triggerAttack(e,h,c),tn(i)){mt(tn(e),"If the duration is an array, the notes must also be an array"),e=e;for(let f=0;f<e.length;f++){const d=i[Math.min(f,i.length-1)],p=this.toSeconds(d);mt(p>0,"The duration must be greater than 0"),this.triggerRelease(e[f],h+p)}}else{const f=this.toSeconds(i);mt(f>0,"The duration must be greater than 0"),this.triggerRelease(e,h+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const i=Oh(e,["onsilence","context"]);return this.options=_i(this.options,i),this._voices.forEach(r=>r.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(e){const i=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class $o extends Ys{constructor(){const e=at($o.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(e.urls).forEach(r=>{const c=parseInt(r,10);if(mt(ho(r)||os(c)&&isFinite(c),`url key is neither a note or midi pitch: ${r}`),ho(r)){const h=new He(this.context,r).toMidi();i[h]=e.urls[r]}else os(c)&&isFinite(c)&&(i[c]=e.urls[c])}),this._buffers=new lf({urls:i,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ys.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:qt,onerror:qt,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,i,r=1){return this.log("triggerAttack",e,i,r),Array.isArray(e)||(e=[e]),e.forEach(c=>{const h=cy(new He(this.context,c).toFrequency()),f=Math.round(h),d=h-f,p=this._findClosest(f),m=f-p,g=this._buffers.get(m),y=Co(p+d),b=new Fr({url:g,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);b.start(i,0,g.duration/y,r),tn(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const S=this._activeSources.get(f),T=S.indexOf(b);T!==-1&&S.splice(T,1)}}}),this}triggerRelease(e,i){return this.log("triggerRelease",e,i),Array.isArray(e)||(e=[e]),e.forEach(r=>{const c=new He(this.context,r).toMidi();if(this._activeSources.has(c)&&this._activeSources.get(c).length){const h=this._activeSources.get(c);i=this.toSeconds(i),h.forEach(f=>{f.stop(i)}),this._activeSources.set(c,[])}}),this}releaseAll(e){const i=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,i,r,c=1){const h=this.toSeconds(r);return this.triggerAttack(e,h,c),tn(i)?(mt(tn(e),"notes must be an array when duration is array"),e.forEach((f,d)=>{const p=i[Math.min(d,i.length-1)];this.triggerRelease(f,h+this.toSeconds(p))})):this.triggerRelease(e,h+this.toSeconds(i)),this}add(e,i,r){if(mt(ho(e)||isFinite(e),`note must be a pitch or midi: ${e}`),ho(e)){const c=new He(this.context,e).toMidi();this._buffers.add(c,i,r)}else this._buffers.add(e,i,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}Dn([ds(0)],$o.prototype,"attack",void 0);Dn([ds(0)],$o.prototype,"release",void 0);class Ir extends ht{constructor(){const e=at(Ir.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new kw({context:this.context}),this.a=new vt({context:this.context,gain:0}),this.b=new vt({context:this.context,gain:0}),this.output=new vt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Ot({context:this.context,units:"normalRange",value:e.fade}),Tt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",yn(this._split,this.a.gain,0),yn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ht.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class ke extends ht{constructor(e){super(e),this.name="Effect",this._dryWet=new Ir({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new vt({context:this.context}),this.effectReturn=new vt({context:this.context}),this.input=new vt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Tt(this,"wet")}static getDefaults(){return Object.assign(ht.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class yf extends ht{constructor(){const e=at(yf.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Ct({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Tt(this,"pan")}static getDefaults(){return Object.assign(ht.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class vf extends ht{constructor(){const e=at(vf.getDefaults(),arguments,["smoothing"]);super(e),this.name="Follower",this._abs=this.input=new Rw({context:this.context}),this._lowpass=this.output=new _f({context:this.context,frequency:1/this.toSeconds(e.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=e.smoothing}static getDefaults(){return Object.assign(ht.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(e){this._smoothing=e,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class bf extends ke{constructor(){const e=at(bf.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);super(e),this.name="AutoWah",this._follower=new vf({context:this.context,smoothing:e.follower}),this._sweepRange=new hf({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this._inputBoost=new vt({context:this.context}),this._bandpass=new kr({context:this.context,rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new kr({context:this.context,type:"peaking"}),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,Tt(this,["gain","Q"])}static getDefaults(){return Object.assign(ke.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(e){this._follower.smoothing=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._setSweepRange()}get sensitivity(){return oy(1/this._inputBoost.gain.value)}set sensitivity(e){this._inputBoost.gain.value=1/ly(e)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const _y="bit-crusher",jw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;py(_y,jw);class Tf extends ke{constructor(){const e=at(Tf.getDefaults(),arguments,["bits"]);super(e),this.name="BitCrusher",this._bitCrusherWorklet=new Sf({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(ke.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Sf extends Dh{constructor(){const e=at(Sf.getDefaults(),arguments);super(e),this.name="BitCrusherWorklet",this.input=new vt({context:this.context}),this.output=new vt({context:this.context}),this.bits=new Ct({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Dh.getDefaults(),{bits:12})}_audioWorkletName(){return _y}onReady(e){Ln(this.input,e,this.output);const i=e.parameters.get("bits");this.bits.setParam(i)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class xf extends ke{constructor(){const e=at(xf.getDefaults(),arguments,["order"]);super(e),this.name="Chebyshev",this._shaper=new fs({context:this.context,length:4096}),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample}static getDefaults(){return Object.assign(ke.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(e,i,r){return r.has(i)||(i===0?r.set(i,0):i===1?r.set(i,e):r.set(i,2*e*this._getCoefficient(e,i-1,r)-this._getCoefficient(e,i-2,r))),r.get(i)}get order(){return this._order}set order(e){mt(Number.isInteger(e),"'order' must be an integer"),this._order=e,this._shaper.setMap(i=>this._getCoefficient(i,e,new Map))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Wr extends ht{constructor(){const e=at(Wr.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ht.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Ca extends ht{constructor(){const e=at(Ca.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(ht.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class va extends ht{constructor(e){super(e),this.name="StereoEffect",this.input=new vt({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Ir({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new Wr({context:this.context,channels:2}),this._merge=new Ca({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Tt(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Ln(...e),yn(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Ln(...e),yn(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ht.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Nh extends va{constructor(e){super(e),this.feedback=new Ot({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new vt({context:this.context}),this._feedbackR=new vt({context:this.context}),this._feedbackSplit=new Wr({context:this.context,channels:2}),this._feedbackMerge=new Ca({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Tt(this,["feedback"])}static getDefaults(){return Object.assign(va.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class wf extends Nh{constructor(){const e=at(wf.getDefaults(),arguments,["frequency","delayTime","depth"]);super(e),this.name="Chorus",this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new gn({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new gn({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new _n({context:this.context}),this._delayNodeR=new _n({context:this.context}),this.frequency=this._lfoL.frequency,Tt(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(Nh.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const i=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-i,0),this._lfoL.max=this._delayTime+i,this._lfoR.min=Math.max(this._delayTime-i,0),this._lfoR.max=this._delayTime+i}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Af extends ke{constructor(){const e=at(Af.getDefaults(),arguments,["distortion"]);super(e),this.name="Distortion",this._shaper=new fs({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(ke.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const i=e*100,r=Math.PI/180;this._shaper.setMap(c=>Math.abs(c)<.001?0:(3+i)*c*20*r/(Math.PI+i*Math.abs(c)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class No extends ke{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new vt({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Tt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(ke.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Cf extends No{constructor(){const e=at(Cf.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="FeedbackDelay",this._delayNode=new _n({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Tt(this,"delayTime")}static getDefaults(){return Object.assign(No.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class sg extends Nh{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Tt(this,["feedback"])}}class Ef extends sg{constructor(){const e=at(Ef.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="PingPongDelay",this._leftDelay=new _n({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new _n({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new _n({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new Ot({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Tt(this,["delayTime"])}static getDefaults(){return Object.assign(sg.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Of extends No{constructor(){const e=at(Of.getDefaults(),arguments,["pitch"]);super(e),this.name="PitchShift",this._frequency=new Ot({context:this.context}),this._delayA=new _n({maxDelay:1,context:this.context}),this._lfoA=new gn({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new _n({maxDelay:1,context:this.context}),this._lfoB=new gn({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Ir({context:this.context}),this._crossFadeLFO=new gn({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new _n({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Tt(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const i=this.now();this._lfoA.start(i),this._lfoB.start(i),this._crossFadeLFO.start(i),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(No.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let i=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,i=Co(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,i=Co(e)-1),this._frequency.value=i*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Mf extends va{constructor(){const e=at(Mf.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);super(e),this.name="Phaser",this._lfoL=new gn({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new gn({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this.Q=new Ot({context:this.context,value:e.Q,units:"positive"}),this._filtersL=this._makeFilters(e.stages,this._lfoL),this._filtersR=this._makeFilters(e.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),Tt(this,["frequency","Q"])}static getDefaults(){return Object.assign(va.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,i){const r=[];for(let c=0;c<e;c++){const h=this.context.createBiquadFilter();h.type="allpass",this.Q.connect(h.Q),i.connect(h.frequency),r.push(h)}return r}get octaves(){return this._octaves}set octaves(e){this._octaves=e;const i=this._baseFrequency*Math.pow(2,e);this._lfoL.max=i,this._lfoR.max=i}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(e=>e.disconnect()),this._filtersR.forEach(e=>e.disconnect()),this.frequency.dispose(),this}}class Df extends ke{constructor(){const e=at(Df.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const i=this.toSeconds(e.decay);fn(i,.001),this._decay=i;const r=this.toSeconds(e.preDelay);fn(r,0),this._preDelay=r,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(ke.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),fn(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),fn(e,0),this._preDelay=e,this.generate()}generate(){return ae(this,void 0,void 0,function*(){const e=this.ready,i=new Ho(2,this._decay+this._preDelay,this.context.sampleRate),r=new Oo({context:i}),c=new Oo({context:i}),h=new Ca({context:i});r.connect(h,0,0),c.connect(h,0,1);const f=new vt({context:i}).toDestination();h.connect(f),r.start(0),c.start(0),f.gain.setValueAtTime(0,0),f.gain.setValueAtTime(1,this._preDelay),f.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const d=i.render();return this.ready=d.then(qt),yield e,this._convolver.buffer=(yield d).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Nf extends ht{constructor(){super(at(Nf.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Wr({channels:2,context:this.context}),this._midAdd=new Qr({context:this.context}),this.mid=new Ee({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Zr({context:this.context}),this.side=new Ee({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Rf extends ht{constructor(){super(at(Rf.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new vt({context:this.context}),this.side=new vt({context:this.context}),this._left=new Qr({context:this.context}),this._leftMult=new Ee({context:this.context,value:Math.SQRT1_2}),this._right=new Zr({context:this.context}),this._rightMult=new Ee({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Ca({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class ig extends ke{constructor(e){super(e),this.name="MidSideEffect",this._midSideMerge=new Rf({context:this.context}),this._midSideSplit=new Nf({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...e){this._midSend.chain(...e,this._midReturn)}connectEffectSide(...e){this._sideSend.chain(...e,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class kf extends ig{constructor(){const e=at(kf.getDefaults(),arguments,["width"]);super(e),this.name="StereoWidener",this.width=new Ot({context:this.context,value:e.width,units:"normalRange"}),Tt(this,["width"]),this._twoTimesWidthMid=new Ee({context:this.context,value:2}),this._twoTimesWidthSide=new Ee({context:this.context,value:2}),this._midMult=new Ee({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Zr({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),yn(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Ee({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(ig.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class qf extends va{constructor(){const e=at(qf.getDefaults(),arguments,["frequency","depth"]);super(e),this.name="Tremolo",this._lfoL=new gn({context:this.context,type:e.type,min:1,max:0}),this._lfoR=new gn({context:this.context,type:e.type,min:1,max:0}),this._amplitudeL=new vt({context:this.context}),this._amplitudeR=new vt({context:this.context}),this.frequency=new Ot({context:this.context,value:e.frequency,units:"frequency"}),this.depth=new Ot({context:this.context,value:e.depth,units:"normalRange"}),Tt(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=e.spread}static getDefaults(){return Object.assign(va.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Vf extends ke{constructor(){const e=at(Vf.getDefaults(),arguments,["frequency","depth"]);super(e),this.name="Vibrato",this._delayNode=new _n({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new gn({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,Tt(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(ke.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class ce extends ht{constructor(){const e=at(ce.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new vt({context:this.context}),ce._allSolos.has(this.context)||ce._allSolos.set(this.context,new Set),ce._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ht.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),ce._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ce._soloed.has(this.context)||ce._soloed.set(this.context,new Set),ce._soloed.get(this.context).add(this)}_removeSolo(){ce._soloed.has(this.context)&&ce._soloed.get(this.context).delete(this)}_isSoloed(){return ce._soloed.has(this.context)&&ce._soloed.get(this.context).has(this)}_noSolos(){return!ce._soloed.has(this.context)||ce._soloed.has(this.context)&&ce._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ce._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ce._allSolos=new Map;ce._soloed=new Map;class zf extends ht{constructor(){const e=at(zf.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new yf({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Aa({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Tt(this,["pan","volume"])}static getDefaults(){return Object.assign(ht.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class fa extends ht{constructor(){const e=at(fa.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new ce({solo:e.solo,context:this.context}),this._panVol=this.output=new zf({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Tt(this,["pan","volume"])}static getDefaults(){return Object.assign(ht.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return fa.buses.has(e)||fa.buses.set(e,new vt({context:this.context})),fa.buses.get(e)}send(e,i=0){const r=this._getBus(e),c=new vt({context:this.context,units:"decibels",gain:i});return this.connect(c),c.connect(r),c}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}fa.buses=new Map;dn().transport;const gy=dn().destination;dn().destination;dn().listener;dn().draw;dn();const hn=new gf(ya).toDestination(),Hw={Reverb:new Df({decay:3,wet:.3}),Delay:new Cf("8n",.5),Distortion:new Af(.4),Chorus:new wf(4,2.5,.5),Phaser:new Mf({frequency:15,octaves:5,baseFrequency:1e3}),Tremolo:new qf(9,.75).start(),BitCrusher:new Tf(4),PingPongDelay:new Ef("4n",.2),AutoWah:new bf(50,6,-30).start(),Vibrato:new Vf(5,.1).start(),StereoWidener:new kf(.5),FeedbackReverb:new mf(.1),PitchShift:new Of({pitch:-5}),Chebyshev:new xf(50)};let rs=[hn];const pi=[{name:"Basic",options:{oscillator:{type:"sine"}}},{name:"Square Lead",options:{oscillator:{type:"square"},envelope:{attack:.01,decay:.2,sustain:.3,release:1}}},{name:"Saw Pad",options:{oscillator:{type:"sawtooth"},envelope:{attack:.5,decay:.2,sustain:.5,release:2}}},{name:"Triangle Soft",options:{oscillator:{type:"triangle"},envelope:{attack:.1,decay:.1,sustain:.5,release:1}}},{name:"Fat Saw",options:{oscillator:{type:"fatsawtooth"},envelope:{attack:.05,decay:.2,sustain:.4,release:1.5}}},{name:"Bright Pulse",options:{oscillator:{type:"pulse"},envelope:{attack:.02,decay:.1,sustain:.6,release:1}}},{name:"Sub Drone",options:{oscillator:{type:"sine"},envelope:{attack:2,decay:1,sustain:.8,release:3}}},{name:"Harsh Lead",options:{oscillator:{type:"square"},envelope:{attack:.001,decay:.05,sustain:.1,release:.3}}}];function ag(l){pi[l]&&hn.set(pi[l].options)}function Gw(l){hn.filter?hn.filter.frequency.value=l:(hn.filter=new kr(l,"lowpass").toDestination(),hn.disconnect(),hn.connect(hn.filter))}function Yw(l){hn.filter&&(hn.filter.Q.value=l)}function Fw(l){gy.volume.rampTo(l,.1)}function Xw(l){const e=Hw[l];if(!e)return;if(rs.includes(e)){const r=rs.indexOf(e);rs.splice(r,1),e.disconnect()}else rs.push(e),yy()}function yy(){rs.forEach(e=>e.disconnect());let l=rs[0];for(let e=1;e<rs.length;e++)l.connect(rs[e]),l=rs[e];l.connect(gy)}function vy(l="C4",e=.7,i="8n"){hn.triggerAttackRelease(l,i,void 0,e)}function by(){hn.set(pi[0].options),yy()}function Qw({installation:l}){const e=Xt.useRef(null),i=Xt.useRef([]),r=Xt.useRef(null),[c,h]=Xt.useState(l),[f,d]=Xt.useState(0),[p,m]=Xt.useState(!1),[g,y]=Xt.useState(l.fps||6),[b,S]=Xt.useState(1),[T,C]=Xt.useState({x:0,y:0}),[O,N]=Xt.useState(!1),[Y,H]=Xt.useState([]),Q=Xt.useCallback(A=>{const q=e.current,E=q.getContext("2d"),D=i.current[A];if(!D)return;const{width:Z,height:W}=q;E.clearRect(0,0,Z,W),E.save(),E.translate(T.x,T.y),E.scale(b,b),E.drawImage(D,0,0),E.restore();const I=Wv(q,3,3);if(H(I),O){E.save(),E.strokeStyle="rgba(255,255,255,0.6)",E.lineWidth=1;const G=3,et=3,$=Z/G,it=W/et,R=Math.floor(Math.min($,it)*.75);E.font=`${R}px monospace`,E.fillStyle="rgba(255,255,255,0.8)",E.textAlign="center",E.textBaseline="middle";for(let j=1;j<G;j++){const J=j*$;E.beginPath(),E.moveTo(J,0),E.lineTo(J,W),E.stroke()}for(let j=1;j<et;j++){const J=j*it;E.beginPath(),E.moveTo(0,J),E.lineTo(Z,J),E.stroke()}for(let j=0;j<9;j++){const J=Math.floor(j/3),x=j%3*$+$/2,B=J*it+it/2;E.fillText((j+1).toString(),x,B)}E.restore()}},[b,T,O]);return Xt.useEffect(()=>{Promise.all(c.images.map(A=>new Promise(q=>{const E=new Image;E.onload=()=>q(E),E.src=A}))).then(A=>{i.current=A;const q=e.current;q.width=A[0].width,q.height=A[0].height,d(0),Q(0)})},[c,Q]),Xt.useEffect(()=>{const A=q=>{if(/^[1-9]$/.test(q.key)){const E=+q.key-1,D=Y[E];if(D){let Z=D.brightness;q.shiftKey?Z=D.contrast:q.altKey?Z=D.saturation:q.ctrlKey&&(Z=D.edgeDensity);const W=Kv(Z),I=Math.min(1,Z/255);vy(W,"8n",I)}return}switch(q.key){case"ArrowLeft":C(E=>({...E,x:E.x+10}));break;case"ArrowRight":C(E=>({...E,x:E.x-10}));break;case"ArrowUp":C(E=>({...E,y:E.y+10}));break;case"ArrowDown":C(E=>({...E,y:E.y-10}));break;case"a":case"A":d(E=>(E-1+i.current.length)%i.current.length);break;case"d":case"D":d(E=>(E+1)%i.current.length);break;case" ":m(E=>!E);break;case"-":y(E=>Math.max(1,E-1));break;case"=":y(E=>Math.min(60,E+1));break;case"z":S(E=>E*1.1);break;case"x":S(E=>E/1.1);break;case"r":case"R":S(1),C({x:0,y:0});break;case"m":case"M":{const E=window.installations.findIndex(D=>D.slug===c.slug);h(window.installations[(E+1)%window.installations.length]);break}case"h":case"H":N(E=>!E);break}};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[Y,c,p,g,b,T]),Xt.useEffect(()=>(p?r.current=setInterval(()=>d(A=>(A+1)%i.current.length),1e3/g):clearInterval(r.current),()=>clearInterval(r.current)),[p,g]),Xt.useEffect(()=>{Q(f)},[f,Q,O]),dt.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"black"},children:dt.jsx("canvas",{ref:e,style:{cursor:"crosshair",imageRendering:"pixelated",maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto"}})})}function Zw({patches:l,currentPatch:e,onSelectPatch:i,effects:r,onToggleEffect:c}){return dt.jsxs("div",{style:{padding:"1rem",background:"#111",color:"white",fontFamily:"sans-serif"},children:[dt.jsx("h3",{children:"Sound Patches"}),dt.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:l.map((h,f)=>dt.jsx("button",{onClick:()=>i(h),style:{background:h.name===e?.name?"#444":"#222",border:"1px solid #666",color:"white",padding:"0.25rem 0.5rem",cursor:"pointer"},children:h.name||`Patch ${f+1}`},f))}),dt.jsx("h3",{style:{marginTop:"1rem"},children:"Active Effects"}),dt.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:r.map((h,f)=>dt.jsx("button",{onClick:()=>c(h),style:{background:h.enabled?"#0a0":"#222",border:"1px solid #666",color:"white",padding:"0.25rem 0.5rem",cursor:"pointer"},children:h.name},f))})]})}function Iw(){const[l,e]=Xt.useState(0),[i,r]=Xt.useState(1e3),[c,h]=Xt.useState(1),[f,d]=Xt.useState(0),[p,m]=Xt.useState([{name:"Reverb",enabled:!1},{name:"Delay",enabled:!1},{name:"Distortion",enabled:!1}]),g=y=>{m(b=>b.map(S=>S.name===y.name?{...S,enabled:!S.enabled}:S)),Xw(y.name)};return dt.jsxs("div",{style:{position:"absolute",top:20,left:20,background:"rgba(0,0,0,0.7)",color:"white",padding:10,borderRadius:4,fontFamily:"monospace",zIndex:1e3},children:[dt.jsx("div",{children:dt.jsxs("label",{children:["Patch:",dt.jsx("select",{value:l,onChange:y=>{const b=Number(y.target.value);e(b),ag(b)},style:{marginLeft:8},children:pi.map((y,b)=>dt.jsx("option",{value:b,children:y.name},b))})]})}),dt.jsx("div",{style:{marginTop:8},children:dt.jsxs("label",{children:["Cutoff: ",Math.round(i)," Hz",dt.jsx("br",{}),dt.jsx("input",{type:"range",min:"200",max:"5000",value:i,onChange:y=>{const b=Number(y.target.value);r(b),Gw(b)}})]})}),dt.jsx("div",{style:{marginTop:8},children:dt.jsxs("label",{children:["Reso: ",c.toFixed(1),dt.jsx("br",{}),dt.jsx("input",{type:"range",min:"0.5",max:"20",step:"0.1",value:c,onChange:y=>{const b=Number(y.target.value);h(b),Yw(b)}})]})}),dt.jsx("div",{style:{marginTop:8},children:dt.jsxs("label",{children:["Volume: ",f," dB",dt.jsx("br",{}),dt.jsx("input",{type:"range",min:"-40",max:"0",value:f,onChange:y=>{const b=Number(y.target.value);d(b),Fw(b)}})]})}),dt.jsx("div",{style:{marginTop:12},children:dt.jsx(Zw,{patches:pi,currentPatch:pi[l],onSelectPatch:y=>{const b=pi.findIndex(S=>S.name===y.name);b!==-1&&(e(b),ag(b))},effects:p,onToggleEffect:g})}),dt.jsxs("div",{style:{marginTop:12,paddingTop:8,borderTop:"1px solid rgba(255,255,255,0.3)",fontSize:12,lineHeight:1.4},children:[dt.jsx("strong",{children:"Keyboard Shortcuts"}),dt.jsx("br",{}),"M: Next installation",dt.jsx("br",{}),"←/→/↑/↓: Pan image",dt.jsx("br",{}),"A / D: Frame step",dt.jsx("br",{}),"Space: Play / Pause",dt.jsx("br",{}),"– / =: FPS",dt.jsx("br",{}),"Z / X: Zoom",dt.jsx("br",{}),"1–9: Play zone (with Shift, Alt, Ctrl modifiers)",dt.jsx("br",{}),"R: Reset view",dt.jsx("br",{}),"H: Toggle Help (grid overlay)",dt.jsx("br",{}),"F: Toggle Fullscreen",dt.jsx("br",{}),"P: Next synth patch",dt.jsx("br",{})]})]})}async function Ww(){if(await by(),!navigator.requestMIDIAccess){console.warn("Web MIDI not supported");return}try{const l=await navigator.requestMIDIAccess();for(let e of l.inputs.values())e.onmidimessage=Kw}catch(l){console.error("MIDI init failed",l)}}function Kw(l){const[e,i,r]=l.data;if((e&240)===144&&r>0){const h=Cw(i,"midi").toNote();vy(h,"8n",r/127)}}function Jw(){const[l,e]=Xt.useState(null),[i,r]=Xt.useState(null),[c,h]=Xt.useState(!1);Xt.useEffect(()=>{fetch("/driftbook-app/installations.json").then(p=>{if(!p.ok)throw new Error(`HTTP error ${p.status}`);return p.json()}).then(p=>{window.installations=p.installations,e(p)}).catch(p=>{console.error("Error loading installations.json:",p),r(p.message)})},[]);const f=async()=>{try{await Tw(),console.log("AudioContext started"),by(),Ww(),h(!0)}catch(p){console.error("Failed to start audio context:",p),r("Audio context failed to start.")}};if(i)return dt.jsxs("div",{style:{color:"red",padding:"2rem"},children:["Error loading Driftbook: ",i]});if(!l||!l.installations)return dt.jsx("div",{style:{padding:"2rem",color:"white"},children:"Loading Driftbook..."});const d=l.installations[0];return dt.jsx("div",{style:{minHeight:"100vh",background:"black",color:"white"},children:c?dt.jsxs(dt.Fragment,{children:[dt.jsx(Qw,{installation:d}),dt.jsx(Iw,{})]}):dt.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:dt.jsx("button",{style:{fontSize:"1.5rem",padding:"1rem 2rem",backgroundColor:"#333",color:"white",border:"2px solid white",borderRadius:"8px",cursor:"pointer"},onClick:f,children:"Start Driftbook"})})})}Iv.createRoot(document.getElementById("root")).render(dt.jsx(jv.StrictMode,{children:dt.jsx(Jw,{})}));
